/*! For license information please see 374.05df811d.chunk.js.LICENSE.txt */
(self.webpackChunkdexert=self.webpackChunkdexert||[]).push([[374],{23676:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BigNumber:()=>f.gH,FixedFormat:()=>r.gY,FixedNumber:()=>r.I3,_base16To36:()=>f.ii,_base36To16:()=>f.Os,formatFixed:()=>r.gn,parseFixed:()=>r.gs});var f=n(42151),r=n(88807)},3016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AddressZero:()=>f.L,EtherSymbol:()=>a,HashZero:()=>o.j,MaxInt256:()=>r.fw,MaxUint256:()=>r.Is,MinInt256:()=>r.LV,NegativeOne:()=>r.eR,One:()=>r.pD,Two:()=>r.d0,WeiPerEther:()=>r.lQ,Zero:()=>r.XK});var f=n(83042),r=n(63988),o=n(21660);const a="\u039e"},5350:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Wordlist:()=>f.b,logger:()=>f.v,wordlists:()=>r.Y});var f=n(20978),r=n(93657)},99374:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getClientSideQuote:()=>Hf});var f=n(64467),r=n(10467),o=n(54756),a=n.n(o),i=n(37386);class s{constructor(e){this.nodeCache=e}async get(e){return this.nodeCache.get(e)}async set(e,t){return this.nodeCache.set(e,t)}async has(e){return this.nodeCache.has(e)}}let u=new class{constructor(){this.ERROR_MESSAGE='NullLogger does not support. Instantiate a valid logger using "setGlobalLogger"',this.src=!0}addStream(e){throw new Error(this.ERROR_MESSAGE)}addSerializers(e){throw new Error(this.ERROR_MESSAGE)}child(e,t){return this}reopenFileStreams(){throw new Error(this.ERROR_MESSAGE)}level(e){}levels(e,t){}trace(){return!0}debug(){return!0}info(){return!0}warn(){return!0}error(){return!0}fatal(){return!0}addListener(e,t){throw new Error(this.ERROR_MESSAGE)}on(e,t){throw new Error(this.ERROR_MESSAGE)}once(e,t){throw new Error(this.ERROR_MESSAGE)}removeListener(e,t){throw new Error(this.ERROR_MESSAGE)}off(e,t){throw new Error(this.ERROR_MESSAGE)}removeAllListeners(e){throw new Error(this.ERROR_MESSAGE)}setMaxListeners(e){throw new Error(this.ERROR_MESSAGE)}getMaxListeners(){throw new Error(this.ERROR_MESSAGE)}listeners(e){throw new Error(this.ERROR_MESSAGE)}rawListeners(e){throw new Error(this.ERROR_MESSAGE)}emit(e){throw new Error(this.ERROR_MESSAGE)}listenerCount(e){throw new Error(this.ERROR_MESSAGE)}prependListener(e,t){throw new Error(this.ERROR_MESSAGE)}prependOnceListener(e,t){throw new Error(this.ERROR_MESSAGE)}eventNames(){throw new Error(this.ERROR_MESSAGE)}};class c{constructor(e,t,n){this.chainId=e,this.gasPriceProvider=t,this.cache=n,this.GAS_KEY=e=>`gasPrice-${e}`}async getGasPrice(){const e=await this.cache.get(this.GAS_KEY(this.chainId));if(e)return u.info({cachedGasPrice:e},`Got gas station price from local cache: ${e.gasPriceWei}.`),e;u.info("Gas station price local cache miss.");const t=await this.gasPriceProvider.getGasPrice();return await this.cache.set(this.GAS_KEY(this.chainId),t),t}}var l,d,p,h=n(8497),m=n.n(h),b=n(67033),y=n(44441),g=n.n(y),v=n(51618),T=n.n(v),A=n(49767),I=n.n(A),E=n(80708);!function(e){e[e.MAINNET=1]="MAINNET",e[e.GOERLI=5]="GOERLI",e[e.SEPOLIA=11155111]="SEPOLIA",e[e.ARBITRUM_ONE=42161]="ARBITRUM_ONE",e[e.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.CELO=42220]="CELO",e[e.CELO_ALFAJORES=44787]="CELO_ALFAJORES",e[e.BNB=56]="BNB"}(l||(l={})),function(e){e[e.EXACT_INPUT=0]="EXACT_INPUT",e[e.EXACT_OUTPUT=1]="EXACT_OUTPUT"}(d||(d={})),function(e){e[e.ROUND_DOWN=0]="ROUND_DOWN",e[e.ROUND_HALF_UP=1]="ROUND_HALF_UP",e[e.ROUND_UP=2]="ROUND_UP"}(p||(p={}));var w,C,k=m().BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function S(e,t){for(var n=0;n<t.length;n++){var f=t[n];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}function x(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function O(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _=I()(g()),P=I()(T()),D=((w={})[p.ROUND_DOWN]=_.ROUND_DOWN,w[p.ROUND_HALF_UP]=_.ROUND_HALF_UP,w[p.ROUND_UP]=_.ROUND_UP,w),R=((C={})[p.ROUND_DOWN]=0,C[p.ROUND_HALF_UP]=1,C[p.ROUND_UP]=3,C),B=function(){function e(e,t){void 0===t&&(t=m().BigInt(1)),this.numerator=m().BigInt(e),this.denominator=m().BigInt(t)}e.tryParseFraction=function(t){if(t instanceof m()||"number"===typeof t||"string"===typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw new Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var n=e.tryParseFraction(t);return m().equal(this.denominator,n.denominator)?new e(m().add(this.numerator,n.numerator),this.denominator):new e(m().add(m().multiply(this.numerator,n.denominator),m().multiply(n.numerator,this.denominator)),m().multiply(this.denominator,n.denominator))},t.subtract=function(t){var n=e.tryParseFraction(t);return m().equal(this.denominator,n.denominator)?new e(m().subtract(this.numerator,n.numerator),this.denominator):new e(m().subtract(m().multiply(this.numerator,n.denominator),m().multiply(n.numerator,this.denominator)),m().multiply(this.denominator,n.denominator))},t.lessThan=function(t){var n=e.tryParseFraction(t);return m().lessThan(m().multiply(this.numerator,n.denominator),m().multiply(n.numerator,this.denominator))},t.equalTo=function(t){var n=e.tryParseFraction(t);return m().equal(m().multiply(this.numerator,n.denominator),m().multiply(n.numerator,this.denominator))},t.greaterThan=function(t){var n=e.tryParseFraction(t);return m().greaterThan(m().multiply(this.numerator,n.denominator),m().multiply(n.numerator,this.denominator))},t.multiply=function(t){var n=e.tryParseFraction(t);return new e(m().multiply(this.numerator,n.numerator),m().multiply(this.denominator,n.denominator))},t.divide=function(t){var n=e.tryParseFraction(t);return new e(m().multiply(this.numerator,n.denominator),m().multiply(this.denominator,n.numerator))},t.toSignificant=function(e,t,n){void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=p.ROUND_HALF_UP),Number.isInteger(e)||(0,b.A)(!1),e>0||(0,b.A)(!1),_.set({precision:e+1,rounding:D[n]});var f=new _(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return f.toFormat(f.decimalPlaces(),t)},t.toFixed=function(e,t,n){return void 0===t&&(t={groupSeparator:""}),void 0===n&&(n=p.ROUND_HALF_UP),Number.isInteger(e)||(0,b.A)(!1),e>=0||(0,b.A)(!1),P.DP=e,P.RM=R[n],new P(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},x(e,[{key:"quotient",get:function(){return m().divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(m().remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}]),e}(),M=I()(T()),F=function(e){function t(t,n,f){var r;return r=e.call(this,n,f)||this,m().lessThanOrEqual(r.quotient,k)||(0,b.A)(!1),r.currency=t,r.decimalScale=m().exponentiate(m().BigInt(10),m().BigInt(t.decimals)),r}O(t,e),t.fromRawAmount=function(e,n){return new t(e,n)},t.fromFractionalAmount=function(e,n,f){return new t(e,n,f)};var n=t.prototype;return n.add=function(n){this.currency.equals(n.currency)||(0,b.A)(!1);var f=e.prototype.add.call(this,n);return t.fromFractionalAmount(this.currency,f.numerator,f.denominator)},n.subtract=function(n){this.currency.equals(n.currency)||(0,b.A)(!1);var f=e.prototype.subtract.call(this,n);return t.fromFractionalAmount(this.currency,f.numerator,f.denominator)},n.multiply=function(n){var f=e.prototype.multiply.call(this,n);return t.fromFractionalAmount(this.currency,f.numerator,f.denominator)},n.divide=function(n){var f=e.prototype.divide.call(this,n);return t.fromFractionalAmount(this.currency,f.numerator,f.denominator)},n.toSignificant=function(t,n,f){return void 0===t&&(t=6),void 0===f&&(f=p.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,n,f)},n.toFixed=function(t,n,f){return void 0===t&&(t=this.currency.decimals),void 0===f&&(f=p.ROUND_DOWN),t<=this.currency.decimals||(0,b.A)(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,n,f)},n.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),M.DP=this.currency.decimals,new M(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},x(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}]),t}(B),N=new B(m().BigInt(100));function U(e){return new L(e.numerator,e.denominator)}var L=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isPercent=!0,t}O(t,e);var n=t.prototype;return n.add=function(t){return U(e.prototype.add.call(this,t))},n.subtract=function(t){return U(e.prototype.subtract.call(this,t))},n.multiply=function(t){return U(e.prototype.multiply.call(this,t))},n.divide=function(t){return U(e.prototype.divide.call(this,t))},n.toSignificant=function(t,n,f){return void 0===t&&(t=5),e.prototype.multiply.call(this,N).toSignificant(t,n,f)},n.toFixed=function(t,n,f){return void 0===t&&(t=2),e.prototype.multiply.call(this,N).toFixed(t,n,f)},t}(B),G=function(e,t,n,f){Number.isSafeInteger(e)||(0,b.A)(!1),t>=0&&t<255&&Number.isInteger(t)||(0,b.A)(!1),this.chainId=e,this.decimals=t,this.symbol=n,this.name=f},q=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).isNative=!0,t.isToken=!1,t}return O(t,e),t}(G);var j=/^0x[0-9a-fA-F]{40}$/;var V,$=function(e){function t(t,n,f,r,o,a){var i;return(i=e.call(this,t,f,r,o)||this).isNative=!1,i.isToken=!0,i.address=a?function(e){if(j.test(e))return e;throw new Error(e+" is not a valid address.")}(n):function(e){try{return(0,E.getAddress)(e)}catch(t){throw new Error(e+" is not a valid address.")}}(n),i}O(t,e);var n=t.prototype;return n.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},n.sortsBefore=function(e){return this.chainId!==e.chainId&&(0,b.A)(!1),this.address.toLowerCase()===e.address.toLowerCase()&&(0,b.A)(!1),this.address.toLowerCase()<e.address.toLowerCase()},x(t,[{key:"wrapped",get:function(){return this}}]),t}(G),W=((V={})[1]=new $(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),V[3]=new $(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),V[4]=new $(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),V[5]=new $(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),V[42]=new $(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),V[10]=new $(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),V[69]=new $(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),V[42161]=new $(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),V[421611]=new $(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),V),H=function(e){function t(t){return e.call(this,t,18,"ETH","Ether")||this}return O(t,e),t.onChain=function(e){var n;return null!=(n=this._etherCache[e])?n:this._etherCache[e]=new t(e)},t.prototype.equals=function(e){return e.isNative&&e.chainId===this.chainId},x(t,[{key:"wrapped",get:function(){var e=W[this.chainId];return e||(0,b.A)(!1),e}}]),t}(q);H._etherCache={};Number.MAX_SAFE_INTEGER;var K,Y=n(96011),Q=n.n(Y),z=n(41397),X=n.n(z);!function(e){e.Seconds="Seconds",e.Microseconds="Microseconds",e.Milliseconds="Milliseconds",e.Bytes="Bytes",e.Kilobytes="Kilobytes",e.Megabytes="Megabytes",e.Gigabytes="Gigabytes",e.Terabytes="Terabytes",e.Bits="Bits",e.Kilobits="Kilobits",e.Megabits="Megabits",e.Gigabits="Gigabits",e.Terabits="Terabits",e.Percent="Percent",e.Count="Count",e.BytesPerSecond="Bytes/Second",e.KilobytesPerSecond="Kilobytes/Second",e.MegabytesPerSecond="Megabytes/Second",e.GigabytesPerSecond="Gigabytes/Second",e.TerabytesPerSecond="Terabytes/Second",e.BitsPerSecond="Bits/Second",e.KilobitsPerSecond="Kilobits/Second",e.MegabitsPerSecond="Megabits/Second",e.GigabitsPerSecond="Gigabits/Second",e.TerabitsPerSecond="Terabits/Second",e.CountPerSecond="Count/Second",e.None="None"}(K||(K={}));class J{}let Z=new class extends J{constructor(e){super(),this.log=u.child(e||{})}putDimensions(e){this.log=this.log.child(e)}putMetric(e,t,n){this.log.info({key:e,value:t,unit:n},`[Metric]: ${e}: ${t} | ${n||""}`)}};class ee{constructor(e,t,n){this.tokenCache=n,this.CACHE_KEY=e=>`token-list-token-${this.chainId}/${this.tokenList.name}/${this.tokenList.timestamp}/${this.tokenList.version}/${e.address.toLowerCase()}/${e.decimals}/${e.symbol}/${e.name}`,this.chainId=e,this.tokenList=t,this.chainToTokenInfos=X().reduce(this.tokenList.tokens,((e,t)=>{const n=t.chainId.toString();return e[n]||(e[n]=[]),e[n].push(t),e}),{}),this.chainSymbolToTokenInfo=X().mapValues(this.chainToTokenInfos,(e=>X().keyBy(e,"symbol"))),this.chainAddressToTokenInfo=X().mapValues(this.chainToTokenInfos,(e=>X().keyBy(e,(e=>e.address.toLowerCase()))))}static async fromTokenListURI(e,t,n){const f=Date.now(),r=await this.buildTokenList(t);return Z.putMetric("TokenListLoad",Date.now()-f,K.Milliseconds),new ee(e,r,n)}static async buildTokenList(e){u.info(`Getting tokenList from ${e}.`);const t=await Q().get(e);u.info(`Got tokenList from ${e}.`);const{data:n,status:f}=t;if(200!=f)throw u.error({response:t},`Unabled to get token list from ${e}.`),new Error(`Unable to get token list from ${e}`);return n}static async fromTokenList(e,t,n){const f=Date.now(),r=new ee(e,t,n);return Z.putMetric("TokenListLoad",Date.now()-f,K.Milliseconds),r}async getTokens(e){const t={},n={};for(const f of e){const e=await this.getTokenByAddress(f);e&&(t[f.toLowerCase()]=e,e.symbol&&(n[e.symbol.toLowerCase()]=e))}return{getTokenByAddress:e=>t[e.toLowerCase()],getTokenBySymbol:e=>n[e.toLowerCase()],getAllTokens:()=>Object.values(t)}}async getTokenBySymbol(e){let t=e;if("ETH"==e&&(t="WETH"),!this.chainSymbolToTokenInfo[this.chainId.toString()])return;const n=this.chainSymbolToTokenInfo[this.chainId.toString()][t];if(!n)return;return await this.buildToken(n)}async getTokenByAddress(e){if(!this.chainAddressToTokenInfo[this.chainId.toString()])return;const t=this.chainAddressToTokenInfo[this.chainId.toString()][e.toLowerCase()];if(!t)return;return await this.buildToken(t)}async buildToken(e){const t=this.CACHE_KEY(e),n=await this.tokenCache.get(t);if(n)return n;const f=new $(this.chainId,e.address,e.decimals,e.symbol,e.name);return await this.tokenCache.set(t,f),f}}var te,ne=n(98636);!function(e){e[e.MAINNET=1]="MAINNET",e[e.ROPSTEN=3]="ROPSTEN",e[e.RINKEBY=4]="RINKEBY",e[e["G\xd6RLI"]=5]="G\xd6RLI",e[e.KOVAN=42]="KOVAN",e[e.OPTIMISM=10]="OPTIMISM",e[e.OPTIMISTIC_KOVAN=69]="OPTIMISTIC_KOVAN",e[e.ARBITRUM_ONE=42161]="ARBITRUM_ONE",e[e.ARBITRUM_RINKEBY=421611]="ARBITRUM_RINKEBY",e[e.POLYGON=137]="POLYGON",e[e.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",e[e.CELO=42220]="CELO",e[e.CELO_ALFAJORES=44787]="CELO_ALFAJORES",e[e.GNOSIS=100]="GNOSIS",e[e.MOONBEAM=1284]="MOONBEAM"}(te||(te={}));te.MAINNET,te.RINKEBY,te.ROPSTEN,te.KOVAN,te.OPTIMISM,te.OPTIMISTIC_KOVAN,te.ARBITRUM_ONE,te.ARBITRUM_RINKEBY,te.POLYGON,te.POLYGON_MUMBAI,te.G\u00d6RLI,te.CELO_ALFAJORES,te.CELO;const fe=[te.MAINNET,te.KOVAN,te.G\u00d6RLI,te.RINKEBY,te.ROPSTEN],re=[te.OPTIMISM,te.OPTIMISTIC_KOVAN,te.ARBITRUM_ONE,te.ARBITRUM_RINKEBY],oe=[te.MAINNET,te.ROPSTEN,te.RINKEBY,te.G\u00d6RLI,te.KOVAN,te.OPTIMISM,te.OPTIMISTIC_KOVAN,te.ARBITRUM_ONE,te.ARBITRUM_RINKEBY,te.POLYGON,te.POLYGON_MUMBAI];var ae,ie;!function(e){e.MAINNET="mainnet",e.ROPSTEN="ropsten",e.RINKEBY="rinkeby",e["G\xd6RLI"]="goerli",e.KOVAN="kovan",e.OPTIMISM="optimism-mainnet",e.OPTIMISTIC_KOVAN="optimism-kovan",e.ARBITRUM_ONE="arbitrum-mainnet",e.ARBITRUM_RINKEBY="arbitrum-rinkeby",e.POLYGON="polygon-mainnet",e.POLYGON_MUMBAI="polygon-mumbai",e.CELO="celo-mainnet",e.CELO_ALFAJORES="celo-alfajores",e.GNOSIS="gnosis-mainnet",e.MOONBEAM="moonbeam-mainnet"}(ae||(ae={})),function(e){e.ETHER="ETH",e.MATIC="MATIC",e.CELO="CELO",e.GNOSIS="XDAI",e.MOONBEAM="GLMR"}(ie||(ie={}));te.MAINNET,te.RINKEBY,te.G\u00d6RLI,te.KOVAN,te.ROPSTEN,te.OPTIMISM,te.OPTIMISTIC_KOVAN,te.ARBITRUM_ONE,te.ARBITRUM_RINKEBY,te.POLYGON,te.POLYGON_MUMBAI,te.CELO,te.CELO_ALFAJORES,te.GNOSIS,te.MOONBEAM,te.MAINNET,ie.ETHER,te.ROPSTEN,ie.ETHER,te.RINKEBY,ie.ETHER,te.G\u00d6RLI,ie.ETHER,te.KOVAN,ie.ETHER,te.OPTIMISM,ie.ETHER,te.OPTIMISTIC_KOVAN,ie.ETHER,te.ARBITRUM_ONE,ie.ETHER,te.ARBITRUM_RINKEBY,ie.ETHER,te.POLYGON,ie.MATIC,te.POLYGON_MUMBAI,ie.MATIC,te.CELO,ie.CELO,te.CELO_ALFAJORES,ie.CELO,te.GNOSIS,ie.GNOSIS,te.MOONBEAM,ie.MOONBEAM,Object.values(te).map((e=>e.toString()));const se={[te.MAINNET]:new $(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),[te.ROPSTEN]:new $(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),[te.RINKEBY]:new $(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),[te.G\u00d6RLI]:new $(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),[te.KOVAN]:new $(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),[te.OPTIMISM]:new $(te.OPTIMISM,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),[te.OPTIMISTIC_KOVAN]:new $(te.OPTIMISTIC_KOVAN,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),[te.ARBITRUM_ONE]:new $(te.ARBITRUM_ONE,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),[te.ARBITRUM_RINKEBY]:new $(te.ARBITRUM_RINKEBY,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),[te.POLYGON]:new $(te.POLYGON,"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",18,"WMATIC","Wrapped MATIC"),[te.POLYGON_MUMBAI]:new $(te.POLYGON_MUMBAI,"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",18,"WMATIC","Wrapped MATIC"),[te.CELO]:new $(te.CELO,"0x471EcE3750Da237f93B8E339c536989b8978a438",18,"CELO","Celo native asset"),[te.CELO_ALFAJORES]:new $(te.CELO_ALFAJORES,"0xF194afDf50B03e69Bd7D057c1Aa9e10c9954E4C9",18,"CELO","Celo native asset"),[te.GNOSIS]:new $(te.GNOSIS,"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",18,"WXDAI","Wrapped XDAI on Gnosis"),[te.MOONBEAM]:new $(te.MOONBEAM,"0xAcc15dC74880C9944775448304B263D191c6077F",18,"WGLMR","Wrapped GLMR")};class ue extends H{get wrapped(){if(this.chainId in se)return se[this.chainId];throw new Error("Unsupported chain ID")}static onChain(e){var t;return null!==(t=this._cachedExtendedEther[e])&&void 0!==t?t:this._cachedExtendedEther[e]=new ue(e)}}ue._cachedExtendedEther={};const ce="0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",le="0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",de="0x633987602DE5C4F337e3DbF265303A1080324204",pe={...ge(ne.FACTORY_ADDRESS),[te.CELO]:ce,[te.CELO_ALFAJORES]:ce},he={...ge("0x61fFE014bA17989E743c5F6cB21bF9697530B21e"),[te.CELO]:le,[te.CELO_ALFAJORES]:le},me={[te.MAINNET]:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E",[te.RINKEBY]:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E",[te.ROPSTEN]:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E",[te.G\u00d6RLI]:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"},be={...ge("0x1F98415757620B543A52E61c46B32eB19261F984"),[te.CELO]:de,[te.CELO_ALFAJORES]:de},ye="0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45";function ge(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return oe.concat(t).reduce(((t,n)=>(t[n]=e,t)),{})}te.MAINNET,new $(te.MAINNET,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),te.ROPSTEN,new $(te.ROPSTEN,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),te.RINKEBY,new $(te.RINKEBY,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),te.G\u00d6RLI,new $(te.G\u00d6RLI,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),te.KOVAN,new $(te.KOVAN,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),te.OPTIMISM,new $(te.OPTIMISM,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),te.OPTIMISTIC_KOVAN,new $(te.OPTIMISTIC_KOVAN,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),te.ARBITRUM_ONE,new $(te.ARBITRUM_ONE,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),te.ARBITRUM_RINKEBY,new $(te.ARBITRUM_RINKEBY,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether");class ve extends F{}function Te(e){switch(e){case"10000":return ne.FeeAmount.HIGH;case"3000":return ne.FeeAmount.MEDIUM;case"500":return ne.FeeAmount.LOW;case"100":return ne.FeeAmount.LOWEST;default:throw new Error(`Fee amount ${e} not supported.`)}}function Ae(e){switch(e){case ne.FeeAmount.HIGH:return"10000";case ne.FeeAmount.MEDIUM:return"3000";case ne.FeeAmount.LOW:return"500";case ne.FeeAmount.LOWEST:return"100";default:throw new Error(`Fee amount ${e} not supported.`)}}var Ie=n(91180);var Ee=n(27620);const we=e=>{const t=[],n=e.protocol===Ie.Protocol.V3?e.tokenPath:e.path,f=X().map(n,(e=>`${e.symbol}`)),r=e.protocol===Ie.Protocol.V3||e.protocol===Ie.Protocol.MIXED?e.pools:e.pairs,o=X().map(r,(e=>(e instanceof ne.Pool?` -- ${e.fee/1e4}% [${ne.Pool.getAddress(e.token0,e.token1,e.fee)}]`:` -- [${Ee.Rm.getAddress(e.token0,e.token1)}]`)+" --\x3e "));for(let a=0;a<f.length;a++)t.push(f[a]),a<o.length&&t.push(o[a]);return t.join("")},Ce=e=>{const t=X().reduce(e,((e,t)=>e.add(t.amount)),ve.fromRawAmount(e[0].amount.currency,0)),n=X().map(e,(e=>{let{protocol:n,route:f,amount:r}=e;const o=r.divide(t),a=new L(o.numerator,o.denominator);return`[${n==Ie.Protocol.MIXED?"V2 + V3":n}] ${a.toFixed(2)}% = ${we(f)}`}));return X().join(n,", ")},ke=e=>`${e.token0.symbol}/${e.token1.symbol}${e instanceof ne.Pool?`/${e.fee/1e4}%`:""}`;var Se=n(38718),xe=n(17673);const Oe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class _e{static createInterface(){return new Se.KA(Oe)}static connect(e,t){return new xe.Contract(e,Oe,t)}}_e.abi=Oe;const Pe=new $(te.MAINNET,"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",6,"USDC","USD//C"),De=new $(te.MAINNET,"0xdAC17F958D2ee523a2206206994597C13D831ec7",6,"USDT","Tether USD"),Re=new $(te.MAINNET,"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",8,"WBTC","Wrapped BTC"),Be=new $(te.MAINNET,"0x6B175474E89094C44Da98b954EedeAC495271d0F",18,"DAI","Dai Stablecoin"),Me=new $(te.MAINNET,"0x956F47F50A910163D8BF957Cf5846D573E7f87CA",18,"FEI","Fei USD"),Fe=(new $(te.MAINNET,"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984",18,"UNI","Uniswap"),new $(te.ROPSTEN,"0x07865c6e87b9f70255377e024ace6630c1eaa37f",6,"USDC","USD//C")),Ne=new $(te.ROPSTEN,"0x516de3a7a567d81737e3a46ec4ff9cfd1fcb0136",6,"USDT","Tether USD"),Ue=new $(te.ROPSTEN,"0xad6d458402f60fd3bd25163575031acdce07538d",18,"DAI","Dai Stablecoin"),Le=new $(te.RINKEBY,"0x5592ec0cfb4dbc12d3ab100b257153436a1f0fea",18,"DAI","DAI"),Ge=new $(te.RINKEBY,"0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735",18,"DAI","DAI"),qe=new $(te.RINKEBY,"0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b",6,"tUSDC","test USD//C"),je=new $(te.RINKEBY,"0xa689352b7c1cad82864beb1d90679356d3962f4d",18,"USDT","Tether USD"),Ve=new $(te.G\u00d6RLI,"0x07865c6e87b9f70255377e024ace6630c1eaa37f",6,"USDC","USD//C"),$e=new $(te.G\u00d6RLI,"0xe583769738b6dd4e7caf8451050d1948be717679",18,"USDT","Tether USD"),We=new $(te.G\u00d6RLI,"0xa0a5ad2296b38bd3e3eb59aaeaf1589e8d9a29a9",8,"WBTC","Wrapped BTC"),He=new $(te.G\u00d6RLI,"0x11fe4b6ae13d2a6055c8d9cf65c55bac32b5d844",18,"DAI","Dai Stablecoin"),Ke=(new $(te.G\u00d6RLI,"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",18,"UNI","Uni token"),new $(te.KOVAN,"0x31eeb2d0f9b6fd8642914ab10f4dd473677d80df",6,"USDC","USD//C")),Ye=new $(te.KOVAN,"0xa325f1b1ebb748715dfbbaf62e0c6677e137f45d",18,"USDT","Tether USD"),Qe=new $(te.KOVAN,"0xe36bc5d8b689ad6d80e78c3e736670e80d4b329d",8,"WBTC","Wrapped BTC"),ze=new $(te.KOVAN,"0x9dc7b33c3b63fc00ed5472fbd7813edda6a64752",18,"DAI","Dai Stablecoin"),Xe=new $(te.OPTIMISM,"0x7F5c764cBc14f9669B88837ca1490cCa17c31607",6,"USDC","USD//C"),Je=new $(te.OPTIMISM,"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",6,"USDT","Tether USD"),Ze=new $(te.OPTIMISM,"0x68f180fcCe6836688e9084f035309E29Bf0A2095",8,"WBTC","Wrapped BTC"),et=new $(te.OPTIMISM,"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",18,"DAI","Dai Stablecoin"),tt=new $(te.OPTIMISTIC_KOVAN,"0x3b8e53b3ab8e01fb57d0c9e893bc4d655aa67d84",6,"USDC","USD//C"),nt=new $(te.OPTIMISTIC_KOVAN,"0x7F5c764cBc14f9669B88837ca1490cCa17c31607",6,"USDT","Tether USD"),ft=new $(te.OPTIMISTIC_KOVAN,"0x2382a8f65b9120E554d1836a504808aC864E169d",8,"WBTC","Wrapped BTC"),rt=new $(te.OPTIMISTIC_KOVAN,"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",18,"DAI","Dai Stablecoin"),ot=new $(te.ARBITRUM_ONE,"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",6,"USDC","USD//C"),at=new $(te.ARBITRUM_ONE,"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",6,"USDT","Tether USD"),it=new $(te.ARBITRUM_ONE,"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",8,"WBTC","Wrapped BTC"),st=new $(te.ARBITRUM_ONE,"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",18,"DAI","Dai Stablecoin"),ut=new $(te.ARBITRUM_RINKEBY,"0x5364dc963c402aaf150700f38a8ef52c1d7d7f14",18,"DAI","Dai Stablecoin"),ct=new $(te.ARBITRUM_RINKEBY,"0x920b9301c2de92186299cd2abc7199e25b9728b3",6,"UDST","Tether USD"),lt=new $(te.ARBITRUM_RINKEBY,"0x09b98f8b2395d076514037ff7d39a091a536206c",6,"USDC","USD//C"),dt=new $(te.ARBITRUM_RINKEBY,"0x049251a7175071316e089d0616d8b6aacd2c93b8",18,"UNI","Uni token"),pt=new $(te.POLYGON,"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",18,"WMATIC","Wrapped MATIC"),ht=new $(te.POLYGON,"0x7ceb23fd6bc0add59e62ac25578270cff1b9f619",18,"WETH","Wrapped Ether"),mt=new $(te.POLYGON,"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",6,"USDC","USD//C"),bt=(new $(te.POLYGON,"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063",18,"DAI","Dai Stablecoin"),new $(te.POLYGON_MUMBAI,"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",18,"WMATIC","Wrapped MATIC")),yt=(new $(te.POLYGON_MUMBAI,"0xe11a86849d99f524cac3e7a0ec1241828e332c62",6,"USDC","USD//C"),new $(te.POLYGON_MUMBAI,"0x001b3b4d0f3714ca98ba10f6042daebf0b1b7b6f",18,"DAI","Dai Stablecoin")),gt=(new $(te.POLYGON_MUMBAI,"0xa6fa4fb5f76172d178d61b04b0ecd319c5d1c0aa",18,"WETH","Wrapped Ether"),new $(te.CELO,"0x471EcE3750Da237f93B8E339c536989b8978a438",18,"CELO","Celo native asset")),vt=new $(te.CELO,"0xE4fE50cdD716522A56204352f00AA110F731932d",18,"DAI","Dai Stablecoin"),Tt=new $(te.CELO,"0x765DE816845861e75A25fCA122bb6898B8B1282a",18,"CUSD","Celo Dollar Stablecoin"),At=new $(te.CELO,"0xD8763CBa276a3738E6DE85b4b3bF5FDed6D6cA73",18,"CEUR","Celo Euro Stablecoin"),It=new $(te.CELO_ALFAJORES,"0xF194afDf50B03e69Bd7D057c1Aa9e10c9954E4C9",18,"CELO","Celo native asset"),Et=new $(te.CELO_ALFAJORES,"0x7d91E51C8F218f7140188A155f5C75388630B6a8",18,"DAI","Dai Stablecoin"),wt=new $(te.CELO_ALFAJORES,"0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1",18,"CUSD","Celo Dollar Stablecoin"),Ct=new $(te.CELO_ALFAJORES,"0x10c892A6EC43a53E45D0B916B4b7D383B1b78C0F",18,"CEUR","Celo Euro Stablecoin"),kt=new $(te.GNOSIS,"0xddafbb505ad214d7b80b1f830fccc89b60fb7a83",6,"USDC","USDC from Ethereum on Gnosis"),St=new $(te.GNOSIS,"0xe91d153e0b41518a2ce8dd3d7944fa863463a97d",18,"WXDAI","Wrapped XDAI on Gnosis"),xt=new $(te.GNOSIS,"0x8e5bbbb09ed1ebde8674cda39a0c169401db4252",8,"WBTC","Wrapped BTC from Ethereum on Gnosis"),Ot=new $(te.MOONBEAM,"0x818ec0A7Fe18Ff94269904fCED6AE3DaE6d6dC0b",6,"USDC","USD Coin bridged using Multichain"),_t=new $(te.MOONBEAM,"0xAcc15dC74880C9944775448304B263D191c6077F",18,"WGLMR","Wrapped GLMR"),Pt=new $(te.MOONBEAM,"0x818ec0A7Fe18Ff94269904fCED6AE3DaE6d6dC0b",6,"DAI","Dai on moonbeam bridged using Multichain"),Dt=new $(te.MOONBEAM,"0x922D641a426DcFFaeF11680e5358F34d97d112E1",8,"WBTC","Wrapped BTC bridged using Multichain");class Rt{constructor(e,t){this.chainId=e,this.multicall2Provider=t}async getTokens(e,t){const n={},f={},r=X()(e).map((e=>e.toLowerCase())).uniq().value();if(r.length>0){const[e,o]=await Promise.all([this.multicall2Provider.callSameFunctionOnMultipleContracts({addresses:r,contractInterface:_e.createInterface(),functionName:"symbol",providerConfig:t}),this.multicall2Provider.callSameFunctionOnMultipleContracts({addresses:r,contractInterface:_e.createInterface(),functionName:"decimals",providerConfig:t})]),{results:a}=e,{results:i}=o;for(let t=0;t<r.length;t++){const e=r[t],o=a[t],s=i[t];if(!(null===o||void 0===o?void 0:o.success)||!(null===s||void 0===s?void 0:s.success)){u.info({symbolResult:o,decimalResult:s},`Dropping token with address ${e} as symbol or decimal are invalid`);continue}const c=o.result[0],l=s.result[0];n[e.toLowerCase()]=new $(this.chainId,e,l,c),f[c.toLowerCase()]=n[e.toLowerCase()]}u.info(`Got token symbol and decimals for ${Object.values(n).length} out of ${r.length} tokens on-chain ${t?`as of: ${null===t||void 0===t?void 0:t.blockNumber}`:""}`)}return{getTokenByAddress:e=>n[e.toLowerCase()],getTokenBySymbol:e=>f[e.toLowerCase()],getAllTokens:()=>Object.values(n)}}}const Bt={[te.MAINNET]:{WETH:se[te.MAINNET],USDC:Pe,USDT:De,WBTC:Re,DAI:Be,RING:new $(te.MAINNET,"0x9469D013805bFfB7D3DEBe5E7839237e535ec483",18,"RING","RING")},[te.RINKEBY]:{WETH:se[te.RINKEBY],DAI_1:Le,DAI_2:Ge},[te.OPTIMISM]:{USDC:Xe,USDT:Je,WBTC:Ze,DAI:et},[te.OPTIMISTIC_KOVAN]:{USDC:tt,USDT:nt,WBTC:ft,DAI:rt},[te.ARBITRUM_ONE]:{USDC:ot,USDT:at,WBTC:it,DAI:st},[te.ARBITRUM_RINKEBY]:{USDT:ct,UNI:dt,DAI:ut,USDC:lt},[te.POLYGON]:{WMATIC:pt,USDC:mt},[te.POLYGON_MUMBAI]:{WMATIC:bt,DAI:yt},[te.CELO]:{CELO:gt,CUSD:Tt,CEUR:At,DAI:vt},[te.CELO_ALFAJORES]:{CELO:It,CUSD:wt,CEUR:wt,DAI:Et},[te.GNOSIS]:{WXDAI:se[te.GNOSIS],USDC_ETHEREUM_GNOSIS:kt},[te.MOONBEAM]:{USDC:Ot,DAI:Pt,WBTC:Dt,WGLMR:se[te.MOONBEAM]}};class Mt{constructor(e,t,n,f){this.chainId=e,this.tokenCache=t,this.primaryTokenProvider=n,this.fallbackTokenProvider=f,this.CACHE_KEY=(e,t)=>`token-${e}-${t}`}async getTokens(e){const t=Bt[this.chainId];if(t)for(const i of Object.values(t))await this.tokenCache.set(this.CACHE_KEY(this.chainId,i.address.toLowerCase()),i);const n={},f={},r=X()(e).map((e=>e.toLowerCase())).uniq().value(),o=[],a=[];for(const i of r)await this.tokenCache.has(this.CACHE_KEY(this.chainId,i))?(n[i.toLowerCase()]=await this.tokenCache.get(this.CACHE_KEY(this.chainId,i)),f[n[i].symbol]=await this.tokenCache.get(this.CACHE_KEY(this.chainId,i))):o.push(i);if(u.info({addressesToFindInPrimary:o},`Found ${r.length-o.length} out of ${r.length} tokens in local cache. ${o.length>0?`Checking primary token provider for ${o.length} tokens`:""}\n      `),o.length>0){const e=await this.primaryTokenProvider.getTokens(o);for(const t of o){const r=e.getTokenByAddress(t);r?(n[t.toLowerCase()]=r,f[n[t].symbol]=r,await this.tokenCache.set(this.CACHE_KEY(this.chainId,t.toLowerCase()),n[t])):a.push(t)}u.info({addressesToFindInSecondary:a},`Found ${o.length-a.length} tokens in primary. ${this.fallbackTokenProvider?`Checking secondary token provider for ${a.length} tokens`:"No fallback token provider specified. About to return."}`)}if(this.fallbackTokenProvider&&a.length>0){const e=await this.fallbackTokenProvider.getTokens(a);for(const t of a){const r=e.getTokenByAddress(t);r&&(n[t.toLowerCase()]=r,f[n[t].symbol]=r,await this.tokenCache.set(this.CACHE_KEY(this.chainId,t.toLowerCase()),n[t]))}}return{getTokenByAddress:e=>n[e.toLowerCase()],getTokenBySymbol:e=>f[e.toLowerCase()],getAllTokens:()=>Object.values(n)}}}var Ft=n(42151);class Nt{}class Ut extends Nt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;super(),this.provider=e,this.priorityFeePercentile=t,this.blocksToConsider=n}async getGasPrice(){const e=await this.provider.send("eth_feeHistory",[Ft.gH.from(this.blocksToConsider).toHexString().replace("0x0","0x"),"latest",[this.priorityFeePercentile]]),t={baseFeePerGas:X().map(e.baseFeePerGas,(e=>Ft.gH.from(e))),gasUsedRatio:e.gasUsedRatio,oldestBlock:Ft.gH.from(e.oldestBlock),reward:X().map(e.reward,(e=>Ft.gH.from(e[0])))},n=t.baseFeePerGas[t.baseFeePerGas.length-1],f=X().reduce(t.reward,((e,t)=>e.add(t)),Ft.gH.from(0)).div(t.reward.length);u.info({feeHistory:t,feeHistoryReadable:{baseFeePerGas:X().map(t.baseFeePerGas,(e=>e.toString())),oldestBlock:t.oldestBlock.toString(),reward:X().map(t.reward,(e=>e.toString()))},nextBlockBaseFeePerGas:n.toString(),averagePriorityFeePerGas:f.toString()},"Got fee history from provider and computed gas estimate");const r=n.add(f),o=t.oldestBlock.add(this.blocksToConsider);return u.info(`Estimated gas price in wei: ${r} as of block ${o.toString()}`),{gasPriceWei:r}}}var Lt=n(21942),Gt=n.n(Lt);class qt extends Nt{constructor(e){super(),this.url=e}async getGasPrice(){u.info(`About to get gas prices from gas station ${this.url}`);const e=await Gt()((async()=>Q().get(this.url)),{retries:1}),{data:t,status:n}=e;if(200!=n)throw u.error({response:e},`Unabled to get gas price from ${this.url}.`),new Error(`Unable to get gas price from ${this.url}`);u.info({gasPriceResponse:t},'Gas price response from API. About to parse "fast" to big number');const f=Ft.gH.from(t.fast).div(Ft.gH.from(10)).mul(Ft.gH.from(10).pow(9));return u.info(`Gas price in wei: ${f} as of block ${t.blockNum}`),{gasPriceWei:f}}}class jt extends Nt{constructor(e){super(),this.provider=e}async getGasPrice(){const e=await this.provider.getGasPrice();return u.info({gasPriceWei:e},`Got gas price ${e} using eth_gasPrice RPC`),{gasPriceWei:e}}}var Vt=n(54354);const $t=[{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct UniswapInterfaceMulticall.Call[]",name:"calls",type:"tuple[]"}],name:"multicall",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"uint256",name:"gasUsed",type:"uint256"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct UniswapInterfaceMulticall.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"}],Wt="0x608060405234801561001057600080fd5b50610567806100206000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c80630f28c97d146100465780631749e1e3146100645780634d2301cc14610085575b600080fd5b61004e610098565b60405161005b919061041f565b60405180910390f35b6100776100723660046102a7565b61009c565b60405161005b929190610428565b61004e610093366004610286565b610220565b4290565b8051439060609067ffffffffffffffff811180156100b957600080fd5b506040519080825280602002602001820160405280156100f357816020015b6100e061023a565b8152602001906001900390816100d85790505b50905060005b835181101561021a57600080600086848151811061011357fe5b60200260200101516000015187858151811061012b57fe5b60200260200101516020015188868151811061014357fe5b60200260200101516040015192509250925060005a90506000808573ffffffffffffffffffffffffffffffffffffffff1685856040516101839190610403565b60006040518083038160008787f1925050503d80600081146101c1576040519150601f19603f3d011682016040523d82523d6000602084013e6101c6565b606091505b509150915060005a8403905060405180606001604052808415158152602001828152602001838152508989815181106101fb57fe5b60200260200101819052505050505050505080806001019150506100f9565b50915091565b73ffffffffffffffffffffffffffffffffffffffff163190565b604051806060016040528060001515815260200160008152602001606081525090565b803573ffffffffffffffffffffffffffffffffffffffff8116811461028157600080fd5b919050565b600060208284031215610297578081fd5b6102a08261025d565b9392505050565b600060208083850312156102b9578182fd5b823567ffffffffffffffff808211156102d0578384fd5b818501915085601f8301126102e3578384fd5b8135818111156102ef57fe5b6102fc8485830201610506565b81815284810190848601875b848110156103f457813587017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0606081838f03011215610346578a8bfd5b60408051606081018181108b8211171561035c57fe5b8252610369848d0161025d565b8152818401358c82015260608401358a811115610384578d8efd5b8085019450508e603f850112610398578c8dfd5b8b8401358a8111156103a657fe5b6103b68d85601f84011601610506565b93508084528f838287010111156103cb578d8efd5b808386018e86013783018c018d9052908101919091528552509287019290870190600101610308565b50909998505050505050505050565b6000825161041581846020870161052a565b9190910192915050565b90815260200190565b600060408083018584526020828186015281865180845260609350838701915083838202880101838901875b838110156104f6578983037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa001855281518051151584528681015187850152880151888401889052805188850181905260806104b582828801858c0161052a565b96880196601f919091017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01694909401909301925090850190600101610454565b50909a9950505050505050505050565b60405181810167ffffffffffffffff8111828210171561052257fe5b604052919050565b60005b8381101561054557818101518382015260200161052d565b83811115610554576000848401525b5050505056fea164736f6c6343000706000a";class Ht extends xe.ContractFactory{constructor(e){super($t,Wt,e)}deploy(e){return super.deploy(e||{})}getDeployTransaction(e){return super.getDeployTransaction(e||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static createInterface(){return new Se.KA($t)}static connect(e,t){return new xe.Contract(e,$t,t)}}Ht.bytecode=Wt,Ht.abi=$t;class Kt{}class Yt extends Kt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e6;super(),this.chainId=e,this.provider=t,this.gasLimitPerCall=n;const f=be[this.chainId];if(!f)throw new Error(`No address for Uniswap Multicall Contract on chain id: ${e}`);this.multicallContract=Ht.connect(f,this.provider)}async callSameFunctionOnMultipleContracts(e){var t;const{addresses:n,contractInterface:f,functionName:r,functionParams:o,providerConfig:a}=e,i=null!==(t=null===a||void 0===a?void 0:a.blockNumber)&&void 0!==t?t:void 0,s=f.getFunction(r),c=f.encodeFunctionData(s,o),l=X().map(n,(e=>({target:e,callData:c,gasLimit:this.gasLimitPerCall})));u.debug({calls:l},`About to multicall for ${r} across ${n.length} addresses`);const{blockNumber:d,returnData:p}=await this.multicallContract.callStatic.multicall(l,{blockTag:i}),h=[];for(let m=0;m<p.length;m++){const{success:e,returnData:t}=p[m];!e||t.length<=2?(u.debug({result:p[m]},`Invalid result calling ${r} on address ${n[m]}`),h.push({success:!1,returnData:t})):h.push({success:!0,result:f.decodeFunctionResult(s,t)})}return u.debug({results:h},`Results for multicall on ${r} across ${n.length} addresses as of block ${d}`),{blockNumber:d,results:h}}async callSameFunctionOnContractWithMultipleParams(e){var t,n;const{address:f,contractInterface:r,functionName:o,functionParams:a,additionalConfig:i,providerConfig:s}=e,c=r.getFunction(o),l=null!==(t=null===i||void 0===i?void 0:i.gasLimitPerCallOverride)&&void 0!==t?t:this.gasLimitPerCall,d=null!==(n=null===s||void 0===s?void 0:s.blockNumber)&&void 0!==n?n:void 0,p=X().map(a,(e=>{const t=r.encodeFunctionData(c,e);return{target:f,callData:t,gasLimit:l}}));u.debug({calls:p},`About to multicall for ${o} at address ${f} with ${a.length} different sets of params`);const{blockNumber:h,returnData:m}=await this.multicallContract.callStatic.multicall(p,{blockTag:d}),b=[],y=[];for(let g=0;g<m.length;g++){const{success:e,returnData:t,gasUsed:n}=m[g];!e||t.length<=2?(u.debug({result:m[g]},`Invalid result calling ${o} with params ${a[g]}`),b.push({success:!1,returnData:t})):(y.push(n.toNumber()),b.push({success:!0,result:r.decodeFunctionResult(c,t)}))}return u.debug({results:b,functionName:o,address:f},`Results for multicall for ${o} at address ${f} with ${a.length} different sets of params. Results as of block ${h}`),{blockNumber:h,results:b,approxGasUsedPerSuccessCall:Vt.percentile(y,99)}}async callMultipleFunctionsOnSameContract(e){var t,n;const{address:f,contractInterface:r,functionNames:o,functionParams:a,additionalConfig:i,providerConfig:s}=e,c=null!==(t=null===i||void 0===i?void 0:i.gasLimitPerCallOverride)&&void 0!==t?t:this.gasLimitPerCall,l=null!==(n=null===s||void 0===s?void 0:s.blockNumber)&&void 0!==n?n:void 0,d=X().map(o,((e,t)=>{const n=r.getFunction(e),o=a?a[t]:[],i=r.encodeFunctionData(n,o);return{target:f,callData:i,gasLimit:c}}));u.debug({calls:d},`About to multicall for ${o.length} functions at address ${f} with ${null===a||void 0===a?void 0:a.length} different sets of params`);const{blockNumber:p,returnData:h}=await this.multicallContract.callStatic.multicall(d,{blockTag:l}),m=[],b=[];for(let y=0;y<h.length;y++){const e=r.getFunction(o[y]),{success:t,returnData:n,gasUsed:f}=h[y];!t||n.length<=2?(u.debug({result:h[y]},`Invalid result calling ${o[y]} with ${a?a[y]:"0"} params`),m.push({success:!1,returnData:n})):(b.push(f.toNumber()),m.push({success:!0,result:r.decodeFunctionResult(e,n)}))}return u.debug({results:m,functionNames:o,address:f},`Results for multicall for ${o.length} functions at address ${f} with ${a?a.length:" 0"} different sets of params. Results as of block ${p}`),{blockNumber:p,results:m,approxGasUsedPerSuccessCall:Vt.percentile(b,99)}}}const Qt=[te.MAINNET,te.RINKEBY,te.ROPSTEN,te.G\u00d6RLI,te.POLYGON_MUMBAI];class zt extends Nt{constructor(e,t,n){let f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qt;super(),this.chainId=e,this.eip1559GasPriceProvider=t,this.legacyGasPriceProvider=n,this.eipChains=f}async getGasPrice(){return this.eipChains.includes(this.chainId)?this.eip1559GasPriceProvider.getGasPrice():this.legacyGasPriceProvider.getGasPrice()}}class Xt extends ne.Route{constructor(){super(...arguments),this.protocol=Ie.Protocol.V3}}class Jt extends Ee.qh{constructor(){super(...arguments),this.protocol=Ie.Protocol.V2}}class Zt extends Ie.MixedRouteSDK{constructor(){super(...arguments),this.protocol=Ie.Protocol.MIXED}}var en;!function(e){e[e.SUCCESS=1]="SUCCESS",e[e.NO_ROUTE_FOUND=2]="NO_ROUTE_FOUND",e[e.NO_SWAP_NEEDED=3]="NO_SWAP_NEEDED"}(en||(en={}));const tn=[{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"v3SqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"v3InitializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"v3SwapGasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"}],internalType:"struct IMixedRouteQuoterV1.QuoteExactInputSingleV2Params",name:"params",type:"tuple"}],name:"quoteExactInputSingleV2",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IMixedRouteQuoterV1.QuoteExactInputSingleV3Params",name:"params",type:"tuple"}],name:"quoteExactInputSingleV3",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];class nn{static createInterface(){return new Se.KA(tn)}static connect(e,t){return new xe.Contract(e,tn,t)}}nn.abi=tn;const fn=[{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactInputSingleParams",name:"params",type:"tuple"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactOutputSingleParams",name:"params",type:"tuple"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];class rn{static createInterface(){return new Se.KA(fn)}static connect(e,t){return new xe.Contract(e,fn,t)}}rn.abi=fn;class on extends Error{constructor(){super(...arguments),this.name="BlockConflictError"}}class an extends Error{constructor(){super(...arguments),this.name="SuccessRateError"}}class sn extends Error{constructor(){super(...arguments),this.name="ProviderBlockHeaderError"}}class un extends Error{constructor(){super(...arguments),this.name="ProviderTimeoutError"}}class cn extends Error{constructor(){super(...arguments),this.name="ProviderGasError"}}class ln{constructor(e,t,n){let f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{retries:2,minTimeout:25,maxTimeout:250},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{multicallChunk:150,gasLimitPerCall:1e6,quoteMinSuccessRate:.2},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{gasLimitOverride:15e5,multicallChunk:100},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{gasLimitOverride:13e5,multicallChunk:110},i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{baseBlockOffset:0,rollback:{enabled:!1}},s=arguments.length>8?arguments[8]:void 0;this.chainId=e,this.provider=t,this.multicall2Provider=n,this.retryOptions=f,this.batchParams=r,this.gasErrorFailureOverride=o,this.successRateFailureOverrides=a,this.blockNumberConfig=i,this.quoterAddressOverride=s}getQuoterAddress(e){if(this.quoterAddressOverride)return this.quoterAddressOverride;const t=e?me[this.chainId]:he[this.chainId];if(!t)throw new Error(`No address for the quoter contract on chain id: ${this.chainId}`);return t}async getQuotesManyExactIn(e,t,n){return this.getQuotesManyData(e,t,"quoteExactInput",n)}async getQuotesManyExactOut(e,t,n){return this.getQuotesManyData(e,t,"quoteExactOutput",n)}async getQuotesManyData(e,t,n,f){var r;const o=t.some((e=>e.protocol===Ie.Protocol.V2))||t.some((e=>e.protocol===Ie.Protocol.MIXED));this.validateRoutes(t,n,o);let a=this.batchParams.multicallChunk,i=this.batchParams.gasLimitPerCall;const{baseBlockOffset:s,rollback:c}=this.blockNumberConfig,l=await this.provider.getBlockNumber(),d={...f,blockNumber:null!==(r=null===f||void 0===f?void 0:f.blockNumber)&&void 0!==r?r:l+s},p=X()(t).flatMap((t=>{const f=t.protocol===Ie.Protocol.V3?(0,ne.encodeRouteToPath)(t,"quoteExactOutput"==n):(0,Ie.encodeMixedRouteToPath)(t instanceof Jt?new Ie.MixedRouteSDK(t.pairs,t.input,t.output):t);return e.map((e=>[f,`0x${e.quotient.toString(16)}`]))})).value(),h=Math.ceil(p.length/Math.ceil(p.length/a)),m=X().chunk(p,h);let b=X().map(m,(e=>({status:"pending",inputs:e})));u.info(`About to get ${p.length} quotes in chunks of ${h} [${X().map(m,(e=>e.length)).join(",")}] ${i?`with a gas limit override of ${i}`:""} and block number: ${await d.blockNumber} [Original before offset: ${l}].`);let y=!1,g=!1,v=0,T=!1,A=!1,I=!1,E=!1,w=!1,C=!1,k=1;const S=b.length;let x=0;const{results:O,blockNumber:_,approxGasUsedPerSuccessCall:P}=await Gt()((async(e,t)=>{T=!1,k=t;const[f,r,s]=this.partitionQuotes(b);u.info(`Starting attempt: ${t}.\n          Currently ${f.length} success, ${r.length} failed, ${s.length} pending.\n          Gas limit override: ${i} Block number override: ${d.blockNumber}.`),b=await Promise.all(X().map(b,(async(e,t)=>{if("success"==e.status)return e;const{inputs:f}=e;try{x+=1;const e=await this.multicall2Provider.callSameFunctionOnContractWithMultipleParams({address:this.getQuoterAddress(o),contractInterface:o?nn.createInterface():rn.createInterface(),functionName:n,functionParams:f,providerConfig:d,additionalConfig:{gasLimitPerCallOverride:i}}),t=this.validateSuccessRate(e.results,y);return t?{status:"failed",inputs:f,reason:t,results:e}:{status:"success",inputs:f,results:e}}catch(r){return r.message.includes("header not found")?{status:"failed",inputs:f,reason:new sn(r.message.slice(0,500))}:r.message.includes("timeout")?{status:"failed",inputs:f,reason:new un(`Req ${t}/${b.length}. Request had ${f.length} inputs. ${r.message.slice(0,500)}`)}:r.message.includes("out of gas")?{status:"failed",inputs:f,reason:new cn(r.message.slice(0,500))}:{status:"failed",inputs:f,reason:new Error(`Unknown error from provider: ${r.message.slice(0,500)}`)}}})));const[l,h,S]=this.partitionQuotes(b);if(S.length>0)throw new Error("Pending quote after waiting for all promises.");let O=!1;this.validateBlockNumbers(l,m.length,i)&&(O=!0);const _=X().map(h,(e=>e.reason.name)).join(", ");if(h.length>0){u.info(`On attempt ${t}: ${h.length}/${b.length} quotes failed. Reasons: ${_}`);for(const e of h){const{reason:n}=e;if(u.info({error:n},`[QuoteFetchError] Attempt ${t}. ${n.message}`),n instanceof on)I||(Z.putMetric("QuoteBlockConflictErrorRetry",1,K.Count),I=!0),O=!0;else if(n instanceof sn){if(g||(Z.putMetric("QuoteBlockHeaderNotFoundRetry",1,K.Count),g=!0),T||(v+=1,T=!0),c.enabled){const{rollbackBlockOffset:e,attemptsBeforeRollback:n}=c;v>=n&&!A&&(u.info(`Attempt ${t}. Have failed due to block header ${v-1} times. Rolling back block number by ${e} for next retry`),d.blockNumber=d.blockNumber?await d.blockNumber+e:await this.provider.getBlockNumber()+e,O=!0,A=!0)}}else n instanceof un?w||(Z.putMetric("QuoteTimeoutRetry",1,K.Count),w=!0):n instanceof cn?(E||(Z.putMetric("QuoteOutOfGasExceptionRetry",1,K.Count),E=!0),i=this.gasErrorFailureOverride.gasLimitOverride,a=this.gasErrorFailureOverride.multicallChunk,O=!0):n instanceof an?y||(Z.putMetric("QuoteSuccessRateRetry",1,K.Count),y=!0,i=this.successRateFailureOverrides.gasLimitOverride,a=this.successRateFailureOverrides.multicallChunk,O=!0):C||(Z.putMetric("QuoteUnknownReasonRetry",1,K.Count),C=!0)}}if(O){u.info(`Attempt ${t}. Resetting all requests to pending for next attempt.`);const e=Math.ceil(p.length/Math.ceil(p.length/a)),n=X().chunk(p,e);b=X().map(n,(e=>({status:"pending",inputs:e})))}if(h.length>0){if((this.chainId==te.ARBITRUM_ONE||this.chainId==te.ARBITRUM_RINKEBY)&&X().every(h,(e=>e.reason instanceof cn))&&t==this.retryOptions.retries)return u.error("Failed to get quotes on Arbitrum due to provider gas error issue. Overriding error to return 0 quotes."),{results:[],blockNumber:Ft.gH.from(0),approxGasUsedPerSuccessCall:0};throw new Error(`Failed to get ${h.length} quotes. Reasons: ${_}`)}const P=X().map(l,(e=>e.results));return{results:X().flatMap(P,(e=>e.results)),blockNumber:Ft.gH.from(P[0].blockNumber),approxGasUsedPerSuccessCall:Vt.percentile(X().map(P,(e=>e.approxGasUsedPerSuccessCall)),100)}}),{retries:2,...this.retryOptions}),D=this.processQuoteResults(O,t,e);Z.putMetric("QuoteApproxGasUsedPerSuccessfulCall",P,K.Count),Z.putMetric("QuoteNumRetryLoops",k-1,K.Count),Z.putMetric("QuoteTotalCallsToProvider",x,K.Count),Z.putMetric("QuoteExpectedCallsToProvider",S,K.Count),Z.putMetric("QuoteNumRetriedCalls",x-S,K.Count);const[R,B]=X()(D).flatMap((e=>e[1])).partition((e=>null!=e.quote)).value();return u.info(`Got ${R.length} successful quotes, ${B.length} failed quotes. Took ${k-1} attempt loops. Total calls made to provider: ${x}. Have retried for timeout: ${w}`),{routesWithQuotes:D,blockNumber:_}}partitionQuotes(e){return[X().filter(e,(e=>"success"==e.status)),X().filter(e,(e=>"failed"==e.status)),X().filter(e,(e=>"pending"==e.status))]}processQuoteResults(e,t,n){const f=[],r=X().chunk(e,n.length),o=[];for(let a=0;a<r.length;a++){const e=t[a],i=r[a],s=X().map(i,((t,f)=>{const r=n[f];if(!t.success){const t=100/n.length*(f+1),a=r.toFixed(Math.min(r.currency.decimals,2)),i=we(e);return o.push({route:i,percent:t,amount:a}),{amount:r,quote:null,sqrtPriceX96AfterList:null,gasEstimate:null,initializedTicksCrossedList:null}}return{amount:r,quote:t.result[0],sqrtPriceX96AfterList:t.result[1],initializedTicksCrossedList:t.result[2],gasEstimate:t.result[3]}}));f.push([e,s])}return X().forEach(X().chunk(o,80),((e,t)=>{const n=X().groupBy(e,(e=>e.route)),f=X().mapValues(n,(e=>X()(e).map((e=>`${e.percent}%[${e.amount}]`)).join(",")));u.info({failedQuotes:X().map(f,((e,t)=>`${t} : ${e}`))},`Failed on chain quotes for routes Part ${t}/${Math.ceil(o.length/80)}`)})),f}validateBlockNumbers(e,t,n){if(e.length<=1)return null;const f=X().map(e,(e=>e.results)),r=X().map(f,(e=>e.blockNumber)),o=X()(r).map((e=>e.toNumber())).uniq().value();return 1==o.length?null:new on(`Quotes returned from different blocks. ${o}. ${t} calls were made with gas limit ${n}`)}validateSuccessRate(e,t){const n=e.length,f=1*e.filter((e=>e.success)).length/n,{quoteMinSuccessRate:r}=this.batchParams;if(f<r)return t?void u.info(`Quote success rate still below threshold despite retry. Continuing. ${r}: ${f}`):new an(`Quote success rate below threshold of ${r}: ${f}`)}validateRoutes(e,t,n){if(e.some((e=>e.protocol===Ie.Protocol.V3))&&n)throw new Error("Cannot use mixed route quoter with V3 routes");if("quoteExactOutput"===t&&n)throw new Error("Cannot call quoteExactOutput with V2 or Mixed routes")}}const dn=[{inputs:[{internalType:"address",name:"_factoryV2",type:"address"},{internalType:"address",name:"factoryV3",type:"address"},{internalType:"address",name:"_positionManager",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"callPositionManager",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"paths",type:"bytes[]"},{internalType:"uint128[]",name:"amounts",type:"uint128[]"},{internalType:"uint24",name:"maximumTickDivergence",type:"uint24"},{internalType:"uint32",name:"secondsAgo",type:"uint32"}],name:"checkOracleSlippage",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint24",name:"maximumTickDivergence",type:"uint24"},{internalType:"uint32",name:"secondsAgo",type:"uint32"}],name:"checkOracleSlippage",outputs:[],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factoryV2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getApprovalType",outputs:[{internalType:"enum IApproveAndCall.ApprovalType",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"}],internalType:"struct IApproveAndCall.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],internalType:"struct IApproveAndCall.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"previousBlockhash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"positionManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"pull",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapExactTokensForTokens",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapTokensForExactTokens",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"uniswapV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"wrapETH",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}],pn="0x6101006040526000196000553480156200001857600080fd5b5060405162006135380380620061358339810160408190526200003b9162000087565b6001600160601b0319606094851b811660805291841b821660a05291831b811660c052911b1660e052620000e3565b80516001600160a01b03811681146200008257600080fd5b919050565b600080600080608085870312156200009d578384fd5b620000a8856200006a565b9350620000b8602086016200006a565b9250620000c8604086016200006a565b9150620000d8606086016200006a565b905092959194509250565b60805160601c60a05160601c60c05160601c60e05160601c615fb162000184600039806102c15280610b3c52806112ad52806113d7528061147e52806116af52806117d95280612d8f5280612def5280612e70525080611e4c52806124df5280613cdb52508061166f5280611b1a5280611e9c52806132a6525080610c625280610d365280610fe2528061164b5280612fc252806131855250615fb16000f3fe6080604052600436106102a45760003560e01c80639b2c0a371161016e578063dee00f35116100cb578063f100b2051161007f578063f2d5d56b11610064578063f2d5d56b1461066e578063f3995c6714610681578063fa461e33146106945761034f565b8063f100b2051461063b578063f25801a71461064e5761034f565b8063e0e189a0116100b0578063e0e189a0146105f5578063e90a182f14610608578063efdeed8e1461061b5761034f565b8063dee00f35146105b5578063df2ab5bb146105e25761034f565b8063b858183f11610122578063c45a015511610107578063c45a01551461057a578063cab372ce1461058f578063d4ef38de146105a25761034f565b8063b858183f14610554578063c2e3140a146105675761034f565b8063ab3fdd5011610153578063ab3fdd501461051b578063ac9650d81461052e578063b3a2af13146105415761034f565b80639b2c0a37146104f5578063a4a78f0c146105085761034f565b8063472b43f31161021c578063571ac8b0116101d0578063639d71a9116101b5578063639d71a9146104b857806368e0d4e1146104cb578063791b98bc146104e05761034f565b8063571ac8b0146104925780635ae401dc146104a55761034f565b80634961699711610201578063496169971461044a5780634aa4a4fc1461045d5780635023b4df1461047f5761034f565b8063472b43f31461042457806349404b7c146104375761034f565b80631c58db4f116102735780633068c554116102585780633068c554146103eb57806342712a67146103fe5780634659a494146104115761034f565b80631c58db4f146103b85780631f0464d1146103cb5761034f565b806304e45aaf1461035457806309b813461461037d57806311ed56c91461039057806312210e8a146103b05761034f565b3661034f573373ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000161461034d57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600960248201527f4e6f742057455448390000000000000000000000000000000000000000000000604482015290519081900360640190fd5b005b600080fd5b610367610362366004615543565b6106b4565b6040516103749190615dfd565b60405180910390f35b61036761038b3660046155de565b61083c565b6103a361039e366004615638565b61091c565b6040516103749190615b7a565b61034d610b28565b61034d6103c63660046157bb565b610b3a565b6103de6103d93660046152a7565b610bbe565b6040516103749190615afc565b61034d6103f93660046150d8565b610c48565b61036761040c366004615885565b610c5b565b61034d61041f366004615121565b610e35565b610367610432366004615885565b610ef5565b61034d6104453660046157eb565b6112a9565b61034d6104583660046157bb565b61146f565b34801561046957600080fd5b5061047261147c565b6040516103749190615a3c565b61036761048d366004615616565b6114a0565b61034d6104a0366004614feb565b611589565b6103de6104b33660046152a7565b6115bc565b61034d6104c6366004614feb565b611635565b3480156104d757600080fd5b50610472611649565b3480156104ec57600080fd5b5061047261166d565b61034d61050336600461581a565b611691565b61034d610516366004615121565b6118a7565b61034d610529366004614feb565b61197c565b6103de61053c36600461517c565b6119ba565b6103a361054f3660046152f1565b611b14565b61036761056236600461549d565b611bd2565b61034d610575366004615121565b611d95565b34801561058657600080fd5b50610472611e4a565b61034d61059d366004614feb565b611990565b61034d6105b0366004615858565b611e6e565b3480156105c157600080fd5b506105d56105d036600461500e565b611e7a565b6040516103749190615b8d565b61034d6105f0366004615039565b612027565b61034d61060336600461507a565b61213e565b61034d61061636600461500e565b6122a4565b34801561062757600080fd5b5061034d6106363660046151bc565b6122b3565b6103a3610649366004615627565b612305565b34801561065a57600080fd5b5061034d610669366004615324565b6123a5565b61034d61067c36600461500e565b6123f6565b61034d61068f366004615121565b612402565b3480156106a057600080fd5b5061034d6106af3660046153b8565b61249a565b600080600083608001511415610771575081516040517f70a0823100000000000000000000000000000000000000000000000000000000815260019173ffffffffffffffffffffffffffffffffffffffff16906370a082319061071b903090600401615a3c565b60206040518083038186803b15801561073357600080fd5b505afa158015610747573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061076b91906157d3565b60808401525b6107ed836080015184606001518560c001516040518060400160405280886000015189604001518a602001516040516020016107af939291906159aa565b6040516020818303038152906040528152602001866107ce57336107d0565b305b73ffffffffffffffffffffffffffffffffffffffff1690526125de565b91508260a00151821015610836576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c7d565b60405180910390fd5b50919050565b60006108b0604083018035906108559060208601614feb565b604080518082019091526000908061086d8880615e41565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050908252503360209091015261278f565b505060005460608201358111156108f3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c0f565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600055919050565b604080516101608101909152606090610b20907f8831645600000000000000000000000000000000000000000000000000000000908061095f6020870187614feb565b73ffffffffffffffffffffffffffffffffffffffff16815260200185602001602081019061098d9190614feb565b73ffffffffffffffffffffffffffffffffffffffff1681526020016109b860608701604088016157a1565b62ffffff1681526020016109d26080870160608801615379565b60020b81526020016109ea60a0870160808801615379565b60020b8152602090810190610a0a90610a0590880188614feb565b612976565b8152602001610a25866020016020810190610a059190614feb565b815260a0860135602082015260c08601356040820152606001610a4f610100870160e08801614feb565b73ffffffffffffffffffffffffffffffffffffffff1681526020017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff815250604051602401610a9e9190615cf8565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff0000000000000000000000000000000000000000000000000000000090931692909217909152611b14565b90505b919050565b4715610b3857610b383347612a1b565b565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663d0e30db0826040518263ffffffff1660e01b81526004016000604051808303818588803b158015610ba257600080fd5b505af1158015610bb6573d6000803e3d6000fd5b505050505050565b60608380600143034014610c3357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600960248201527f426c6f636b686173680000000000000000000000000000000000000000000000604482015290519081900360640190fd5b610c3d84846119ba565b91505b509392505050565b610c55848433858561213e565b50505050565b6000610cbb7f000000000000000000000000000000000000000000000000000000000000000087868680806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250612b6992505050565b600081518110610cc757fe5b6020026020010151905084811115610d0b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c0f565b610da484846000818110610d1b57fe5b9050602002016020810190610d309190614feb565b33610d9e7f000000000000000000000000000000000000000000000000000000000000000088886000818110610d6257fe5b9050602002016020810190610d779190614feb565b89896001818110610d8457fe5b9050602002016020810190610d999190614feb565b612ca2565b84612d8d565b73ffffffffffffffffffffffffffffffffffffffff821660011415610dcb57339150610dee565b73ffffffffffffffffffffffffffffffffffffffff821660021415610dee573091505b610e2c848480806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250869250612f6b915050565b95945050505050565b604080517f8fcbaf0c00000000000000000000000000000000000000000000000000000000815233600482015230602482015260448101879052606481018690526001608482015260ff851660a482015260c4810184905260e48101839052905173ffffffffffffffffffffffffffffffffffffffff881691638fcbaf0c9161010480830192600092919082900301818387803b158015610ed557600080fd5b505af1158015610ee9573d6000803e3d6000fd5b50505050505050505050565b60008086610fab575060018484600081610f0b57fe5b9050602002016020810190610f209190614feb565b73ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401610f589190615a3c565b60206040518083038186803b158015610f7057600080fd5b505afa158015610f84573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610fa891906157d3565b96505b61103685856000818110610fbb57fe5b9050602002016020810190610fd09190614feb565b82610fdb5733610fdd565b305b6110307f00000000000000000000000000000000000000000000000000000000000000008989600081811061100e57fe5b90506020020160208101906110239190614feb565b8a8a6001818110610d8457fe5b8a612d8d565b73ffffffffffffffffffffffffffffffffffffffff83166001141561105d57339250611080565b73ffffffffffffffffffffffffffffffffffffffff831660021415611080573092505b600085857fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81018181106110b057fe5b90506020020160208101906110c59190614feb565b73ffffffffffffffffffffffffffffffffffffffff166370a08231856040518263ffffffff1660e01b81526004016110fd9190615a3c565b60206040518083038186803b15801561111557600080fd5b505afa158015611129573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061114d91906157d3565b905061118d868680806020026020016040519081016040528093929190818152602001838360200280828437600092019190915250889250612f6b915050565b6112628187877fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81018181106111bf57fe5b90506020020160208101906111d49190614feb565b73ffffffffffffffffffffffffffffffffffffffff166370a08231876040518263ffffffff1660e01b815260040161120c9190615a3c565b60206040518083038186803b15801561122457600080fd5b505afa158015611238573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061125c91906157d3565b90613270565b92508683101561129e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c7d565b505095945050505050565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b15801561133257600080fd5b505afa158015611346573d6000803e3d6000fd5b505050506040513d602081101561135c57600080fd5b50519050828110156113cf57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f496e73756666696369656e742057455448390000000000000000000000000000604482015290519081900360640190fd5b801561146a577f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16632e1a7d4d826040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b15801561144857600080fd5b505af115801561145c573d6000803e3d6000fd5b5050505061146a8282612a1b565b505050565b61147981336112a9565b50565b7f000000000000000000000000000000000000000000000000000000000000000081565b6000611549608083018035906114b99060608601614feb565b6114c960e0860160c08701614feb565b60405180604001604052808760200160208101906114e79190614feb565b6114f760608a0160408b016157a1565b61150460208b018b614feb565b604051602001611516939291906159aa565b60405160208183030381529060405281526020013373ffffffffffffffffffffffffffffffffffffffff1681525061278f565b90508160a001358111156108f3576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c0f565b6115b3817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff613280565b61147957600080fd5b606083806115c86133cc565b1115610c3357604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f5472616e73616374696f6e20746f6f206f6c6400000000000000000000000000604482015290519081900360640190fd5b611640816000613280565b61158957600080fd5b7f000000000000000000000000000000000000000000000000000000000000000081565b7f000000000000000000000000000000000000000000000000000000000000000081565b6000821180156116a2575060648211155b6116ab57600080fd5b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b15801561173457600080fd5b505afa158015611748573d6000803e3d6000fd5b505050506040513d602081101561175e57600080fd5b50519050848110156117d157604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f496e73756666696369656e742057455448390000000000000000000000000000604482015290519081900360640190fd5b80156118a0577f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16632e1a7d4d826040518263ffffffff1660e01b815260040180828152602001915050600060405180830381600087803b15801561184a57600080fd5b505af115801561185e573d6000803e3d6000fd5b50505050600061271061187a85846133d090919063ffffffff16565b8161188157fe5b0490508015611894576118948382612a1b565b610bb685828403612a1b565b5050505050565b604080517fdd62ed3e00000000000000000000000000000000000000000000000000000000815233600482015230602482015290517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9173ffffffffffffffffffffffffffffffffffffffff89169163dd62ed3e91604480820192602092909190829003018186803b15801561193c57600080fd5b505afa158015611950573d6000803e3d6000fd5b505050506040513d602081101561196657600080fd5b50511015610bb657610bb6868686868686610e35565b611987816000613280565b61199057600080fd5b6115b3817ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe613280565b60608167ffffffffffffffff811180156119d357600080fd5b50604051908082528060200260200182016040528015611a0757816020015b60608152602001906001900390816119f25790505b50905060005b82811015611b0d5760008030868685818110611a2557fe5b9050602002810190611a379190615e41565b604051611a45929190615a10565b600060405180830381855af49150503d8060008114611a80576040519150601f19603f3d011682016040523d82523d6000602084013e611a85565b606091505b509150915081611aeb57604481511015611a9e57600080fd5b60048101905080806020019051810190611ab89190615433565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d9190615b7a565b80848481518110611af857fe5b60209081029190910101525050600101611a0d565b5092915050565b606060007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1683604051611b5d9190615a20565b6000604051808303816000865af19150503d8060008114611b9a576040519150601f19603f3d011682016040523d82523d6000602084013e611b9f565b606091505b50925090508061083657604482511015611bb857600080fd5b60048201915081806020019051810190611ab89190615433565b600080600083604001511415611ca357600190506000611bf584600001516133f4565b50506040517f70a0823100000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff8216906370a0823190611c4c903090600401615a3c565b60206040518083038186803b158015611c6457600080fd5b505afa158015611c78573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611c9c91906157d3565b6040850152505b600081611cb05733611cb2565b305b90505b6000611cc48560000151613425565b9050611d1d856040015182611cdd578660200151611cdf565b305b60006040518060400160405280611cf98b6000015161342d565b81526020018773ffffffffffffffffffffffffffffffffffffffff168152506125de565b60408601528015611d3d578451309250611d369061343c565b8552611d4a565b8460400151935050611d50565b50611cb5565b8360600151831015611d8e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c7d565b5050919050565b604080517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523360048201523060248201529051869173ffffffffffffffffffffffffffffffffffffffff89169163dd62ed3e91604480820192602092909190829003018186803b158015611e0a57600080fd5b505afa158015611e1e573d6000803e3d6000fd5b505050506040513d6020811015611e3457600080fd5b50511015610bb657610bb6868686868686612402565b7f000000000000000000000000000000000000000000000000000000000000000081565b61146a83338484611691565b6000818373ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e307f00000000000000000000000000000000000000000000000000000000000000006040518363ffffffff1660e01b8152600401611ed8929190615a5d565b60206040518083038186803b158015611ef057600080fd5b505afa158015611f04573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611f2891906157d3565b10611f3557506000612021565b611f5f837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff613280565b15611f6c57506001612021565b611f96837ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe613280565b15611fa357506002612021565b611fae836000613280565b611fb757600080fd5b611fe1837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff613280565b15611fee57506003612021565b612018837ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe613280565b1561034f575060045b92915050565b60008373ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b15801561209057600080fd5b505afa1580156120a4573d6000803e3d6000fd5b505050506040513d60208110156120ba57600080fd5b505190508281101561212d57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f496e73756666696369656e7420746f6b656e0000000000000000000000000000604482015290519081900360640190fd5b8015610c5557610c55848383613471565b60008211801561214f575060648211155b61215857600080fd5b60008573ffffffffffffffffffffffffffffffffffffffff166370a08231306040518263ffffffff1660e01b8152600401808273ffffffffffffffffffffffffffffffffffffffff16815260200191505060206040518083038186803b1580156121c157600080fd5b505afa1580156121d5573d6000803e3d6000fd5b505050506040513d60208110156121eb57600080fd5b505190508481101561225e57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f496e73756666696369656e7420746f6b656e0000000000000000000000000000604482015290519081900360640190fd5b8015610bb657600061271061227383866133d0565b8161227a57fe5b049050801561228e5761228e878483613471565b61229b8786838503613471565b50505050505050565b6122af828233612027565b5050565b6000806122c1868685613646565b915091508362ffffff1681830312610bb6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c46565b6060610b2063219f5d1760e01b6040518060c001604052808560400135815260200161233d866000016020810190610a059190614feb565b8152602001612358866020016020810190610a059190614feb565b815260200185606001358152602001856080013581526020017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff815250604051602401610a9e9190615cb4565b6000806123b28584613859565b915091508362ffffff16818303126118a0576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615c46565b6122af82333084613ae1565b604080517fd505accf000000000000000000000000000000000000000000000000000000008152336004820152306024820152604481018790526064810186905260ff8516608482015260a4810184905260c48101839052905173ffffffffffffffffffffffffffffffffffffffff88169163d505accf9160e480830192600092919082900301818387803b158015610ed557600080fd5b60008413806124a95750600083135b6124b257600080fd5b60006124c08284018461564a565b905060008060006124d484600001516133f4565b9250925092506125067f0000000000000000000000000000000000000000000000000000000000000000848484613cbe565b5060008060008a13612547578473ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161089612578565b8373ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff16108a5b915091508115612597576125928587602001513384612d8d565b610ee9565b85516125a290613425565b156125c75785516125b29061343c565b86526125c1813360008961278f565b50610ee9565b80600081905550610ee98487602001513384612d8d565b600073ffffffffffffffffffffffffffffffffffffffff8416600114156126075733935061262a565b73ffffffffffffffffffffffffffffffffffffffff84166002141561262a573093505b600080600061263c85600001516133f4565b9194509250905073ffffffffffffffffffffffffffffffffffffffff8083169084161060008061266d868686613cd4565b73ffffffffffffffffffffffffffffffffffffffff1663128acb088b856126938f613d12565b73ffffffffffffffffffffffffffffffffffffffff8e16156126b5578d6126db565b876126d45773fffd8963efd1fc6a506488495d951d5263988d256126db565b6401000276a45b8d6040516020016126ec9190615da6565b6040516020818303038152906040526040518663ffffffff1660e01b815260040161271b959493929190615a84565b6040805180830381600087803b15801561273457600080fd5b505af1158015612748573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061276c9190615395565b915091508261277b578161277d565b805b6000039b9a5050505050505050505050565b600073ffffffffffffffffffffffffffffffffffffffff8416600114156127b8573393506127db565b73ffffffffffffffffffffffffffffffffffffffff8416600214156127db573093505b60008060006127ed85600001516133f4565b9194509250905073ffffffffffffffffffffffffffffffffffffffff8084169083161060008061281e858786613cd4565b73ffffffffffffffffffffffffffffffffffffffff1663128acb088b856128448f613d12565b60000373ffffffffffffffffffffffffffffffffffffffff8e1615612869578d61288f565b876128885773fffd8963efd1fc6a506488495d951d5263988d2561288f565b6401000276a45b8d6040516020016128a09190615da6565b6040516020818303038152906040526040518663ffffffff1660e01b81526004016128cf959493929190615a84565b6040805180830381600087803b1580156128e857600080fd5b505af11580156128fc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906129209190615395565b9150915060008361293557818360000361293b565b82826000035b909850905073ffffffffffffffffffffffffffffffffffffffff8a16612967578b811461296757600080fd5b50505050505050949350505050565b6040517f70a0823100000000000000000000000000000000000000000000000000000000815260009073ffffffffffffffffffffffffffffffffffffffff8316906370a08231906129cb903090600401615a3c565b60206040518083038186803b1580156129e357600080fd5b505afa1580156129f7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b2091906157d3565b6040805160008082526020820190925273ffffffffffffffffffffffffffffffffffffffff84169083906040518082805190602001908083835b60208310612a9257805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101612a55565b6001836020036101000a03801982511681845116808217855250505050505090500191505060006040518083038185875af1925050503d8060008114612af4576040519150601f19603f3d011682016040523d82523d6000602084013e612af9565b606091505b505090508061146a57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600360248201527f5354450000000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6060600282511015612b7a57600080fd5b815167ffffffffffffffff81118015612b9257600080fd5b50604051908082528060200260200182016040528015612bbc578160200160208202803683370190505b5090508281600183510381518110612bd057fe5b602090810291909101015281517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff015b8015610c4057600080612c3d87866001860381518110612c1c57fe5b6020026020010151878681518110612c3057fe5b6020026020010151613d44565b91509150612c5f848481518110612c5057fe5b60200260200101518383613e2c565b846001850381518110612c6e57fe5b602090810291909101015250507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01612c00565b6000806000612cb18585613f02565b604080517fffffffffffffffffffffffffffffffffffffffff000000000000000000000000606094851b811660208084019190915293851b81166034830152825160288184030181526048830184528051908501207fff0000000000000000000000000000000000000000000000000000000000000060688401529a90941b9093166069840152607d8301989098527f96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f609d808401919091528851808403909101815260bd909201909752805196019590952095945050505050565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16148015612de85750804710155b15612f31577f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663d0e30db0826040518263ffffffff1660e01b81526004016000604051808303818588803b158015612e5557600080fd5b505af1158015612e69573d6000803e3d6000fd5b50505050507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663a9059cbb83836040518363ffffffff1660e01b8152600401808373ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b158015612eff57600080fd5b505af1158015612f13573d6000803e3d6000fd5b505050506040513d6020811015612f2957600080fd5b50610c559050565b73ffffffffffffffffffffffffffffffffffffffff8316301415612f5f57612f5a848383613471565b610c55565b610c5584848484613ae1565b60005b600183510381101561146a57600080848381518110612f8957fe5b6020026020010151858460010181518110612fa057fe5b6020026020010151915091506000612fb88383613f02565b5090506000612fe87f00000000000000000000000000000000000000000000000000000000000000008585612ca2565b90506000806000808473ffffffffffffffffffffffffffffffffffffffff16630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b15801561303657600080fd5b505afa15801561304a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061306e91906156da565b506dffffffffffffffffffffffffffff1691506dffffffffffffffffffffffffffff1691506000808773ffffffffffffffffffffffffffffffffffffffff168a73ffffffffffffffffffffffffffffffffffffffff16146130d05782846130d3565b83835b91509150613114828b73ffffffffffffffffffffffffffffffffffffffff166370a082318a6040518263ffffffff1660e01b815260040161120c9190615a3c565b9550613121868383613fa7565b9450505050506000808573ffffffffffffffffffffffffffffffffffffffff168873ffffffffffffffffffffffffffffffffffffffff161461316557826000613169565b6000835b91509150600060028c51038a10613180578a6131c1565b6131c17f0000000000000000000000000000000000000000000000000000000000000000898e8d600201815181106131b457fe5b6020026020010151612ca2565b604080516000815260208101918290527f022c0d9f0000000000000000000000000000000000000000000000000000000090915290915073ffffffffffffffffffffffffffffffffffffffff87169063022c0d9f906132299086908690869060248101615e06565b600060405180830381600087803b15801561324357600080fd5b505af1158015613257573d6000803e3d6000fd5b50506001909b019a50612f6e9950505050505050505050565b8082038281111561202157600080fd5b60008060008473ffffffffffffffffffffffffffffffffffffffff1663095ea7b360e01b7f0000000000000000000000000000000000000000000000000000000000000000866040516024016132d7929190615ad6565b604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529181526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff000000000000000000000000000000000000000000000000000000009094169390931790925290516133609190615a20565b6000604051808303816000865af19150503d806000811461339d576040519150601f19603f3d011682016040523d82523d6000602084013e6133a2565b606091505b5091509150818015610e2c575080511580610e2c575080806020019051810190610e2c919061528d565b4290565b60008215806133eb575050818102818382816133e857fe5b04145b61202157600080fd5b60008080613402848261407d565b925061340f84601461417d565b905061341c84601761407d565b91509193909250565b516042111590565b6060610b20826000602b61426d565b8051606090610b209083906017907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe90161426d565b6040805173ffffffffffffffffffffffffffffffffffffffff8481166024830152604480830185905283518084039091018152606490920183526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fa9059cbb000000000000000000000000000000000000000000000000000000001781529251825160009485949389169392918291908083835b6020831061354657805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101613509565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d80600081146135a8576040519150601f19603f3d011682016040523d82523d6000602084013e6135ad565b606091505b50915091508180156135db5750805115806135db57508080602001905160208110156135d857600080fd5b50515b6118a057604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600260248201527f5354000000000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b600080835185511461365757600080fd5b6000855167ffffffffffffffff8111801561367157600080fd5b506040519080825280602002602001820160405280156136ab57816020015b613698614e34565b8152602001906001900390816136905790505b5090506000865167ffffffffffffffff811180156136c857600080fd5b5060405190808252806020026020018201604052801561370257816020015b6136ef614e34565b8152602001906001900390816136e75790505b50905060005b8751811015613832576000806137318a848151811061372357fe5b602002602001015189613859565b9150915061373e82614454565b85848151811061374a57fe5b60200260200101516000019060020b908160020b8152505061376b81614454565b84848151811061377757fe5b60200260200101516000019060020b908160020b8152505088838151811061379b57fe5b60200260200101518584815181106137af57fe5b6020026020010151602001906fffffffffffffffffffffffffffffffff1690816fffffffffffffffffffffffffffffffff16815250508883815181106137f157fe5b602002602001015184848151811061380557fe5b6020908102919091018101516fffffffffffffffffffffffffffffffff9092169101525050600101613708565b5061383c82614465565b60020b935061384a81614465565b60020b92505050935093915050565b6000806000806138688661454d565b90506000805b82811015613a865760008060006138848b6133f4565b9250925092506000613897848484613cd4565b905060008063ffffffff8d166138c0576138b083614578565b600291820b9350900b9050613962565b6138ca838e614810565b8160020b915050809250508273ffffffffffffffffffffffffffffffffffffffff16633850c7bd6040518163ffffffff1660e01b815260040160e06040518083038186803b15801561391b57600080fd5b505afa15801561392f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906139539190615715565b50505060029290920b93505050505b600189038714156139a3578473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff161099506139b2565b6139ac8e61343c565b9d508597505b6000871580613a5357508673ffffffffffffffffffffffffffffffffffffffff168973ffffffffffffffffffffffffffffffffffffffff1610613a23578673ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff1610613a53565b8573ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff16105b90508015613a68579b82019b9a81019a613a73565b828d039c50818c039b505b50506001909501945061386e9350505050565b5082613ad7577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff850294507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff840293505b5050509250929050565b6040805173ffffffffffffffffffffffffffffffffffffffff85811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167f23b872dd00000000000000000000000000000000000000000000000000000000178152925182516000948594938a169392918291908083835b60208310613bbe57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101613b81565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d8060008114613c20576040519150601f19603f3d011682016040523d82523d6000602084013e613c25565b606091505b5091509150818015613c53575080511580613c535750808060200190516020811015613c5057600080fd5b50515b610bb657604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600360248201527f5354460000000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b6000610e2c85613ccf868686614c41565b614cbe565b6000613d0a7f0000000000000000000000000000000000000000000000000000000000000000613d05868686614c41565b614cee565b949350505050565b60007f80000000000000000000000000000000000000000000000000000000000000008210613d4057600080fd5b5090565b6000806000613d538585613f02565b509050600080613d64888888612ca2565b73ffffffffffffffffffffffffffffffffffffffff16630902f1ac6040518163ffffffff1660e01b815260040160606040518083038186803b158015613da957600080fd5b505afa158015613dbd573d6000803e3d6000fd5b505050506040513d6060811015613dd357600080fd5b5080516020909101516dffffffffffffffffffffffffffff918216935016905073ffffffffffffffffffffffffffffffffffffffff87811690841614613e1a578082613e1d565b81815b90999098509650505050505050565b6000808411613e9c57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f494e53554646494349454e545f4f55545055545f414d4f554e54000000000000604482015290519081900360640190fd5b600083118015613eac5750600082115b613eb557600080fd5b6000613ecd6103e8613ec786886133d0565b906133d0565b90506000613ee16103e5613ec78689613270565b9050613ef86001828481613ef157fe5b0490614e24565b9695505050505050565b6000808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161415613f3e57600080fd5b8273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1610613f78578284613f7b565b83835b909250905073ffffffffffffffffffffffffffffffffffffffff8216613fa057600080fd5b9250929050565b600080841161401757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f494e53554646494349454e545f494e5055545f414d4f554e5400000000000000604482015290519081900360640190fd5b6000831180156140275750600082115b61403057600080fd5b600061403e856103e56133d0565b9050600061404c82856133d0565b9050600061406683614060886103e86133d0565b90614e24565b905080828161407157fe5b04979650505050505050565b6000818260140110156140f157604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601260248201527f746f416464726573735f6f766572666c6f770000000000000000000000000000604482015290519081900360640190fd5b816014018351101561416457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f416464726573735f6f75744f66426f756e64730000000000000000000000604482015290519081900360640190fd5b5001602001516c01000000000000000000000000900490565b6000818260030110156141f157604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f746f55696e7432345f6f766572666c6f77000000000000000000000000000000604482015290519081900360640190fd5b816003018351101561426457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601460248201527f746f55696e7432345f6f75744f66426f756e6473000000000000000000000000604482015290519081900360640190fd5b50016003015190565b60608182601f0110156142e157604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f736c6963655f6f766572666c6f77000000000000000000000000000000000000604482015290519081900360640190fd5b82828401101561435257604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600e60248201527f736c6963655f6f766572666c6f77000000000000000000000000000000000000604482015290519081900360640190fd5b818301845110156143c457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f736c6963655f6f75744f66426f756e6473000000000000000000000000000000604482015290519081900360640190fd5b6060821580156143e3576040519150600082526020820160405261444b565b6040519150601f8416801560200281840101858101878315602002848b0101015b8183101561441c578051835260209283019201614404565b5050858452601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016604052505b50949350505050565b80600281900b8114610b2357600080fd5b6000806000805b84518110156144fa5784818151811061448157fe5b6020026020010151602001516fffffffffffffffffffffffffffffffff168582815181106144ab57fe5b60200260200101516000015160020b02830192508481815181106144cb57fe5b6020026020010151602001516fffffffffffffffffffffffffffffffff1682019150808060010191505061446c565b5080828161450457fe5b05925060008212801561451f575080828161451b57fe5b0715155b15611d8e5750507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01919050565b5160177fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec9091010490565b6000806000808473ffffffffffffffffffffffffffffffffffffffff16633850c7bd6040518163ffffffff1660e01b815260040160e06040518083038186803b1580156145c457600080fd5b505afa1580156145d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906145fc9190615715565b50939750919550935050600161ffff84161191506146489050576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615bd8565b6000808673ffffffffffffffffffffffffffffffffffffffff1663252c09d7856040518263ffffffff1660e01b81526004016146849190615dee565b60806040518083038186803b15801561469c57600080fd5b505afa1580156146b0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906146d491906158e0565b5050915091506146e26133cc565b63ffffffff168263ffffffff16146146fc57849550614807565b60008361ffff1660018561ffff168761ffff1601038161471857fe5b06905060008060008a73ffffffffffffffffffffffffffffffffffffffff1663252c09d7856040518263ffffffff1660e01b81526004016147599190615dfd565b60806040518083038186803b15801561477157600080fd5b505afa158015614785573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906147a991906158e0565b93505092509250806147e7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082d90615ba1565b82860363ffffffff811683870360060b816147fe57fe5b059a5050505050505b50505050915091565b60008063ffffffff831661488557604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600260248201527f4250000000000000000000000000000000000000000000000000000000000000604482015290519081900360640190fd5b60408051600280825260608201835260009260208301908036833701905050905083816000815181106148b457fe5b602002602001019063ffffffff16908163ffffffff16815250506000816001815181106148dd57fe5b63ffffffff9092166020928302919091018201526040517f883bdbfd00000000000000000000000000000000000000000000000000000000815260048101828152835160248301528351600093849373ffffffffffffffffffffffffffffffffffffffff8b169363883bdbfd9388939192839260449091019185820191028083838b5b83811015614978578181015183820152602001614960565b505050509050019250505060006040518083038186803b15801561499b57600080fd5b505afa1580156149af573d6000803e3d6000fd5b505050506040513d6000823e601f3d9081017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016820160409081528110156149f657600080fd5b8101908080516040519392919084640100000000821115614a1657600080fd5b908301906020820185811115614a2b57600080fd5b8251866020820283011164010000000082111715614a4857600080fd5b82525081516020918201928201910280838360005b83811015614a75578181015183820152602001614a5d565b5050505090500160405260200180516040519392919084640100000000821115614a9e57600080fd5b908301906020820185811115614ab357600080fd5b8251866020820283011164010000000082111715614ad057600080fd5b82525081516020918201928201910280838360005b83811015614afd578181015183820152602001614ae5565b5050505090500160405250505091509150600082600081518110614b1d57fe5b602002602001015183600181518110614b3257fe5b6020026020010151039050600082600081518110614b4c57fe5b602002602001015183600181518110614b6157fe5b60200260200101510390508763ffffffff168260060b81614b7e57fe5b05965060008260060b128015614ba857508763ffffffff168260060b81614ba157fe5b0760060b15155b15614bd3577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff909601955b63ffffffff881673ffffffffffffffffffffffffffffffffffffffff0277ffffffffffffffffffffffffffffffffffffffff00000000602083901b1677ffffffffffffffffffffffffffffffffffffffffffffffff821681614c3157fe5b0496505050505050509250929050565b614c49614e4b565b8273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161115614c81579192915b506040805160608101825273ffffffffffffffffffffffffffffffffffffffff948516815292909316602083015262ffffff169181019190915290565b6000614cca8383614cee565b90503373ffffffffffffffffffffffffffffffffffffffff82161461202157600080fd5b6000816020015173ffffffffffffffffffffffffffffffffffffffff16826000015173ffffffffffffffffffffffffffffffffffffffff1610614d3057600080fd5b508051602080830151604093840151845173ffffffffffffffffffffffffffffffffffffffff94851681850152939091168385015262ffffff166060808401919091528351808403820181526080840185528051908301207fff0000000000000000000000000000000000000000000000000000000000000060a085015294901b7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000001660a183015260b58201939093527fe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b5460d5808301919091528251808303909101815260f5909101909152805191012090565b8082018281101561202157600080fd5b604080518082019091526000808252602082015290565b604080516060810182526000808252602082018190529181019190915290565b8035610b2381615f52565b60008083601f840112614e87578182fd5b50813567ffffffffffffffff811115614e9e578182fd5b6020830191508360208083028501011115613fa057600080fd5b600082601f830112614ec8578081fd5b81356020614edd614ed883615ec8565b615ea4565b8281528181019085830183850287018401881015614ef9578586fd5b855b85811015614f345781356fffffffffffffffffffffffffffffffff81168114614f22578788fd5b84529284019290840190600101614efb565b5090979650505050505050565b80518015158114610b2357600080fd5b600082601f830112614f61578081fd5b8135614f6f614ed882615ee6565b818152846020838601011115614f83578283fd5b816020850160208301379081016020019190915292915050565b80516dffffffffffffffffffffffffffff81168114610b2357600080fd5b805161ffff81168114610b2357600080fd5b803562ffffff81168114610b2357600080fd5b8035610b2381615f83565b600060208284031215614ffc578081fd5b813561500781615f52565b9392505050565b60008060408385031215615020578081fd5b823561502b81615f52565b946020939093013593505050565b60008060006060848603121561504d578081fd5b833561505881615f52565b925060208401359150604084013561506f81615f52565b809150509250925092565b600080600080600060a08688031215615091578283fd5b853561509c81615f52565b94506020860135935060408601356150b381615f52565b92506060860135915060808601356150ca81615f52565b809150509295509295909350565b600080600080608085870312156150ed578182fd5b84356150f881615f52565b93506020850135925060408501359150606085013561511681615f52565b939692955090935050565b60008060008060008060c08789031215615139578384fd5b863561514481615f52565b95506020870135945060408701359350606087013561516281615f95565b9598949750929560808101359460a0909101359350915050565b6000806020838503121561518e578182fd5b823567ffffffffffffffff8111156151a4578283fd5b6151b085828601614e76565b90969095509350505050565b600080600080608085870312156151d1578182fd5b843567ffffffffffffffff808211156151e8578384fd5b818701915087601f8301126151fb578384fd5b8135602061520b614ed883615ec8565b82815281810190858301885b858110156152405761522e8e8684358b0101614f51565b84529284019290840190600101615217565b50909950505088013592505080821115615258578384fd5b5061526587828801614eb8565b93505061527460408601614fcd565b915061528260608601614fe0565b905092959194509250565b60006020828403121561529e578081fd5b61500782614f41565b6000806000604084860312156152bb578081fd5b83359250602084013567ffffffffffffffff8111156152d8578182fd5b6152e486828701614e76565b9497909650939450505050565b600060208284031215615302578081fd5b813567ffffffffffffffff811115615318578182fd5b613d0a84828501614f51565b600080600060608486031215615338578081fd5b833567ffffffffffffffff81111561534e578182fd5b61535a86828701614f51565b93505061536960208501614fcd565b9150604084013561506f81615f83565b60006020828403121561538a578081fd5b813561500781615f74565b600080604083850312156153a7578182fd5b505080516020909101519092909150565b600080600080606085870312156153cd578182fd5b8435935060208501359250604085013567ffffffffffffffff808211156153f2578384fd5b818701915087601f830112615405578384fd5b813581811115615413578485fd5b886020828501011115615424578485fd5b95989497505060200194505050565b600060208284031215615444578081fd5b815167ffffffffffffffff81111561545a578182fd5b8201601f8101841361546a578182fd5b8051615478614ed882615ee6565b81815285602083850101111561548c578384fd5b610e2c826020830160208601615f26565b6000602082840312156154ae578081fd5b813567ffffffffffffffff808211156154c5578283fd5b90830190608082860312156154d8578283fd5b6040516080810181811083821117156154ed57fe5b6040528235828111156154fe578485fd5b61550a87828601614f51565b8252506020830135915061551d82615f52565b816020820152604083013560408201526060830135606082015280935050505092915050565b600060e08284031215615554578081fd5b60405160e0810181811067ffffffffffffffff8211171561557157fe5b60405261557d83614e6b565b815261558b60208401614e6b565b602082015261559c60408401614fcd565b60408201526155ad60608401614e6b565b60608201526080830135608082015260a083013560a08201526155d260c08401614e6b565b60c08201529392505050565b6000602082840312156155ef578081fd5b813567ffffffffffffffff811115615605578182fd5b820160808185031215615007578182fd5b600060e08284031215610836578081fd5b600060a08284031215610836578081fd5b60006101008284031215610836578081fd5b60006020828403121561565b578081fd5b813567ffffffffffffffff80821115615672578283fd5b9083019060408286031215615685578283fd5b60405160408101818110838211171561569a57fe5b6040528235828111156156ab578485fd5b6156b787828601614f51565b825250602083013592506156ca83615f52565b6020810192909252509392505050565b6000806000606084860312156156ee578081fd5b6156f784614f9d565b925061570560208501614f9d565b9150604084015161506f81615f83565b600080600080600080600060e0888a03121561572f578485fd5b875161573a81615f52565b602089015190975061574b81615f74565b955061575960408901614fbb565b945061576760608901614fbb565b935061577560808901614fbb565b925060a088015161578581615f95565b915061579360c08901614f41565b905092959891949750929550565b6000602082840312156157b2578081fd5b61500782614fcd565b6000602082840312156157cc578081fd5b5035919050565b6000602082840312156157e4578081fd5b5051919050565b600080604083850312156157fd578182fd5b82359150602083013561580f81615f52565b809150509250929050565b6000806000806080858703121561582f578182fd5b84359350602085013561584181615f52565b925060408501359150606085013561511681615f52565b60008060006060848603121561586c578081fd5b8335925060208401359150604084013561506f81615f52565b60008060008060006080868803121561589c578283fd5b8535945060208601359350604086013567ffffffffffffffff8111156158c0578384fd5b6158cc88828901614e76565b90945092505060608601356150ca81615f52565b600080600080608085870312156158f5578182fd5b845161590081615f83565b8094505060208501518060060b8114615917578283fd5b604086015190935061592881615f52565b915061528260608601614f41565b73ffffffffffffffffffffffffffffffffffffffff169052565b60008151808452615968816020860160208601615f26565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b60020b9052565b62ffffff169052565b606093841b7fffffffffffffffffffffffffffffffffffffffff000000000000000000000000908116825260e89390931b7fffffff0000000000000000000000000000000000000000000000000000000000166014820152921b166017820152602b0190565b6000828483379101908152919050565b60008251615a32818460208701615f26565b9190910192915050565b73ffffffffffffffffffffffffffffffffffffffff91909116815260200190565b73ffffffffffffffffffffffffffffffffffffffff92831681529116602082015260400190565b600073ffffffffffffffffffffffffffffffffffffffff8088168352861515602084015285604084015280851660608401525060a06080830152615acb60a0830184615950565b979650505050505050565b73ffffffffffffffffffffffffffffffffffffffff929092168252602082015260400190565b6000602080830181845280855180835260408601915060408482028701019250838701855b82811015615b6d577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc0888603018452615b5b858351615950565b94509285019290850190600101615b21565b5092979650505050505050565b6000602082526150076020830184615950565b6020810160058310615b9b57fe5b91905290565b60208082526003908201527f4f4e490000000000000000000000000000000000000000000000000000000000604082015260600190565b60208082526003908201527f4e454f0000000000000000000000000000000000000000000000000000000000604082015260600190565b60208082526012908201527f546f6f206d756368207265717565737465640000000000000000000000000000604082015260600190565b60208082526002908201527f5444000000000000000000000000000000000000000000000000000000000000604082015260600190565b60208082526013908201527f546f6f206c6974746c6520726563656976656400000000000000000000000000604082015260600190565b600060c082019050825182526020830151602083015260408301516040830152606083015160608301526080830151608083015260a083015160a083015292915050565b600061016082019050615d0c828451615936565b6020830151615d1e6020840182615936565b506040830151615d3160408401826159a1565b506060830151615d44606084018261599a565b506080830151615d57608084018261599a565b5060a083015160a083015260c083015160c083015260e083015160e083015261010080840151818401525061012080840151615d9582850182615936565b505061014092830151919092015290565b600060208252825160406020840152615dc26060840182615950565b905073ffffffffffffffffffffffffffffffffffffffff60208501511660408401528091505092915050565b61ffff91909116815260200190565b90815260200190565b600085825284602083015273ffffffffffffffffffffffffffffffffffffffff8416604083015260806060830152613ef86080830184615950565b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112615e75578283fd5b83018035915067ffffffffffffffff821115615e8f578283fd5b602001915036819003821315613fa057600080fd5b60405181810167ffffffffffffffff81118282101715615ec057fe5b604052919050565b600067ffffffffffffffff821115615edc57fe5b5060209081020190565b600067ffffffffffffffff821115615efa57fe5b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b60005b83811015615f41578181015183820152602001615f29565b83811115610c555750506000910152565b73ffffffffffffffffffffffffffffffffffffffff8116811461147957600080fd5b8060020b811461147957600080fd5b63ffffffff8116811461147957600080fd5b60ff8116811461147957600080fdfea164736f6c6343000706000a";class hn extends xe.ContractFactory{constructor(e){super(dn,pn,e)}deploy(e,t,n,f,r){return super.deploy(e,t,n,f,r||{})}getDeployTransaction(e,t,n,f,r){return super.getDeployTransaction(e,t,n,f,r||{})}attach(e){return super.attach(e)}connect(e){return super.connect(e)}static createInterface(){return new Se.KA(dn)}static connect(e,t){return new xe.Contract(e,dn,t)}}hn.bytecode=pn,hn.abi=dn;class mn{constructor(e){this.multicall2Provider=e}async getApprovalType(e,t){var n,f;const r=[[e.currency.wrapped.address,e.quotient.toString()],[t.currency.wrapped.address,t.quotient.toString()]],o=await this.multicall2Provider.callSameFunctionOnContractWithMultipleParams({address:ye,contractInterface:hn.createInterface(),functionName:"getApprovalType",functionParams:r});if(!(null===(n=o.results[0])||void 0===n?void 0:n.success)||!(null===(f=o.results[1])||void 0===f?void 0:f.success))throw u.info({results:o.results},"Failed to get approval type from swap router for token in or token out"),new Error("Failed to get approval type from swap router for token in or token out");const{result:a}=o.results[0],{result:i}=o.results[1];return{approvalTokenIn:a[0],approvalTokenOut:i[0]}}}n(91937);const bn=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];class yn{static createInterface(){return new Se.KA(bn)}static connect(e,t){return new xe.Contract(e,bn,t)}}yn.abi=bn;var gn=n(86255);const vn=JSON.parse('{"name":"Uniswap Labs List","timestamp":"2021-12-21T23:59:15.901Z","version":{"major":2,"minor":3,"patch":0},"tags":{},"logoURI":"ipfs://QmNa8mQkrNKp1WEEeGjFezDmDeodkWRevGFN8JCV7b4Xir","keywords":["uniswap","default"],"tokens":[{"chainId":1,"address":"0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9","name":"Aave","symbol":"AAVE","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/12645/thumb/AAVE.png?1601374110"},{"chainId":1,"address":"0xfF20817765cB7f73d4bde2e66e067E58D11095C2","name":"Amp","symbol":"AMP","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/12409/thumb/amp-200x200.png?1599625397"},{"name":"Aragon Network Token","address":"0x960b236A07cf122663c4303350609A66A7B288C0","symbol":"ANT","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x960b236A07cf122663c4303350609A66A7B288C0/logo.png"},{"name":"Balancer","address":"0xba100000625a3754423978a60c9317c58a424e3D","symbol":"BAL","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xba100000625a3754423978a60c9317c58a424e3D/logo.png"},{"chainId":1,"address":"0xBA11D00c5f74255f56a5E366F4F77f5A186d7f55","name":"Band Protocol","symbol":"BAND","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/9545/thumb/band-protocol.png?1568730326"},{"name":"Bancor Network Token","address":"0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C","symbol":"BNT","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C/logo.png"},{"name":"Compound","address":"0xc00e94Cb662C3520282E6f5717214004A7f26888","symbol":"COMP","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc00e94Cb662C3520282E6f5717214004A7f26888/logo.png"},{"name":"Curve DAO Token","address":"0xD533a949740bb3306d119CC777fa900bA034cd52","symbol":"CRV","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xD533a949740bb3306d119CC777fa900bA034cd52/logo.png"},{"chainId":1,"address":"0x41e5560054824eA6B0732E656E3Ad64E20e94E45","name":"Civic","symbol":"CVC","decimals":8,"logoURI":"https://assets.coingecko.com/coins/images/788/thumb/civic.png?1547034556"},{"name":"Dai Stablecoin","address":"0x6B175474E89094C44Da98b954EedeAC495271d0F","symbol":"DAI","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png"},{"chainId":1,"address":"0x0AbdAce70D3790235af448C88547603b945604ea","name":"district0x","symbol":"DNT","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/849/thumb/district0x.png?1547223762"},{"chainId":1,"address":"0xC18360217D8F7Ab5e7c516566761Ea12Ce7F9D72","name":"Ethereum Name Service","symbol":"ENS","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/19785/thumb/acatxTm8_400x400.jpg?1635850140"},{"name":"Gnosis Token","address":"0x6810e776880C02933D47DB1b9fc05908e5386b96","symbol":"GNO","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6810e776880C02933D47DB1b9fc05908e5386b96/logo.png"},{"chainId":1,"address":"0xc944E90C64B2c07662A292be6244BDf05Cda44a7","name":"The Graph","symbol":"GRT","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/13397/thumb/Graph_Token.png?1608145566"},{"chainId":1,"address":"0x85Eee30c52B0b379b046Fb0F85F4f3Dc3009aFEC","name":"Keep Network","symbol":"KEEP","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/3373/thumb/IuNzUb5b_400x400.jpg?1589526336"},{"name":"Kyber Network Crystal","address":"0xdd974D5C2e2928deA5F71b9825b8b646686BD200","symbol":"KNC","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdd974D5C2e2928deA5F71b9825b8b646686BD200/logo.png"},{"name":"ChainLink Token","address":"0x514910771AF9Ca656af840dff83E8264EcF986CA","symbol":"LINK","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x514910771AF9Ca656af840dff83E8264EcF986CA/logo.png"},{"name":"Loom Network","address":"0xA4e8C3Ec456107eA67d3075bF9e3DF3A75823DB0","symbol":"LOOM","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA4e8C3Ec456107eA67d3075bF9e3DF3A75823DB0/logo.png"},{"name":"LoopringCoin V2","address":"0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD","symbol":"LRC","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD/logo.png"},{"chainId":1,"address":"0x0F5D2fB29fb7d3CFeE444a200298f468908cC942","name":"Decentraland","symbol":"MANA","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/878/thumb/decentraland-mana.png?1550108745"},{"chainId":1,"address":"0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0","name":"Polygon","symbol":"MATIC","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/4713/thumb/matic-token-icon.png?1624446912"},{"name":"Maker","address":"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2","symbol":"MKR","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2/logo.png"},{"chainId":1,"address":"0xec67005c4E498Ec7f55E092bd1d35cbC47C91892","name":"Melon","symbol":"MLN","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/605/thumb/melon.png?1547034295"},{"name":"Numeraire","address":"0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671","symbol":"NMR","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671/logo.png"},{"chainId":1,"address":"0x4fE83213D56308330EC302a8BD641f1d0113A4Cc","name":"NuCypher","symbol":"NU","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/3318/thumb/photo1198982838879365035.jpg?1547037916"},{"name":"Orchid","address":"0x4575f41308EC1483f3d399aa9a2826d74Da13Deb","symbol":"OXT","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x4575f41308EC1483f3d399aa9a2826d74Da13Deb/logo.png"},{"name":"Republic Token","address":"0x408e41876cCCDC0F92210600ef50372656052a38","symbol":"REN","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x408e41876cCCDC0F92210600ef50372656052a38/logo.png"},{"name":"Reputation Augur v1","address":"0x1985365e9f78359a9B6AD760e32412f4a445E862","symbol":"REP","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x1985365e9f78359a9B6AD760e32412f4a445E862/logo.png"},{"name":"Reputation Augur v2","address":"0x221657776846890989a759BA2973e427DfF5C9bB","symbol":"REPv2","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x221657776846890989a759BA2973e427DfF5C9bB/logo.png"},{"name":"Synthetix Network Token","address":"0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F","symbol":"SNX","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F/logo.png"},{"name":"Storj Token","address":"0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC","symbol":"STORJ","decimals":8,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC/logo.png"},{"name":"Synth sUSD","address":"0x57Ab1ec28D129707052df4dF418D58a2D46d5f51","symbol":"sUSD","decimals":18,"chainId":1,"logoURI":"https://assets.coingecko.com/coins/images/5013/thumb/sUSD.png?1616150765"},{"chainId":1,"address":"0x8dAEBADE922dF735c38C80C7eBD708Af50815fAa","name":"tBTC","symbol":"TBTC","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/11224/thumb/tBTC.png?1589620754"},{"name":"UMA Voting Token v1","address":"0x04Fa0d235C4abf4BcF4787aF4CF447DE572eF828","symbol":"UMA","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x04Fa0d235C4abf4BcF4787aF4CF447DE572eF828/logo.png"},{"name":"Uniswap","address":"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984","symbol":"UNI","decimals":18,"chainId":1,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"USDCoin","address":"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48","symbol":"USDC","decimals":6,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{"name":"Tether USD","address":"0xdAC17F958D2ee523a2206206994597C13D831ec7","symbol":"USDT","decimals":6,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"},{"name":"Wrapped BTC","address":"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599","symbol":"WBTC","decimals":8,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599/logo.png"},{"name":"Wrapped Ether","address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","symbol":"WETH","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"chainId":1,"address":"0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e","name":"yearn finance","symbol":"YFI","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/11849/thumb/yfi-192x192.png?1598325330"},{"name":"0x Protocol Token","address":"0xE41d2489571d322189246DaFA5ebDe1F4699F498","symbol":"ZRX","decimals":18,"chainId":1,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xE41d2489571d322189246DaFA5ebDe1F4699F498/logo.png"},{"name":"Dai Stablecoin","address":"0xaD6D458402F60fD3Bd25163575031ACDce07538D","symbol":"DAI","decimals":18,"chainId":3,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xaD6D458402F60fD3Bd25163575031ACDce07538D/logo.png"},{"name":"Uniswap","address":"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984","symbol":"UNI","decimals":18,"chainId":3,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"Wrapped Ether","address":"0xc778417E063141139Fce010982780140Aa0cD5Ab","symbol":"WETH","decimals":18,"chainId":3,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc778417E063141139Fce010982780140Aa0cD5Ab/logo.png"},{"name":"Dai Stablecoin","address":"0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735","symbol":"DAI","decimals":18,"chainId":4,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735/logo.png"},{"name":"Maker","address":"0xF9bA5210F91D0474bd1e1DcDAeC4C58E359AaD85","symbol":"MKR","decimals":18,"chainId":4,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xF9bA5210F91D0474bd1e1DcDAeC4C58E359AaD85/logo.png"},{"name":"Uniswap","address":"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984","symbol":"UNI","decimals":18,"chainId":4,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"Wrapped Ether","address":"0xc778417E063141139Fce010982780140Aa0cD5Ab","symbol":"WETH","decimals":18,"chainId":4,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc778417E063141139Fce010982780140Aa0cD5Ab/logo.png"},{"name":"Uniswap","address":"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984","symbol":"UNI","decimals":18,"chainId":5,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"Wrapped Ether","address":"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6","symbol":"WETH","decimals":18,"chainId":5,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6/logo.png"},{"name":"Dai Stablecoin","address":"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa","symbol":"DAI","decimals":18,"chainId":42,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa/logo.png"},{"name":"Maker","address":"0xAaF64BFCC32d0F15873a02163e7E500671a4ffcD","symbol":"MKR","decimals":18,"chainId":42,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xAaF64BFCC32d0F15873a02163e7E500671a4ffcD/logo.png"},{"name":"Uniswap","address":"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984","symbol":"UNI","decimals":18,"chainId":42,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"Wrapped Ether","address":"0xd0A1E359811322d97991E03f863a0C30C2cF029C","symbol":"WETH","decimals":18,"chainId":42,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xd0A1E359811322d97991E03f863a0C30C2cF029C/logo.png"},{"chainId":137,"address":"0xD6DF932A45C0f255f85145f286eA0b292B21C90B","name":"Aave","symbol":"AAVE","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/12645/thumb/AAVE.png?1601374110"},{"chainId":137,"address":"0x0621d647cecbFb64b79E44302c1933cB4f27054d","name":"Amp","symbol":"AMP","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/12409/thumb/amp-200x200.png?1599625397"},{"name":"Balancer","address":"0x9a71012B13CA4d3D0Cdc72A177DF3ef03b0E76A3","symbol":"BAL","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xba100000625a3754423978a60c9317c58a424e3D/logo.png"},{"chainId":137,"address":"0xA8b1E0764f85f53dfe21760e8AfE5446D82606ac","name":"Band Protocol","symbol":"BAND","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/9545/thumb/band-protocol.png?1568730326"},{"name":"Bancor Network Token","address":"0xc26D47d5c33aC71AC5CF9F776D63Ba292a4F7842","symbol":"BNT","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x1F573D6Fb3F13d689FF844B4cE37794d79a7FF1C/logo.png"},{"name":"Compound","address":"0x8505b9d2254A7Ae468c0E9dd10Ccea3A837aef5c","symbol":"COMP","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc00e94Cb662C3520282E6f5717214004A7f26888/logo.png"},{"name":"Curve DAO Token","address":"0x172370d5Cd63279eFa6d502DAB29171933a610AF","symbol":"CRV","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xD533a949740bb3306d119CC777fa900bA034cd52/logo.png"},{"chainId":137,"address":"0x66Dc5A08091d1968e08C16aA5b27BAC8398b02Be","name":"Civic","symbol":"CVC","decimals":8,"logoURI":"https://assets.coingecko.com/coins/images/788/thumb/civic.png?1547034556"},{"name":"Dai Stablecoin","address":"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063","symbol":"DAI","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png"},{"chainId":137,"address":"0xbD7A5Cf51d22930B8B3Df6d834F9BCEf90EE7c4f","name":"Ethereum Name Service","symbol":"ENS","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/19785/thumb/acatxTm8_400x400.jpg?1635850140"},{"name":"Gnosis Token","address":"0x5FFD62D3C3eE2E81C00A7b9079FB248e7dF024A8","symbol":"GNO","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6810e776880C02933D47DB1b9fc05908e5386b96/logo.png"},{"chainId":137,"address":"0x5fe2B58c013d7601147DcdD68C143A77499f5531","name":"The Graph","symbol":"GRT","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/13397/thumb/Graph_Token.png?1608145566"},{"chainId":137,"address":"0x42f37A1296b2981F7C3cAcEd84c5096b2Eb0C72C","name":"Keep Network","symbol":"KEEP","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/3373/thumb/IuNzUb5b_400x400.jpg?1589526336"},{"name":"Kyber Network Crystal","address":"0x324b28d6565f784d596422B0F2E5aB6e9CFA1Dc7","symbol":"KNC","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdd974D5C2e2928deA5F71b9825b8b646686BD200/logo.png"},{"name":"ChainLink Token","address":"0x53E0bca35eC356BD5ddDFebbD1Fc0fD03FaBad39","symbol":"LINK","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x514910771AF9Ca656af840dff83E8264EcF986CA/logo.png"},{"name":"Loom Network","address":"0x66EfB7cC647e0efab02eBA4316a2d2941193F6b3","symbol":"LOOM","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA4e8C3Ec456107eA67d3075bF9e3DF3A75823DB0/logo.png"},{"name":"LoopringCoin V2","address":"0x84e1670F61347CDaeD56dcc736FB990fBB47ddC1","symbol":"LRC","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xBBbbCA6A901c926F240b89EacB641d8Aec7AEafD/logo.png"},{"chainId":137,"address":"0xA1c57f48F0Deb89f569dFbE6E2B7f46D33606fD4","name":"Decentraland","symbol":"MANA","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/878/thumb/decentraland-mana.png?1550108745"},{"name":"Maker","address":"0x6f7C932e7684666C9fd1d44527765433e01fF61d","symbol":"MKR","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2/logo.png"},{"name":"Numeraire","address":"0x0Bf519071b02F22C17E7Ed5F4002ee1911f46729","symbol":"NMR","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x1776e1F26f98b1A5dF9cD347953a26dd3Cb46671/logo.png"},{"name":"Orchid","address":"0x9880e3dDA13c8e7D4804691A45160102d31F6060","symbol":"OXT","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x4575f41308EC1483f3d399aa9a2826d74Da13Deb/logo.png"},{"name":"Republic Token","address":"0x19782D3Dc4701cEeeDcD90f0993f0A9126ed89d0","symbol":"REN","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x408e41876cCCDC0F92210600ef50372656052a38/logo.png"},{"name":"Reputation Augur v2","address":"0x6563c1244820CfBd6Ca8820FBdf0f2847363F733","symbol":"REPv2","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x221657776846890989a759BA2973e427DfF5C9bB/logo.png"},{"name":"Synthetix Network Token","address":"0x50B728D8D964fd00C2d0AAD81718b71311feF68a","symbol":"SNX","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F/logo.png"},{"name":"Storj Token","address":"0xd72357dAcA2cF11A5F155b9FF7880E595A3F5792","symbol":"STORJ","decimals":8,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB64ef51C888972c908CFacf59B47C1AfBC0Ab8aC/logo.png"},{"name":"Synth sUSD","address":"0xF81b4Bec6Ca8f9fe7bE01CA734F55B2b6e03A7a0","symbol":"sUSD","decimals":18,"chainId":137,"logoURI":"https://assets.coingecko.com/coins/images/5013/thumb/sUSD.png?1616150765"},{"chainId":137,"address":"0x50a4a434247089848991DD8f09b889D4e2870aB6","name":"tBTC","symbol":"TBTC","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/11224/thumb/tBTC.png?1589620754"},{"name":"UMA Voting Token v1","address":"0x3066818837c5e6eD6601bd5a91B0762877A6B731","symbol":"UMA","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x04Fa0d235C4abf4BcF4787aF4CF447DE572eF828/logo.png"},{"name":"Uniswap","address":"0xb33EaAd8d922B1083446DC23f610c2567fB5180f","symbol":"UNI","decimals":18,"chainId":137,"logoURI":"ipfs://QmXttGpZrECX5qCyXbBQiqgQNytVGeZW5Anewvh2jc4psg"},{"name":"USDCoin","address":"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174","symbol":"USDC","decimals":6,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48/logo.png"},{"name":"Tether USD","address":"0xc2132D05D31c914a87C6611C10748AEb04B58e8F","symbol":"USDT","decimals":6,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"},{"name":"Wrapped BTC","address":"0x1BFD67037B42Cf73acF2047067bd4F2C47D9BfD6","symbol":"WBTC","decimals":8,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599/logo.png"},{"name":"Wrapped Ether","address":"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619","symbol":"WETH","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"name":"Wrapped Matic","address":"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270","symbol":"WMATIC","decimals":18,"chainId":137,"logoURI":"https://assets.coingecko.com/coins/images/4713/thumb/matic-token-icon.png?1624446912"},{"chainId":137,"address":"0xDA537104D6A5edd53c6fBba9A898708E465260b6","name":"yearn finance","symbol":"YFI","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/11849/thumb/yfi-192x192.png?1598325330"},{"name":"0x Protocol Token","address":"0x5559Edb74751A0edE9DeA4DC23aeE72cCA6bE3D5","symbol":"ZRX","decimals":18,"chainId":137,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xE41d2489571d322189246DaFA5ebDe1F4699F498/logo.png"},{"name":"Wrapped Ether","address":"0xA6FA4fB5f76172d178d61B04b0ecd319C5d1C0aa","symbol":"WETH","decimals":18,"chainId":80001,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"name":"Wrapped Matic","address":"0xd0A1E359811322d97991E03f863a0C30C2cF029C","symbol":"WMATIC","decimals":18,"chainId":80001,"logoURI":"https://assets.coingecko.com/coins/images/4713/thumb/matic-token-icon.png?1624446912"}]}');var Tn=n(32252),An=n.n(Tn);const In=[{inputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"address[]",name:"baseTokens",type:"address[]"},{internalType:"uint256",name:"amountToBorrow",type:"uint256"}],name:"batchValidate",outputs:[{internalType:"enum ITokenValidator.Status[]",name:"",type:"uint8[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address[]",name:"baseTokens",type:"address[]"},{internalType:"uint256",name:"amountToBorrow",type:"uint256"}],name:"validate",outputs:[{internalType:"enum ITokenValidator.Status",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"}];class En{static createInterface(){return new Se.KA(In)}static connect(e,t){return new xe.Contract(e,In,t)}}En.abi=In;const wn=new Set(["0x777E2ae845272a2F540ebf6a3D03734A5a8f618e".toLowerCase()]);var Cn;!function(e){e[e.UNKN=0]="UNKN",e[e.FOT=1]="FOT",e[e.STF=2]="STF"}(Cn||(Cn={}));class kn{constructor(e,t,n){let f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0xb5ee1690b7dcc7859771148d0889be838fe108e0",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e6,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"1000",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wn;this.chainId=e,this.multicall2Provider=t,this.tokenValidationCache=n,this.tokenValidatorAddress=f,this.gasLimitPerCall=r,this.amountToFlashBorrow=o,this.allowList=a,this.CACHE_KEY=(e,t)=>`token-${e}-${t}`,this.BASES=[se[this.chainId].address]}async validateTokens(e,t){const n=X().keyBy(e,"address"),f=X()(e).map((e=>e.address)).uniq().value(),r=[],o={};for(const s of f)await this.tokenValidationCache.has(this.CACHE_KEY(this.chainId,s))?o[s.toLowerCase()]=await this.tokenValidationCache.get(this.CACHE_KEY(this.chainId,s)):r.push(s);u.info(`Got token validation results for ${f.length-r.length} tokens from cache. Getting ${r.length} on-chain.`);const a=X()(r).map((e=>[e,this.BASES,this.amountToFlashBorrow])).value(),i=await this.multicall2Provider.callSameFunctionOnContractWithMultipleParams({address:this.tokenValidatorAddress,contractInterface:En.createInterface(),functionName:"validate",functionParams:a,providerConfig:t,additionalConfig:{gasLimitPerCallOverride:this.gasLimitPerCall}});for(let s=0;s<i.results.length;s++){const e=i.results[s],t=n[r[s]];if(this.allowList.has(t.address.toLowerCase())){o[t.address.toLowerCase()]=Cn.UNKN,await this.tokenValidationCache.set(this.CACHE_KEY(this.chainId,t.address.toLowerCase()),o[t.address.toLowerCase()]);continue}if(!e.success){u.info({result:e},`Failed to validate token ${t.symbol}`);continue}const f=e.result[0];o[t.address.toLowerCase()]=f,await this.tokenValidationCache.set(this.CACHE_KEY(this.chainId,t.address.toLowerCase()),o[t.address.toLowerCase()])}return{getValidationByToken:e=>o[e.address.toLowerCase()]}}}const Sn=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0Out",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1Out",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint112",name:"reserve0",type:"uint112"},{indexed:!1,internalType:"uint112",name:"reserve1",type:"uint112"}],name:"Sync",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINIMUM_LIQUIDITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"reserve0",type:"uint112"},{internalType:"uint112",name:"reserve1",type:"uint112"},{internalType:"uint32",name:"blockTimestampLast",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"kLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"price0CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price1CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"skim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Out",type:"uint256"},{internalType:"uint256",name:"amount1Out",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];class xn{static createInterface(){return new Se.KA(Sn)}static connect(e,t){return new xe.Contract(e,Sn,t)}}xn.abi=Sn;class On{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{retries:2,minTimeout:50,maxTimeout:500};this.chainId=e,this.multicall2Provider=t,this.retryOptions=n,this.POOL_ADDRESS_CACHE={}}async getPools(e,t){const n=new Set,f=[],r=[];for(const u of e){const[e,t]=u,{poolAddress:o,token0:a,token1:i}=this.getPoolAddress(e,t);n.has(o)||(n.add(o),f.push([a,i]),r.push(o))}u.debug(`getPools called with ${e.length} token pairs. Deduped down to ${n.size}`);const o=await this.getPoolsData(r,"getReserves",t);u.info(`Got reserves for ${n.size} pools ${(null===t||void 0===t?void 0:t.blockNumber)?`as of block: ${await(null===t||void 0===t?void 0:t.blockNumber)}.`:""}`);const a={},i=[];for(let u=0;u<r.length;u++){const e=o[u];if(!(null===e||void 0===e?void 0:e.success)){const[e,t]=f[u];i.push([e,t]);continue}const[t,n]=f[u],{reserve0:s,reserve1:c}=e.result,l=new Ee.Rm(ve.fromRawAmount(t,s.toString()),ve.fromRawAmount(n,c.toString())),d=r[u];a[d]=l}i.length>0&&u.info({invalidPools:X().map(i,(e=>{let[t,n]=e;return`${t.symbol}/${n.symbol}`}))},`${i.length} pools invalid after checking their slot0 and liquidity results. Dropping.`);const s=X().map(Object.values(a),ke);return u.debug({poolStrs:s},`Found ${s.length} valid pools`),{getPool:(e,t)=>{const{poolAddress:n}=this.getPoolAddress(e,t);return a[n]},getPoolByAddress:e=>a[e],getAllPools:()=>Object.values(a)}}getPoolAddress(e,t){const[n,f]=e.sortsBefore(t)?[e,t]:[t,e],r=`${this.chainId}/${n.address}/${f.address}`,o=this.POOL_ADDRESS_CACHE[r];if(o)return{poolAddress:o,token0:n,token1:f};const a=Ee.Rm.getAddress(n,f);return this.POOL_ADDRESS_CACHE[r]=a,{poolAddress:a,token0:n,token1:f}}async getPoolsData(e,t,n){const{results:f,blockNumber:r}=await Gt()((async()=>this.multicall2Provider.callSameFunctionOnMultipleContracts({addresses:e,contractInterface:xn.createInterface(),functionName:t,providerConfig:n})),this.retryOptions);return u.debug(`Pool data fetched as of block ${r}`),f}}const _n=[{inputs:[],name:"getPricesInWei",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];class Pn{static createInterface(){return new Se.KA(_n)}static connect(e,t){return new xe.Contract(e,_n,t)}}Pn.abi=_n;const Dn=[{inputs:[{internalType:"address",name:"_owner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"DecimalsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"GasPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"L1BaseFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"OverheadUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"}],name:"ScalarUpdated",type:"event"},{inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"gasPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"getL1Fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"getL1GasUsed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"l1BaseFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"overhead",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"scalar",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_decimals",type:"uint256"}],name:"setDecimals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_gasPrice",type:"uint256"}],name:"setGasPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_baseFee",type:"uint256"}],name:"setL1BaseFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_overhead",type:"uint256"}],name:"setOverhead",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_scalar",type:"uint256"}],name:"setScalar",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];class Rn{static createInterface(){return new Se.KA(Dn)}static connect(e,t){return new xe.Contract(e,Dn,t)}}Rn.abi=Dn;class Bn{constructor(e,t,n){if(this.chainId=e,this.multicall2Provider=t,e!=te.OPTIMISM&&e!=te.OPTIMISTIC_KOVAN)throw new Error("This data provider is used only on optimism networks.");this.gasOracleAddress=null!==n&&void 0!==n?n:"0x420000000000000000000000000000000000000F"}async getGasData(){var e,t,n,f;const r=await this.multicall2Provider.callMultipleFunctionsOnSameContract({address:this.gasOracleAddress,contractInterface:Rn.createInterface(),functionNames:["l1BaseFee","scalar","decimals","overhead"]});if(!(null===(e=r.results[0])||void 0===e?void 0:e.success)||!(null===(t=r.results[1])||void 0===t?void 0:t.success)||!(null===(n=r.results[2])||void 0===n?void 0:n.success)||!(null===(f=r.results[3])||void 0===f?void 0:f.success))throw u.info({results:r.results},"Failed to get gas constants data from the optimism gas oracle"),new Error("Failed to get gas constants data from the optimism gas oracle");const{result:o}=r.results[0],{result:a}=r.results[1],{result:i}=r.results[2],{result:s}=r.results[3];return{l1BaseFee:o[0],scalar:a[0],decimals:i[0],overhead:s[0]}}}class Mn{constructor(e,t,n){this.chainId=e,this.provider=t,this.gasFeesAddress=n||"0x000000000000000000000000000000000000006C"}async getGasData(){const e=Pn.connect(this.gasFeesAddress,this.provider),t=await e.getPricesInWei();return{perL2TxFee:t[0],perL1CalldataFee:t[1],perArbGasTotal:t[5]}}}const Fn=[{inputs:[],name:"feeGrowthGlobal0X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeGrowthGlobal1X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidity",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"observations",outputs:[{internalType:"uint32",name:"blockTimestamp",type:"uint32"},{internalType:"int56",name:"tickCumulative",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityCumulativeX128",type:"uint160"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"}],name:"positions",outputs:[{internalType:"uint128",name:"_liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolFees",outputs:[{internalType:"uint128",name:"token0",type:"uint128"},{internalType:"uint128",name:"token1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"slot0",outputs:[{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{internalType:"int24",name:"tick",type:"int24"},{internalType:"uint16",name:"observationIndex",type:"uint16"},{internalType:"uint16",name:"observationCardinality",type:"uint16"},{internalType:"uint16",name:"observationCardinalityNext",type:"uint16"},{internalType:"uint8",name:"feeProtocol",type:"uint8"},{internalType:"bool",name:"unlocked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int16",name:"wordPosition",type:"int16"}],name:"tickBitmap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"tick",type:"int24"}],name:"ticks",outputs:[{internalType:"uint128",name:"liquidityGross",type:"uint128"},{internalType:"int128",name:"liquidityNet",type:"int128"},{internalType:"uint256",name:"feeGrowthOutside0X128",type:"uint256"},{internalType:"uint256",name:"feeGrowthOutside1X128",type:"uint256"},{internalType:"int56",name:"tickCumulativeOutside",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityOutsideX128",type:"uint160"},{internalType:"uint32",name:"secondsOutside",type:"uint32"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"}];class Nn{static createInterface(){return new Se.KA(Fn)}static connect(e,t){return new xe.Contract(e,Fn,t)}}Nn.abi=Fn;class Un{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{retries:2,minTimeout:50,maxTimeout:500};this.chainId=e,this.multicall2Provider=t,this.retryOptions=n,this.POOL_ADDRESS_CACHE={}}async getPools(e,t){const n=new Set,f=[],r=[];for(const u of e){const[e,t,o]=u,{poolAddress:a,token0:i,token1:s}=this.getPoolAddress(e,t,o);n.has(a)||(n.add(a),f.push([i,s,o]),r.push(a))}u.debug(`getPools called with ${e.length} token pairs. Deduped down to ${n.size}`);const[o,a]=await Promise.all([this.getPoolsData(r,"slot0",t),this.getPoolsData(r,"liquidity",t)]);u.info(`Got liquidity and slot0s for ${n.size} pools ${(null===t||void 0===t?void 0:t.blockNumber)?`as of block: ${null===t||void 0===t?void 0:t.blockNumber}.`:""}`);const i={},s=[];for(let u=0;u<r.length;u++){const e=o[u],t=a[u];if(!(null===e||void 0===e?void 0:e.success)||!(null===t||void 0===t?void 0:t.success)||e.result.sqrtPriceX96.eq(0)){const[e,t,n]=f[u];s.push([e,t,n]);continue}const[n,c,l]=f[u],d=e.result,p=t.result[0],h=new ne.Pool(n,c,l,d.sqrtPriceX96.toString(),p.toString(),d.tick),m=r[u];i[m]=h}s.length>0&&u.info({invalidPools:X().map(s,(e=>{let[t,n,f]=e;return`${t.symbol}/${n.symbol}/${f/1e4}%`}))},`${s.length} pools invalid after checking their slot0 and liquidity results. Dropping.`);const c=X().map(Object.values(i),ke);return u.debug({poolStrs:c},`Found ${c.length} valid pools`),{getPool:(e,t,n)=>{const{poolAddress:f}=this.getPoolAddress(e,t,n);return i[f]},getPoolByAddress:e=>i[e],getAllPools:()=>Object.values(i)}}getPoolAddress(e,t,n){const[f,r]=e.sortsBefore(t)?[e,t]:[t,e],o=`${this.chainId}/${f.address}/${r.address}/${n}`,a=this.POOL_ADDRESS_CACHE[o];if(a)return{poolAddress:a,token0:f,token1:r};const i=(0,ne.computePoolAddress)({factoryAddress:pe[this.chainId],tokenA:f,tokenB:r,fee:n});return this.POOL_ADDRESS_CACHE[o]=i,{poolAddress:i,token0:f,token1:r}}async getPoolsData(e,t,n){const{results:f,blockNumber:r}=await Gt()((async()=>this.multicall2Provider.callSameFunctionOnMultipleContracts({addresses:e,contractInterface:Nn.createInterface(),functionName:t,providerConfig:n})),this.retryOptions);return u.debug(`Pool data fetched as of block ${r}`),f}}function Ln(e,t,n,f){const r=X().filter(f,(e=>e.protocol===Ie.Protocol.V3)),o=X().filter(f,(e=>e.protocol===Ie.Protocol.V2)),a=X().filter(f,(e=>e.protocol===Ie.Protocol.MIXED)),i=X().map(r,(f=>{const{route:r,amount:o,quote:a}=f;if(n==d.EXACT_INPUT){const n=ve.fromFractionalAmount(e,o.numerator,o.denominator),f=ve.fromFractionalAmount(t,a.numerator,a.denominator);return{routev3:new ne.Route(r.pools,n.currency,f.currency),inputAmount:n,outputAmount:f}}{const n=ve.fromFractionalAmount(e,a.numerator,a.denominator),f=ve.fromFractionalAmount(t,o.numerator,o.denominator);return{routev3:new ne.Route(r.pools,n.currency,f.currency),inputAmount:n,outputAmount:f}}})),s=X().map(o,(f=>{const{route:r,amount:o,quote:a}=f;if(n==d.EXACT_INPUT){const n=ve.fromFractionalAmount(e,o.numerator,o.denominator),f=ve.fromFractionalAmount(t,a.numerator,a.denominator);return{routev2:new Ee.qh(r.pairs,n.currency,f.currency),inputAmount:n,outputAmount:f}}{const n=ve.fromFractionalAmount(e,a.numerator,a.denominator),f=ve.fromFractionalAmount(t,o.numerator,o.denominator);return{routev2:new Ee.qh(r.pairs,n.currency,f.currency),inputAmount:n,outputAmount:f}}})),u=X().map(a,(f=>{const{route:r,amount:o,quote:a}=f;if(n!=d.EXACT_INPUT)throw new Error("Mixed routes are only supported for exact input trades");const i=ve.fromFractionalAmount(e,o.numerator,o.denominator),s=ve.fromFractionalAmount(t,a.numerator,a.denominator);return{mixedRoute:new Ie.MixedRouteSDK(r.pools,i.currency,s.currency),inputAmount:i,outputAmount:s}}));return new Ie.Trade({v2Routes:s,v3Routes:i,mixedRoutes:u,tradeType:n})}function Gn(e,t){const{recipient:n,slippageTolerance:f,deadline:r,inputTokenPermit:o}=t;return Ie.SwapRouter.swapCallParameters(e,{recipient:n,slippageTolerance:f,deadlineOrPreviousBlockhash:r,inputTokenPermit:o})}const qn={name:"Unsupported Token List",timestamp:"2021-01-05T20:47:02.923Z",version:{major:1,minor:0,patch:0},tags:{},logoURI:"ipfs://QmNa8mQkrNKp1WEEeGjFezDmDeodkWRevGFN8JCV7b4Xir",keywords:["uniswap","unsupported","broken"],tokens:[{name:"USD Token",address:"0xd233d1f6fd11640081abb8db125f722b5dc729dc",symbol:"USD",decimals:9,chainId:1,logoURI:""},{name:"UNI HODL",address:"0x4bf5dc91E2555449293D7824028Eb8Fe5879B689",symbol:"UniH",decimals:18,chainId:1,logoURI:""},{name:"Gold Tether",address:"0x4922a015c4407F87432B179bb209e125432E4a2A",symbol:"XAUt",decimals:6,chainId:1,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x4922a015c4407F87432B179bb209e125432E4a2A/logo.png"},{name:"Grump Cat",address:"0x93B2FfF814FCaEFFB01406e80B4Ecd89Ca6A021b",symbol:"GRUMPY",decimals:9,chainId:1,logoURI:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x4922a015c4407F87432B179bb209e125432E4a2A/logo.png"},{name:"apeUSD-UMA Synthetic USD (Dec 2021)",address:"0xfA5e27893aee4805283D86e4283Da64F8c72dd56",symbol:"apeUSD-UMA-DEC21",decimals:18,chainId:1,logoURI:""},{chainId:1,address:"0xc6b11850241c5127eab73af4b6c68bc267cbbff4",name:"oWETHp Put 360 DEC2520",symbol:"oWETH-360P-12/25/20",decimals:7},{chainId:1,name:"oYFIp Put 25000 OCT0220",address:"0x452b421be5b30f0c6ad8c3f03c06bdaab4f5c56c",symbol:"oYFI-25000P-10/02/20",decimals:7},{chainId:1,name:"oWETHp Put 360 OCT3020",address:"0x0578779e746d7186253a36cf651ea786acfcf087",symbol:"oWETH-360P-10/30/20",decimals:7},{chainId:1,name:"ETHc Call 500 OCT3020",address:"0xf9aba2e43fb19184408ea3b572a0fd672946f87b",symbol:"oETH-500C-10/30/20",decimals:6},{chainId:1,name:"oBALp Put 22 OCT0220",address:"0xdb0991dfc7e828b5a2837dc82d68e16490562c8d",symbol:"oBAL-22P-10/02/20",decimals:7},{chainId:1,name:"oCOMPp Put 150 SEP2520",address:"0xe951ebe6b4420ab3f4844cf36dedd263d095b416",symbol:"oCOMP-150P-09/25/20",decimals:7},{chainId:1,name:"oCRVp Put 3 SEP252020",address:"0x9215bd49b59748419eac6bad9dbe247df06ebdb9",symbol:"oCRV-3P-09/25/20",decimals:7},{chainId:1,name:"oETHp Put 180 SEP2520",address:"0xE3A2c34Fa2F59ffa95C4ACd1E5663633d45Bc3AD",symbol:"oETH-180P-09/25/20",decimals:7},{chainId:1,name:"oETHc Call 400 SEP2520",address:"0x05977EBC26825C0CD6097E0Ad7204721516711Eb",symbol:"oETH-400C-09/25/20",decimals:7},{chainId:1,name:"oWETHp Put 380 SEP1820",address:"0x31f88266301b08631f9f0e33fd5c43c2a5d1e5b2",symbol:"oWETH-380P-09/18/20",decimals:7},{chainId:1,name:"oYFIp Put 8500 SEP1820",address:"0xd1cec2f67fdc4c60e0963515dfc3343f31e32e47",symbol:"oYFI-8500P-09/18/20",decimals:7},{chainId:1,name:"oWETHp Put 370 SEP1120",address:"0x15844029b2c2bf24506e9937739a9a912f1e4354",symbol:"oWETH-370P-09/11/20",decimals:7},{chainId:1,name:"oWETHp Put 400 SEP0420",address:"0x5562c33c383f6386be4f6dcdbd35a3a99bbcfde6",symbol:"oWETH-400P-09/04/20",decimals:7},{chainId:1,name:"oETHp Put 200 AUG2820",address:"0x3CBFC1397deF0602c2d211c70A1c0c38CEDB5448",symbol:"oWETH-400P-09/04/20",decimals:7},{chainId:1,name:"Opyn cDai Insurance",symbol:"ocDai",address:"0x98cc3bd6af1880fcfda17ac477b2f612980e5e33",decimals:8},{chainId:1,name:"Opyn cUSDC Insurance",symbol:"ocUSDC",address:"0x8ED9f862363fFdFD3a07546e618214b6D59F03d4",decimals:8},{chainId:1,address:"0x176C674Ee533C6139B0dc8b458D72A93dCB3e705",symbol:"iAAVE",name:"Synth Inverse Aave",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iAAVE.svg",tags:["inverse","synth"]},{chainId:1,address:"0x8A8079c7149B8A1611e5C5d978DCA3bE16545F83",symbol:"iADA",name:"Synth Inverse Cardano",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iADA.svg",tags:["inverse","synth"]},{chainId:1,address:"0xAFD870F32CE54EfdBF677466B612bf8ad164454B",symbol:"iBNB",name:"Synth Inverse Binance Coin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iBNB.svg",tags:["inverse","synth"]},{chainId:1,address:"0xD6014EA05BDe904448B743833dDF07c3C7837481",symbol:"iBTC",name:"Synth Inverse Bitcoin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iBTC.svg",tags:["inverse","synth"]},{chainId:1,address:"0x336213e1DDFC69f4701Fc3F86F4ef4A160c1159d",symbol:"iCEX",name:"Synth Inverse Centralised Exchange Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iCEX.svg",tags:["index","inverse","synth"]},{chainId:1,address:"0x6345728B1ccE16E6f8C509950b5c84FFF88530d9",symbol:"iCOMP",name:"Synth Inverse Compound",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iCOMP.svg",tags:["inverse","synth"]},{chainId:1,address:"0xCB98f42221b2C251A4E74A1609722eE09f0cc08E",symbol:"iDASH",name:"Synth Inverse Dash",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iDASH.svg",tags:["inverse","synth"]},{chainId:1,address:"0x14d10003807AC60d07BB0ba82cAeaC8d2087c157",symbol:"iDEFI",name:"Synth Inverse DeFi Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iDEFI.svg",tags:["index","inverse","synth"]},{chainId:1,address:"0x46a97629C9C1F58De6EC18C7F536e7E6d6A6ecDe",symbol:"iDOT",name:"Synth Inverse Polkadot",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iDOT.svg",tags:["inverse","synth"]},{chainId:1,address:"0xF4EebDD0704021eF2a6Bbe993fdf93030Cd784b4",symbol:"iEOS",name:"Synth Inverse EOS",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iEOS.svg",tags:["inverse","synth"]},{chainId:1,address:"0xd50c1746D835d2770dDA3703B69187bFfeB14126",symbol:"iETC",name:"Synth Inverse Ethereum Classic",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iETC.svg",tags:["inverse","synth"]},{chainId:1,address:"0xA9859874e1743A32409f75bB11549892138BBA1E",symbol:"iETH",name:"Synth Inverse Ether",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iETH.svg",tags:["inverse","synth"]},{chainId:1,address:"0x2d7aC061fc3db53c39fe1607fB8cec1B2C162B01",symbol:"iLINK",name:"Synth Inverse Chainlink",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iLINK.svg",tags:["inverse","synth"]},{chainId:1,address:"0x79da1431150C9b82D2E5dfc1C68B33216846851e",symbol:"iLTC",name:"Synth Inverse Litecoin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iLTC.svg",tags:["inverse","synth"]},{chainId:1,address:"0xA5a5DF41883Cdc00c4cCC6E8097130535399d9a3",symbol:"iOIL",name:"Synth Inverse Perpetual Oil Futures",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iOIL.svg",tags:["inverse","synth"]},{chainId:1,address:"0x0fEd38108bdb8e62ef7b5680E8E0726E2F29e0De",symbol:"iREN",name:"Synth Inverse Ren",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iREN.svg",tags:["inverse","synth"]},{chainId:1,address:"0xC5807183a9661A533CB08CbC297594a0B864dc12",symbol:"iTRX",name:"Synth Inverse TRON",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iTRX.svg",tags:["inverse","synth"]},{chainId:1,address:"0x36A00FF9072570eF4B9292117850B8FE08d96cce",symbol:"iUNI",name:"Synth Inverse Uniswap",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iUNI.svg",tags:["inverse","synth"]},{chainId:1,address:"0x4AdF728E2Df4945082cDD6053869f51278fae196",symbol:"iXMR",name:"Synth Inverse Monero",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iXMR.svg",tags:["inverse","synth"]},{chainId:1,address:"0x27269b3e45A4D3E79A3D6BFeE0C8fB13d0D711A6",symbol:"iXRP",name:"Synth Inverse Ripple",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iXRP.svg",tags:["inverse","synth"]},{chainId:1,address:"0x8deef89058090ac5655A99EEB451a4f9183D1678",symbol:"iXTZ",name:"Synth Inverse Tezos",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iXTZ.svg",tags:["inverse","synth"]},{chainId:1,address:"0x592244301CeA952d6daB2fdC1fE6bd9E53917306",symbol:"iYFI",name:"Synth Inverse yearn.finance",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/iYFI.svg",tags:["inverse","synth"]},{chainId:1,address:"0xcD39b5434a0A92cf47D1F567a7dF84bE356814F0",symbol:"s1INCH",name:"Synth 1inch",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/s1INCH.svg",tags:["synth"]},{chainId:1,address:"0x7537AAe01f3B218DAE75e10d952473823F961B87",symbol:"sAAPL",name:"Synth Apple",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sAAPL.svg",tags:["synth"]},{chainId:1,address:"0xd2dF355C19471c8bd7D8A3aa27Ff4e26A21b4076",symbol:"sAAVE",name:"Synth Aave",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sAAVE.svg",tags:["synth"]},{chainId:1,address:"0xe36E2D3c7c34281FA3bC737950a68571736880A1",symbol:"sADA",name:"Synth Cardano",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sADA.svg",tags:["synth"]},{chainId:1,address:"0x9CF7E61853ea30A41b02169391b393B901eac457",symbol:"sAMZN",name:"Synth Amazon",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sAMZN.svg",tags:["synth"]},{chainId:1,address:"0xF48e200EAF9906362BB1442fca31e0835773b8B4",symbol:"sAUD",name:"Synth Australian Dollars",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sAUD.svg",tags:["synth"]},{chainId:1,address:"0x617aeCB6137B5108D1E7D4918e3725C8cEbdB848",symbol:"sBNB",name:"Synth Binance Coin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sBNB.svg",tags:["synth"]},{chainId:1,address:"0xfE18be6b3Bd88A2D2A7f928d00292E7a9963CfC6",symbol:"sBTC",name:"Synth Bitcoin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sBTC.svg",tags:["synth"]},{chainId:1,address:"0xeABACD844A196D7Faf3CE596edeBF9900341B420",symbol:"sCEX",name:"Synth Centralised Exchange Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sCEX.svg",tags:["index","synth"]},{chainId:1,address:"0x0F83287FF768D1c1e17a42F44d644D7F22e8ee1d",symbol:"sCHF",name:"Synth Swiss Franc",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sCHF.svg",tags:["synth"]},{chainId:1,address:"0x9EeF4CA7aB9fa8bc0650127341C2d3F707a40f8A",symbol:"sCOIN",name:"Synth Coinbase",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sCOIN.svg",tags:["synth"]},{chainId:1,address:"0xEb029507d3e043DD6C87F2917C4E82B902c35618",symbol:"sCOMP",name:"Synth Compound",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sCOMP.svg",tags:["synth"]},{chainId:1,address:"0xD38aEb759891882e78E957c80656572503D8c1B1",symbol:"sCRV",name:"Synth Curve DAO Token",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sCRV.svg",tags:["synth"]},{chainId:1,address:"0xfE33ae95A9f0DA8A845aF33516EDc240DCD711d6",symbol:"sDASH",name:"Synth Dash",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sDASH.svg",tags:["synth"]},{chainId:1,address:"0xe1aFe1Fd76Fd88f78cBf599ea1846231B8bA3B6B",symbol:"sDEFI",name:"Synth DeFi Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sDEFI.svg",tags:["index","synth"]},{chainId:1,address:"0x1715AC0743102BF5Cd58EfBB6Cf2dC2685d967b6",symbol:"sDOT",name:"Synth Polkadot",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sDOT.svg",tags:["synth"]},{chainId:1,address:"0x88C8Cf3A212c0369698D13FE98Fcb76620389841",symbol:"sEOS",name:"Synth EOS",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sEOS.svg",tags:["synth"]},{chainId:1,address:"0x22602469d704BfFb0936c7A7cfcD18f7aA269375",symbol:"sETC",name:"Synth Ethereum Classic",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sETC.svg",tags:["synth"]},{chainId:1,address:"0x5e74C9036fb86BD7eCdcb084a0673EFc32eA31cb",symbol:"sETH",name:"Synth Ether",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sETH.svg",tags:["synth"]},{chainId:1,address:"0xD71eCFF9342A5Ced620049e616c5035F1dB98620",symbol:"sEUR",name:"Synth Euros",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sEUR.svg",tags:["synth"]},{chainId:1,address:"0xf50B5e535F62a56A9BD2d8e2434204E726c027Fa",symbol:"sFB",name:"Synth Facebook",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sFB.svg",tags:["synth"]},{chainId:1,address:"0x23348160D7f5aca21195dF2b70f28Fce2B0be9fC",symbol:"sFTSE",name:"Synth FTSE 100 Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sFTSE.svg",tags:["synth"]},{chainId:1,address:"0x97fe22E7341a0Cd8Db6F6C021A24Dc8f4DAD855F",symbol:"sGBP",name:"Synth Pound Sterling",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sGBP.svg",tags:["synth"]},{chainId:1,address:"0xC63B8ECCE56aB9C46184eC6aB85e4771fEa4c8AD",symbol:"sGOOG",name:"Synth Alphabet",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sGOOG.svg",tags:["synth"]},{chainId:1,address:"0xF6b1C627e95BFc3c1b4c9B825a032Ff0fBf3e07d",symbol:"sJPY",name:"Synth Japanese Yen",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sJPY.svg",tags:["synth"]},{chainId:1,address:"0x269895a3dF4D73b077Fc823dD6dA1B95f72Aaf9B",symbol:"sKRW",name:"Synth South Korean Won",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sKRW.svg",tags:["synth"]},{chainId:1,address:"0xbBC455cb4F1B9e4bFC4B73970d360c8f032EfEE6",symbol:"sLINK",name:"Synth Chainlink",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sLINK.svg",tags:["synth"]},{chainId:1,address:"0xC14103C2141E842e228FBaC594579e798616ce7A",symbol:"sLTC",name:"Synth Litecoin",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sLTC.svg",tags:["synth"]},{chainId:1,address:"0x745a824D6aBBD236AA794b5530062778A6Ad7523",symbol:"sMSFT",name:"Synth Microsoft",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sMSFT.svg",tags:["synth"]},{chainId:1,address:"0x5A7E3c07604EB515C16b36cd51906a65f021F609",symbol:"sNFLX",name:"Synth Netflix",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sNFLX.svg",tags:["synth"]},{chainId:1,address:"0x757de3ac6B830a931eF178C6634c5C551773155c",symbol:"sNIKKEI",name:"Synth Nikkei 225 Index",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sNIKKEI.svg",tags:["synth"]},{chainId:1,address:"0x6d16cF3EC5F763d4d99cB0B0b110eefD93B11B56",symbol:"sOIL",name:"Synth Perpetual Oil Futures",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sOIL.svg",tags:["synth"]},{chainId:1,address:"0xD31533E8d0f3DF62060e94B3F1318137bB6E3525",symbol:"sREN",name:"Synth Ren",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sREN.svg",tags:["synth"]},{chainId:1,address:"0x0352557B007A4Aae1511C114409b932F06F9E2f4",symbol:"sRUNE",name:"Synth THORChain",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sRUNE.svg",tags:["synth"]},{chainId:1,address:"0xf2E08356588EC5cd9E437552Da87C0076b4970B0",symbol:"sTRX",name:"Synth TRON",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sTRX.svg",tags:["synth"]},{chainId:1,address:"0x918dA91Ccbc32B7a6A0cc4eCd5987bbab6E31e6D",symbol:"sTSLA",name:"Synth Tesla",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sTSLA.svg",tags:["synth"]},{chainId:1,address:"0x30635297E450b930f8693297eBa160D9e6c8eBcf",symbol:"sUNI",name:"Synth Uniswap",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sUNI.svg",tags:["synth"]},{chainId:1,address:"0x6A22e5e94388464181578Aa7A6B869e00fE27846",symbol:"sXAG",name:"Synth Silver Ounce",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sXAG.svg",tags:["synth"]},{chainId:1,address:"0x261EfCdD24CeA98652B9700800a13DfBca4103fF",symbol:"sXAU",name:"Synth Gold Ounce",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sXAU.svg",tags:["synth"]},{chainId:1,address:"0x5299d6F7472DCc137D7f3C4BcfBBB514BaBF341A",symbol:"sXMR",name:"Synth Monero",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sXMR.svg",tags:["synth"]},{chainId:1,address:"0xa2B0fDe6D710e201d0d608e924A484d1A5fEd57c",symbol:"sXRP",name:"Synth Ripple",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sXRP.svg",tags:["synth"]},{chainId:1,address:"0x2e59005c5c0f0a4D77CcA82653d48b46322EE5Cd",symbol:"sXTZ",name:"Synth Tezos",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sXTZ.svg",tags:["synth"]},{chainId:1,address:"0x992058B7DB08F9734d84485bfbC243C4ee6954A7",symbol:"sYFI",name:"Synth yearn.finance",decimals:18,logoURI:"https://raw.githubusercontent.com/Synthetixio/synthetix-assets/v2.0.10/synths/sYFI.svg",tags:["synth"]},{chainId:1,address:"0x81ab848898b5ffD3354dbbEfb333D5D183eEDcB5",name:"yUSD Synthetic Expiring 1 September 2020",symbol:"yUSDSEP20",decimals:18},{chainId:1,address:"0xB2FdD60AD80ca7bA89B9BAb3b5336c2601C020b4",name:"yUSD Synthetic Expiring 1 October 2020",symbol:"yUSDOCT20",decimals:18},{chainId:1,address:"0x208d174775dc39fe18b1b374972f77ddec6c0f73",name:"uUSDrBTC Synthetic Expiring 1 Oct 2020",symbol:"uUSDrBTC-OCT",decimals:18},{chainId:1,address:"0xf06ddacf71e2992e2122a1a0168c6967afdf63ce",name:"uUSDrBTC Synthetic Expiring 31 Dec 2020",symbol:"uUSDrBTC-DEC",decimals:18},{chainId:1,address:"0xd16c79c8a39d44b2f3eb45d2019cd6a42b03e2a9",name:"uUSDwETH Synthetic Expiring 31 Dec 2020",symbol:"uUSDwETH-DEC",decimals:18},{chainId:1,address:"0x3d995510f8d82c2ea341845932b5ddde0bead9a3",name:"uGAS-JAN21 Token Expiring 31 Jan 2021",symbol:"uGAS-JAN21",decimals:18},{chainId:1,address:"0x90f802c7e8fb5d40b0de583e34c065a3bd2020d8",name:"YD-ETH-MAR21 Token Expiring 31 Mar 2021",symbol:"YD-ETH-MAR21",decimals:18},{chainId:1,address:"0x002f0b1a71c5730cf2f4da1970a889207bdb6d0d",name:"YD-BTC-MAR21 Token Expiring 31 Mar 2021",symbol:"YD-BTC-MAR21",decimals:18},{chainId:1,address:"0x1062ad0e59fa67fa0b27369113098cc941dd0d5f",name:"UMA 35 Call Expirying 30 Apr 2021",symbol:"UMAc35-0421",decimals:18},{chainId:1,address:"0xf93340b1a3adf7eedcaec25fae8171d4b736e89f",name:"pxUSD Synthetic USD Expiring 1 April 2021",symbol:"pxUSD_MAR2021",decimals:18},{chainId:1,address:"0x84bd083b1c8bf929f39c98bc17cf518f40154f58",name:"Mario Cash Synthetic Token Expiring 15 January 2021",symbol:"Mario Cash-JAN-2021",decimals:18},{chainId:1,address:"0x81fab276aec924fbde190cf379783526d413cf70",name:"uGAS-FEB21 Token Expiring 28 Feb 2021",symbol:"uGAS-FEB21",decimals:18},{chainId:1,address:"0x4e110603e70b0b5f1c403ee543b37e1f1244cf28",name:"uGAS-MAR21 Token Expiring 31 Mar 2021",symbol:"uGAS-MAR21",decimals:18},{chainId:1,address:"0xcf55a7f92d5e0c6683debbc1fc20c0a6e056df13",name:"Zelda Elastic Cash",symbol:"Zelda Elastic Cash",decimals:18},{chainId:1,address:"0x654eebac62240e6c56bab5f6adf7cfa74a894510",name:"Zelda Spring Nuts Cash",symbol:"Zelda Spring Nuts Cash",decimals:18},{chainId:1,address:"0xa48920cc1ad85d8ea13af5d7be180c0338c306dd",name:"Zelda Summer Nuts Cash",symbol:"Zelda Summer Nuts Cash",decimals:18},{chainId:1,address:"0x249a198d59b57fda5dda90630febc86fd8c7594c",name:"Zelda Whirlwind Cash",symbol:"Zelda Whirlwind Cash",decimals:18},{chainId:1,address:"0x5ed1406873c9eb91f6f9a67ac4e152387c1132e7",name:"Zelda Reinforced Cash",symbol:"Zelda Reinforced Cash",decimals:18},{chainId:1,address:"0x8104c9f13118320eefe5fbea8a44d600b85981ef",name:"Mini Mario Summer Cash",symbol:"Mini Mario Summer Cash",decimals:18},{chainId:1,address:"0x69746c719e59674b147df25f50e7cfa0673cb625",name:"Mini Mario Spring Cash",symbol:"Mini Mario Spring Cash",decimals:18},{chainId:1,address:"0x6b1257641d18791141f025eab36fb567c4b564ff",name:"Bitcoin Dominance Token 31 March 2021",symbol:"BTCDOM-MAR2021",decimals:18},{chainId:1,address:"0x4e83b6287588a96321b2661c5e041845ff7814af",name:"Altcoin Dominance Token 31 March 2021",symbol:"ALTDOM-MAR2021",decimals:18},{chainId:1,address:"0x59fec83ec709c893aedd1a144cf1828eb04127cd",name:"pxGOLD Synthetic GOLD Expiring 31 May 2021",symbol:"pxGOLD_MAY2021",decimals:18},{chainId:1,address:"0x89337BFb7938804c3776C9FB921EccAf5ab76758",name:"Compound Annualized Rate Future Expiring 28 March 2021",symbol:"CAR-USDC-MAR21",decimals:18},{chainId:1,address:"0xec58d3aefc9aaa2e0036fa65f70d569f49d9d1ed",name:"uSTONKS Index Token April 2021",symbol:"uSTONKS_APR21",decimals:6},{chainId:1,address:"0xa6B9d7E3d76cF23549293Fb22c488E0Ea591A44e",name:"uGAS-JUN21 Token Expiring 30 Jun 2021",symbol:"uGAS-JUN21",decimals:18},{chainId:1,address:"0xe813b65da6c38a04591aed3f082d32db7d53c382",name:"Yield Dollar [WETH Dec 2021]",symbol:"YD-ETH-DEC21",decimals:18},{chainId:1,address:"0x4b606e9eb2228c70f44453afe5a73e1fea258ce1",name:"pxUSD Synthetic USD Expiring 31 Mar 2022",symbol:"pxUSD_MAR2022",decimals:18},{chainId:1,address:"0x5247c0db4044fb6f97f32c7e1b48758019a5a912",name:"pxGOLD Synthetic Gold Expiring 31 Mar 2022",symbol:"pxGOLD_MAR2022",decimals:18},{chainId:1,address:"0x56fb1acaff95c0b6ebcd17c8361a63d98b1a5a11",name:"uForex CNYUSD Synthetic Token April 2021",symbol:"uCNYUSD-APR",decimals:6},{chainId:1,address:"0xd49fa405dce086c65d66ca1ca41f8e98583812b4",name:"uForex EURUSD Synthetic Token April 2021",symbol:"uEURUSD-APR",decimals:6},{chainId:1,address:"0x29dddacba3b231ee8d673dd0f0fa759ea145561b",name:"DEFI_PULSE_TOTAL_TVL Synthetic Token Expiring 15 April 2021",symbol:"TVL_ALL_APRIL15",decimals:6},{chainId:1,address:"0xcbe430927370e95b4b10cfc702c6017ec7abefc3",name:"Yield Dollar [WETH Jun 2021]",symbol:"YD-ETH-JUN21",decimals:18},{chainId:1,address:"0x4b7fb448df91c8ed973494f8c8c4f12daf3a8521",name:"Yield Dollar [renBTC Jun 2021]",symbol:"YD-BTC-JUN21",decimals:8},{chainId:1,address:"0x3108c33b6fb38efedaefd8b5f7ca01d5f5c7372d",name:"Yield Dollar UMA 21",symbol:"yUMA21",decimals:18},{chainId:1,address:"0x0cae9e4d663793c2a2A0b211c1Cf4bBca2B9cAa7",name:"Mirrored Amazon",symbol:"MAMZN",decimals:18},{chainId:1,address:"0x31c63146a635EB7465e5853020b39713AC356991",name:"M US Oil",symbol:"MUSO",decimals:18},{chainId:1,address:"0x59A921Db27Dd6d4d974745B7FfC5c33932653442",name:"M Google",symbol:"MGOOGL",decimals:18},{chainId:1,address:"0xf72FCd9DCF0190923Fadd44811E240Ef4533fc86",name:"Mirrored ProShares",symbol:"MVIXY",decimals:18},{chainId:1,address:"0x56aA298a19C93c6801FDde870fA63EF75Cc0aF72",name:"Mirrored Alibaba",symbol:"MBABA",decimals:18},{chainId:1,address:"0x0e99cC0535BB6251F6679Fa6E65d6d3b430e840B",name:"Mirrored Facebook",symbol:"MFB",decimals:18},{chainId:1,address:"0x13B02c8dE71680e71F0820c996E4bE43c2F57d15",name:"Mirrored Invesco QQ",symbol:"MQQQ",decimals:18},{chainId:1,address:"0x41BbEDd7286dAab5910a1f15d12CBda839852BD7",name:"Mirrored Microsoft",symbol:"MMSFT",decimals:18},{chainId:1,address:"0x9d1555d8cB3C846Bb4f7D5B1B1080872c3166676",name:"Mirrored iShares Si",symbol:"MSLV",decimals:18},{chainId:1,address:"0x21cA39943E91d704678F5D00b6616650F066fD63",name:"Mirrored Tesla",symbol:"MTSLA",decimals:18},{chainId:1,address:"0xe82bbB62fA81d0701643d1675FB50ec52fD3Df92",name:"DYDX Token",symbol:"DYDX",decimals:18},{chainId:10,address:"0xE405de8F52ba7559f9df3C368500B6E6ae6Cee49",name:"sETH",symbol:"Synth Ether",decimals:18},{chainId:10,address:"0x298B9B95708152ff6968aafd889c6586e9169f1D",name:"sBTC",symbol:"Synth Bitcoin",decimals:18},{chainId:10,address:"0xc5Db22719A06418028A40A9B5E9A7c02959D0d08",name:"sLINK",symbol:"Synth Link",decimals:18},{chainId:1,address:"0x6B60eE11b73230045cF9095E6e43AE9Ea638e172",name:"Shatner",symbol:"SHAT",decimals:18},{chainId:1,address:"0x7277a44D1325D81Ac58893002a1B40a41bea43fe",name:"FAANG Index",symbol:"FAANG",decimals:18},{chainId:1,address:"0x76175599887730786bdA1545D0D7AcE8737fEBB1",name:"ENS DAO",symbol:"ENS",decimals:18}]},jn=e=>{switch(e){case te.OPTIMISM:case te.OPTIMISTIC_KOVAN:return{v2PoolSelection:{topN:3,topNDirectSwaps:1,topNTokenInOut:5,topNSecondHop:2,topNWithEachBaseToken:2,topNWithBaseToken:6},v3PoolSelection:{topN:2,topNDirectSwaps:2,topNTokenInOut:2,topNSecondHop:1,topNWithEachBaseToken:3,topNWithBaseToken:3},maxSwapsPerPath:3,minSplits:1,maxSplits:7,distributionPercent:10,forceCrossProtocol:!1};case te.ARBITRUM_ONE:case te.ARBITRUM_RINKEBY:case te.CELO:case te.CELO_ALFAJORES:return{v2PoolSelection:{topN:3,topNDirectSwaps:1,topNTokenInOut:5,topNSecondHop:2,topNWithEachBaseToken:2,topNWithBaseToken:6},v3PoolSelection:{topN:2,topNDirectSwaps:2,topNTokenInOut:2,topNSecondHop:1,topNWithEachBaseToken:3,topNWithBaseToken:2},maxSwapsPerPath:2,minSplits:1,maxSplits:7,distributionPercent:25,forceCrossProtocol:!1};default:return{v2PoolSelection:{topN:3,topNDirectSwaps:1,topNTokenInOut:5,topNSecondHop:2,topNWithEachBaseToken:2,topNWithBaseToken:6},v3PoolSelection:{topN:2,topNDirectSwaps:2,topNTokenInOut:3,topNSecondHop:1,topNWithEachBaseToken:3,topNWithBaseToken:5},maxSwapsPerPath:3,minSplits:1,maxSplits:7,distributionPercent:5,forceCrossProtocol:!1}}};class Vn{constructor(e){let{amount:t,rawQuote:n,percent:f,route:r,gasModel:o,quoteToken:a,tradeType:i,v2PoolProvider:s}=e;this.protocol=Ie.Protocol.V2,this.amount=t,this.rawQuote=n,this.quote=ve.fromRawAmount(a,n.toString()),this.percent=f,this.route=r,this.gasModel=o,this.quoteToken=a,this.tradeType=i;const{gasEstimate:u,gasCostInToken:c,gasCostInUSD:l}=this.gasModel.estimateGasCost(this);if(this.gasCostInToken=c,this.gasCostInUSD=l,this.gasEstimate=u,this.tradeType==d.EXACT_INPUT){const e=this.quote.subtract(c);this.quoteAdjustedForGas=e}else{const e=this.quote.add(c);this.quoteAdjustedForGas=e}this.poolAddresses=X().map(r.pairs,(e=>s.getPoolAddress(e.token0,e.token1).poolAddress)),this.tokenPath=this.route.path}toString(){return`${this.percent.toFixed(2)}% QuoteGasAdj[${this.quoteAdjustedForGas.toExact()}] Quote[${this.quote.toExact()}] Gas[${this.gasEstimate.toString()}] = ${we(this.route)}`}}class $n{constructor(e){let{amount:t,rawQuote:n,sqrtPriceX96AfterList:f,initializedTicksCrossedList:r,quoterGasEstimate:o,percent:a,route:i,gasModel:s,quoteToken:u,tradeType:c,v3PoolProvider:l}=e;this.protocol=Ie.Protocol.V3,this.amount=t,this.rawQuote=n,this.sqrtPriceX96AfterList=f,this.initializedTicksCrossedList=r,this.quoterGasEstimate=o,this.quote=ve.fromRawAmount(u,n.toString()),this.percent=a,this.route=i,this.gasModel=s,this.quoteToken=u,this.tradeType=c;const{gasEstimate:p,gasCostInToken:h,gasCostInUSD:m}=this.gasModel.estimateGasCost(this);if(this.gasCostInToken=h,this.gasCostInUSD=m,this.gasEstimate=p,this.tradeType==d.EXACT_INPUT){const e=this.quote.subtract(h);this.quoteAdjustedForGas=e}else{const e=this.quote.add(h);this.quoteAdjustedForGas=e}this.poolAddresses=X().map(i.pools,(e=>l.getPoolAddress(e.token0,e.token1,e.fee).poolAddress)),this.tokenPath=this.route.tokenPath}toString(){return`${this.percent.toFixed(2)}% QuoteGasAdj[${this.quoteAdjustedForGas.toExact()}] Quote[${this.quote.toExact()}] Gas[${this.gasEstimate.toString()}] = ${we(this.route)}`}}class Wn{constructor(e){let{amount:t,rawQuote:n,sqrtPriceX96AfterList:f,initializedTicksCrossedList:r,quoterGasEstimate:o,percent:a,route:i,mixedRouteGasModel:s,quoteToken:u,tradeType:c,v3PoolProvider:l,v2PoolProvider:p}=e;this.protocol=Ie.Protocol.MIXED,this.amount=t,this.rawQuote=n,this.sqrtPriceX96AfterList=f,this.initializedTicksCrossedList=r,this.quoterGasEstimate=o,this.quote=ve.fromRawAmount(u,n.toString()),this.percent=a,this.route=i,this.gasModel=s,this.quoteToken=u,this.tradeType=c;const{gasEstimate:h,gasCostInToken:m,gasCostInUSD:b}=this.gasModel.estimateGasCost(this);if(this.gasCostInToken=m,this.gasCostInUSD=b,this.gasEstimate=h,this.tradeType==d.EXACT_INPUT){const e=this.quote.subtract(m);this.quoteAdjustedForGas=e}else{const e=this.quote.add(m);this.quoteAdjustedForGas=e}this.poolAddresses=X().map(i.pools,(e=>e instanceof ne.Pool?l.getPoolAddress(e.token0,e.token1,e.fee).poolAddress:p.getPoolAddress(e.token0,e.token1).poolAddress)),this.tokenPath=this.route.path}toString(){return`${this.percent.toFixed(2)}% QuoteGasAdj[${this.quoteAdjustedForGas.toExact()}] Quote[${this.quote.toExact()}] Gas[${this.gasEstimate.toString()}] = ${we(this.route)}`}}var Hn=n(17679),Kn=n.n(Hn),Yn=n(38826),Qn=n.n(Yn);const zn={[te.MAINNET]:[Be,Pe,De],[te.RINKEBY]:[Le,Ge],[te.ARBITRUM_ONE]:[st,ot,at],[te.OPTIMISM]:[et,Xe,Je],[te.OPTIMISTIC_KOVAN]:[rt,tt,nt],[te.ARBITRUM_RINKEBY]:[ut,ct],[te.KOVAN]:[ze,Ke,Ye],[te.G\u00d6RLI]:[He,Ve,$e,We],[te.ROPSTEN]:[Ue,Fe,Ne],[te.POLYGON]:[mt],[te.POLYGON_MUMBAI]:[yt],[te.CELO]:[Tt],[te.CELO_ALFAJORES]:[wt],[te.GNOSIS]:[kt],[te.MOONBEAM]:[Ot]};class Xn{}class Jn{}const Zn=Ft.gH.from(0),ef=e=>{switch(e){case te.MAINNET:case te.ROPSTEN:case te.RINKEBY:case te.G\u00d6RLI:case te.OPTIMISM:case te.OPTIMISTIC_KOVAN:case te.KOVAN:return Ft.gH.from(2e3);case te.ARBITRUM_ONE:case te.ARBITRUM_RINKEBY:return Ft.gH.from(5e3);case te.POLYGON:case te.POLYGON_MUMBAI:case te.CELO:case te.CELO_ALFAJORES:case te.GNOSIS:case te.MOONBEAM:return Ft.gH.from(2e3)}},tf=e=>{switch(e){case te.MAINNET:case te.ROPSTEN:case te.RINKEBY:case te.G\u00d6RLI:case te.KOVAN:case te.OPTIMISM:case te.OPTIMISTIC_KOVAN:case te.ARBITRUM_ONE:case te.ARBITRUM_RINKEBY:case te.POLYGON:case te.POLYGON_MUMBAI:case te.CELO:case te.CELO_ALFAJORES:case te.GNOSIS:case te.MOONBEAM:return Ft.gH.from(31e3)}},nf=e=>{switch(e){case te.MAINNET:case te.ROPSTEN:case te.RINKEBY:case te.G\u00d6RLI:case te.KOVAN:case te.OPTIMISM:case te.OPTIMISTIC_KOVAN:case te.ARBITRUM_ONE:case te.ARBITRUM_RINKEBY:case te.POLYGON:case te.POLYGON_MUMBAI:case te.CELO:case te.CELO_ALFAJORES:case te.GNOSIS:case te.MOONBEAM:return Ft.gH.from(8e4)}};class ff extends Jn{constructor(){super()}async buildGasModel(e){let{chainId:t,gasPriceWei:n,v3poolProvider:f,token:r,l2GasDataProvider:o}=e;const a=o?await o.getGasData():void 0,i=await vf(t,f),s=async e=>{const n={recipient:"0x0000000000000000000000000000000000000001",deadline:100,slippageTolerance:new L(5,1e4)};let o=Ft.gH.from(0),s=Ft.gH.from(0);t==te.OPTIMISM||t==te.OPTIMISTIC_KOVAN?[o,s]=this.calculateOptimismToL1SecurityFee(e,n,a):t!=te.ARBITRUM_ONE&&t!=te.ARBITRUM_RINKEBY||([o,s]=this.calculateArbitrumToL1SecurityFee(e,n,a));const c=se[t],l=ve.fromRawAmount(c,s.toString()),d=(i.token0.address==c.address?i.token0Price:i.token1Price).quote(l);let p=l;if(!r.equals(c)){const e=await gf(r,f);if(e){p=(e.token0.address==c.address?e.token0Price:e.token1Price).quote(l)}else u.info("Could not find a pool to convert the cost into the quote token"),p=ve.fromRawAmount(r,0)}return{gasUsedL1:o,gasCostL1USD:d,gasCostL1QuoteToken:p}},c=se[t];if(r.equals(c)){return{estimateGasCost:e=>{const{totalGasCostNativeCurrency:f,baseGasUse:r}=this.estimateGas(e,n,t);return{gasEstimate:r,gasCostInToken:f,gasCostInUSD:(i.token0.address==c.address?i.token0Price:i.token1Price).quote(f)}},calculateL1GasFees:s}}const l=await gf(r,f),d=i.token0.address==c.address?i.token1:i.token0;return{estimateGasCost:(e=>{const{totalGasCostNativeCurrency:f,baseGasUse:o}=this.estimateGas(e,n,t);if(!l)return u.info(`Unable to find ${c.symbol} pool with the quote token, ${r.symbol} to produce gas adjusted costs. Route will not account for gas.`),{gasEstimate:o,gasCostInToken:ve.fromRawAmount(r,0),gasCostInUSD:ve.fromRawAmount(d,0)};const a=l.token0.address==c.address?l.token0Price:l.token1Price;let s;try{s=a.quote(f)}catch(m){throw u.info({nativeTokenPriceBase:a.baseCurrency,nativeTokenPriceQuote:a.quoteCurrency,gasCostInEth:f.currency},"Debug eth price token issue"),m}const p=i.token0.address==c.address?i.token0Price:i.token1Price;let h;try{h=p.quote(f)}catch(m){throw u.info({usdT1:i.token0.symbol,usdT2:i.token1.symbol,gasCostInNativeToken:f.currency.symbol},"Failed to compute USD gas price"),m}return{gasEstimate:o,gasCostInToken:s,gasCostInUSD:h}}).bind(this),calculateL1GasFees:s}}estimateGas(e,t,n){const f=Ft.gH.from(Math.max(1,X().sum(e.initializedTicksCrossedList))),r=Ft.gH.from(e.route.pools.length),o=nf(n).mul(r),a=tf(n).mul(f),i=Zn.mul(0),s=ef(n).add(o).add(a).add(i),u=t.mul(s),c=se[n];return{totalGasCostNativeCurrency:ve.fromRawAmount(c,u.toString()),totalInitializedTicksCrossed:f,baseGasUse:s}}calculateOptimismToL1SecurityFee(e,t,n){const{l1BaseFee:f,scalar:r,decimals:o,overhead:a}=n,i=e[0],s=Tf(Gn(Ln(i.tradeType==d.EXACT_INPUT?i.amount.currency:i.quote.currency,i.tradeType==d.EXACT_INPUT?i.quote.currency:i.amount.currency,i.tradeType,e),t).calldata,a),u=s.mul(f).mul(r),c=Ft.gH.from(10).pow(o);return[s,u.div(c)]}calculateArbitrumToL1SecurityFee(e,t,n){const{perL2TxFee:f,perL1CalldataFee:r}=n,o=e[0],a=Tf(Gn(Ln(o.tradeType==d.EXACT_INPUT?o.amount.currency:o.quote.currency,o.tradeType==d.EXACT_INPUT?o.quote.currency:o.amount.currency,o.tradeType,e),t).calldata,Ft.gH.from(0));let i=a.mul(r);return i=i.add(f),[a,i]}}async function rf(e,t,n,f,r,o,a){const i=Date.now(),{forceMixedRoutes:s}=o;if(s&&(u.info({forceMixedRoutes:s},"Forcing mixed routes by filtering out other route types"),!(n=X().filter(n,(e=>e.protocol===Ie.Protocol.MIXED)))))return null;const c={};for(const u of n)c[u.percent]||(c[u.percent]=[]),c[u.percent].push(u);Z.putMetric("BuildRouteWithValidQuoteObjects",Date.now()-i,K.Milliseconds);const l=await async function(e,t,n,f,r,o,a){var i;const s=X().mapValues(t,(t=>t.sort(((t,n)=>e==d.EXACT_INPUT?r(t).greaterThan(r(n))?-1:1:r(t).lessThan(r(n))?-1:1)))),c=e==d.EXACT_INPUT?(e,t)=>e.greaterThan(t):(e,t)=>e.lessThan(t),l=e=>{let t=e[0];for(let n=1;n<e.length;n++)t=t.add(e[n]);return t};let p,h;const b=new(Kn())(Array,((e,t)=>c(e.quote,t.quote)?-1:1),3),{minSplits:y,maxSplits:g,forceCrossProtocol:v}=o;if(!s[100]||y>1||v)u.info({percentToSortedQuotes:X().mapValues(s,(e=>e.length))},"Did not find a valid route without any splits. Continuing search anyway.");else{p=r(s[100][0]),h=[s[100][0]];for(const e of s[100].slice(0,5))b.push({quote:r(e),routes:[e]})}const T=new(Qn());for(let u=n.length;u>=0;u--){const e=n[u];s[e]&&(T.enqueue({curRoutes:[s[e][0]],percentIndex:u,remainingPercent:100-e,special:!1}),s[e]&&s[e][1]&&T.enqueue({curRoutes:[s[e][1]],percentIndex:u,remainingPercent:100-e,special:!0}))}let A=1,I=Date.now();for(;T.size>0;){Z.putMetric(`Split${A}Done`,Date.now()-I,K.Milliseconds),I=Date.now(),u.info({top5:X().map(Array.from(b.consume()),(e=>`${e.quote.toExact()} (${X()(e.routes).map((e=>e.toString())).join(", ")})`)),onQueue:T.size},`Top 3 with ${A} splits`),b.clear();let t=T.size;if(A++,A>=3&&h&&h.length<A-1)break;if(A>g){u.info("Max splits reached. Stopping search."),Z.putMetric("MaxSplitsHitReached",1,K.Count);break}for(;t>0;){t--;const{remainingPercent:o,curRoutes:i,percentIndex:u,special:m}=T.dequeue();for(let t=u;t>=0;t--){const u=n[t];if(u>o)continue;if(!s[u])continue;const g=s[u],I=of(i,g,v);if(!I)continue;const E=o-u,w=[...i,I];if(0==E&&A>=y){const t=l(X().map(w,(e=>r(e))));let n=ve.fromRawAmount(t.currency,0);if(re.includes(f)){const e=w.every((e=>e.protocol==Ie.Protocol.V3));if(void 0==a||!e)throw new Error("Can't compute L1 gas fees.");n=(await a.calculateL1GasFees(w)).gasCostL1QuoteToken}const o=e==d.EXACT_INPUT?t.subtract(n):t.add(n);b.push({quote:o,routes:w}),p&&!c(o,p)||(p=o,h=w,m&&Z.putMetric("BestSwapNotPickingBestForPercent",1,K.Count))}else T.enqueue({curRoutes:w,remainingPercent:E,percentIndex:t,special:m})}}}if(!h)return void u.info("Could not find a valid swap");const E=Date.now();let w=l(X().map(h,(e=>e.quoteAdjustedForGas)));const C=X()(h).map((e=>e.gasEstimate)).reduce(((e,t)=>e.add(t)),Ft.gH.from(0));if(!zn[f]||!zn[f][0])throw new Error(`Could not find a USD token for computing gas costs on ${f}`);const k=zn[f][0],S=k.decimals;let x={gasUsedL1:Ft.gH.from(0),gasCostL1USD:ve.fromRawAmount(k,0),gasCostL1QuoteToken:ve.fromRawAmount(null===(i=h[0])||void 0===i?void 0:i.quoteToken,0)};if(re.includes(f)){const e=h.every((e=>e.protocol==Ie.Protocol.V3));if(void 0==a||!e)throw new Error("Can't compute L1 gas fees.");x=await a.calculateL1GasFees(h)}const{gasCostL1USD:O,gasCostL1QuoteToken:_}=x,P=X()(h).map((e=>{const t=S-e.gasCostInUSD.currency.decimals;return 0==t?ve.fromRawAmount(k,e.gasCostInUSD.quotient):ve.fromRawAmount(k,m().multiply(e.gasCostInUSD.quotient,m().exponentiate(m().BigInt(10),m().BigInt(t))))})).value();let D=l(P);if(D.currency!=O.currency){const e=S-O.currency.decimals;D=D.add(ve.fromRawAmount(k,m().multiply(O.quotient,m().exponentiate(m().BigInt(10),m().BigInt(e)))))}else D=D.add(O);u.info({estimatedGasUsedUSD:D.toExact(),normalizedUsdToken:k,routeUSDGasEstimates:X().map(h,(e=>`${e.percent}% ${we(e.route)} ${e.gasCostInUSD.toExact()}`)),flatL1GasCostUSD:O.toExact()},"USD gas estimates of best route");const R=l(X().map(h,(e=>e.gasCostInToken))).add(_),B=l(X().map(h,(e=>e.quote)));if(e==d.EXACT_INPUT){const e=w.subtract(_);w=e}else{const e=w.add(_);w=e}const M=h.sort(((e,t)=>t.amount.greaterThan(e.amount)?1:-1));return Z.putMetric("PostSplitDone",Date.now()-E,K.Milliseconds),{quote:B,quoteGasAdjusted:w,estimatedGasUsed:C,estimatedGasUsedUSD:D,estimatedGasUsedQuoteToken:R,routes:M}}(f,c,t,r,(e=>e.quoteAdjustedForGas),o,a);if(!l)return null;const{routes:p}=l,h=X().reduce(p,((e,t)=>e.add(t.amount)),ve.fromRawAmount(p[0].amount.currency,0)),b=e.subtract(h);return b.greaterThan(0)&&(u.info({missingAmount:b.quotient.toString()},"Optimal route's amounts did not equal exactIn/exactOut total. Adding missing amount to last route in array."),p[p.length-1].amount=p[p.length-1].amount.add(b)),u.info({routes:Ce(p),numSplits:p.length,amount:e.toExact(),quote:l.quote.toExact(),quoteGasAdjusted:l.quoteGasAdjusted.toFixed(Math.min(l.quoteGasAdjusted.currency.decimals,2)),estimatedGasUSD:l.estimatedGasUsedUSD.toFixed(Math.min(l.estimatedGasUsedUSD.currency.decimals,2)),estimatedGasToken:l.estimatedGasUsedQuoteToken.toFixed(Math.min(l.estimatedGasUsedQuoteToken.currency.decimals,2))},`Found best swap route. ${p.length} split.`),l}const of=(e,t,n)=>{const f=new Set,r=X()(e).flatMap((e=>e.poolAddresses)).value();for(const i of r)f.add(i);const o=new Set,a=X()(e).flatMap((e=>e.protocol)).uniq().value();for(const i of a)o.add(i);for(const i of t){const{poolAddresses:e,protocol:t}=i;if(e.some((e=>f.has(e))))continue;if(!(n&&1==o.size)||!o.has(t))return i}return null};function af(e,t,n,f){const r=new B(n.quotient).subtract(e.multiply(f.quotient)).divide(e.multiply(t).add(1));if(r.lessThan(0))throw new Error("routeToRatio: insufficient input token amount");return ve.fromRawAmount(n.currency,r.quotient)}function sf(e,t,n,f,r){const o=Array(f.length).fill(!1),a=[],i=(e,t,o,s,u)=>{if(!(o.length>r))if(o.length>0&&o[o.length-1].involvesToken(t))a.push(n([...o],e,t));else for(let n=0;n<f.length;n++){if(s[n])continue;const r=f[n],a=u||e;if(!r.involvesToken(a))continue;const c=r.token0.equals(a)?r.token1:r.token0;o.push(r),s[n]=!0,i(e,t,o,s,c),s[n]=!1,o.pop()}};return i(e,t,[],o),u.info({routes:a.map(we)},`Computed ${a.length} possible routes.`),a}const uf={[te.MAINNET]:[Pe,De,Re,Be,se[1],Me],[te.RINKEBY]:[Le,Ge],[te.OPTIMISM]:[et,Xe,Je,Ze],[te.OPTIMISTIC_KOVAN]:[rt,tt,ft,nt],[te.ARBITRUM_ONE]:[st,ot,it,at],[te.ARBITRUM_RINKEBY]:[ut,ct],[te.POLYGON]:[mt,pt],[te.POLYGON_MUMBAI]:[yt,bt],[te.CELO]:[Tt,At,gt],[te.CELO_ALFAJORES]:[wt,Ct,It],[te.GNOSIS]:[xt,St,kt],[te.MOONBEAM]:[Pt,Ot,Dt,_t]};async function cf(e){let{tokenIn:t,tokenOut:n,routeType:f,routingConfig:r,subgraphProvider:o,tokenProvider:a,poolProvider:i,blockedTokenListProvider:s,chainId:c}=e;var l,p,h,m,b;const{blockNumber:y,v3PoolSelection:{topN:g,topNDirectSwaps:v,topNTokenInOut:T,topNSecondHop:A,topNWithEachBaseToken:I,topNWithBaseToken:E}}=r,w=t.address.toLowerCase(),C=n.address.toLowerCase(),k=Date.now(),S=await o.getPools(t,n,{blockNumber:y});u.info({samplePools:S.slice(0,3)},"Got all pools from V3 subgraph provider");const x=X().map(S,(e=>({...e,token0:{...e.token0,id:e.token0.id.toLowerCase()},token1:{...e.token1,id:e.token1.id.toLowerCase()}})));Z.putMetric("V3SubgraphPoolsLoad",Date.now()-k,K.Milliseconds);let O=x;if(s){O=[];for(const e of x){const t=await s.getTokenByAddress(e.token0.id),n=await s.getTokenByAddress(e.token1.id);t||n||O.push(e)}}const _=X()(O).sortBy((e=>-e.tvlUSD)).value();u.info(`After filtering blocked tokens went from ${x.length} to ${_.length}.`);const P=new Set,D=e=>{X()(e).map((e=>e.id)).forEach((e=>P.add(e)))},R=null!==(l=uf[c])&&void 0!==l?l:[],B=X()(R).flatMap((e=>X()(_).filter((t=>{const n=e.address.toLowerCase();return t.token0.id==n&&t.token1.id==w||t.token1.id==n&&t.token0.id==w})).sortBy((e=>-e.tvlUSD)).slice(0,I).value())).sortBy((e=>-e.tvlUSD)).slice(0,E).value(),M=X()(R).flatMap((e=>X()(_).filter((t=>{const n=e.address.toLowerCase();return t.token0.id==n&&t.token1.id==C||t.token1.id==n&&t.token0.id==C})).sortBy((e=>-e.tvlUSD)).slice(0,I).value())).sortBy((e=>-e.tvlUSD)).slice(0,E).value();let F=X()(_).filter((e=>!P.has(e.id)&&(e.token0.id==w&&e.token1.id==C||e.token1.id==w&&e.token0.id==C))).slice(0,v).value();0==F.length&&v>0&&(F=X().map([ne.FeeAmount.HIGH,ne.FeeAmount.MEDIUM,ne.FeeAmount.LOW,ne.FeeAmount.LOWEST],(e=>{const{token0:f,token1:r,poolAddress:o}=i.getPoolAddress(t,n,e);return{id:o,feeTier:Ae(e),liquidity:"10000",token0:{id:f.address},token1:{id:r.address},tvlETH:1e4,tvlUSD:1e4}}))),D(F);const N=null===(p=se[c])||void 0===p?void 0:p.address;let U=[];((null===(h=se[c])||void 0===h?void 0:h.symbol)==(null===(m=se[te.MAINNET])||void 0===m?void 0:m.symbol)&&"WETH"!=n.symbol&&"WETH9"!=n.symbol&&"ETH"!=n.symbol||(null===(b=se[c])||void 0===b?void 0:b.symbol)==pt.symbol&&"MATIC"!=n.symbol&&"WMATIC"!=n.symbol)&&(U=X()(_).filter((e=>f==d.EXACT_INPUT?e.token0.id==N&&e.token1.id==C||e.token1.id==N&&e.token0.id==C:e.token0.id==N&&e.token1.id==w||e.token1.id==N&&e.token0.id==w)).slice(0,1).value()),D(U);const L=X()(_).filter((e=>!P.has(e.id))).slice(0,g).value();D(L);const G=X()(_).filter((e=>!P.has(e.id)&&(e.token0.id==w||e.token1.id==w))).slice(0,T).value();D(G);const q=X()(_).filter((e=>!P.has(e.id)&&(e.token0.id==C||e.token1.id==C))).slice(0,T).value();D(q);const j=X()(G).map((e=>w==e.token0.id?e.token1.id:e.token0.id)).flatMap((e=>X()(_).filter((t=>!P.has(t.id)&&(t.token0.id==e||t.token1.id==e))).slice(0,A).value())).uniqBy((e=>e.id)).sortBy((e=>-e.tvlUSD)).slice(0,A).value();D(j);const V=X()(q).map((e=>C==e.token0.id?e.token1.id:e.token0.id)).flatMap((e=>X()(_).filter((t=>!P.has(t.id)&&(t.token0.id==e||t.token1.id==e))).slice(0,A).value())).uniqBy((e=>e.id)).sortBy((e=>-e.tvlUSD)).slice(0,A).value();D(V);const $=X()([...B,...M,...F,...U,...L,...G,...q,...j,...V]).compact().uniqBy((e=>e.id)).value(),W=X()($).flatMap((e=>[e.token0.id,e.token1.id])).compact().uniq().value();u.info(`Getting the ${W.length} tokens within the ${$.length} V3 pools we are considering`);const H=await a.getTokens(W,{blockNumber:y}),Y=e=>{var t,n,f,r;return`${null!==(n=null===(t=H.getTokenByAddress(e.token0.id))||void 0===t?void 0:t.symbol)&&void 0!==n?n:e.token0.id}/${null!==(r=null===(f=H.getTokenByAddress(e.token1.id))||void 0===f?void 0:f.symbol)&&void 0!==r?r:e.token1.id}/${e.feeTier}`};u.info({topByBaseWithTokenIn:B.map(Y),topByBaseWithTokenOut:M.map(Y),topByTVL:L.map(Y),topByTVLUsingTokenIn:G.map(Y),topByTVLUsingTokenOut:q.map(Y),topByTVLUsingTokenInSecondHops:j.map(Y),topByTVLUsingTokenOutSecondHops:V.map(Y),top2DirectSwap:F.map(Y),top2EthQuotePool:U.map(Y)},"V3 Candidate Pools");const Q=X().map($,(e=>{const t=H.getTokenByAddress(e.token0.id),n=H.getTokenByAddress(e.token1.id);let f;try{f=Te(e.feeTier)}catch(r){return void u.info({subgraphPool:e},`Dropping candidate pool for ${e.token0.id}/${e.token1.id}/${e.feeTier} because fee tier not supported`)}if(t&&n)return[t,n,f];u.info(`Dropping candidate pool for ${e.token0.id}/${e.token1.id}/${f} because ${t?e.token1.id:e.token0.id} not found by token provider`)})),z=X().compact(Q),J=Date.now(),ee=await i.getPools(z);Z.putMetric("V3PoolsLoad",Date.now()-J,K.Milliseconds);return{poolAccessor:ee,candidatePools:{protocol:Ie.Protocol.V3,selections:{topByBaseWithTokenIn:B,topByBaseWithTokenOut:M,topByDirectSwapPool:F,topByEthQuoteTokenPool:U,topByTVL:L,topByTVLUsingTokenIn:G,topByTVLUsingTokenOut:q,topByTVLUsingTokenInSecondHops:j,topByTVLUsingTokenOutSecondHops:V}},subgraphPools:$}}async function lf(e){let{tokenIn:t,tokenOut:n,routeType:f,routingConfig:r,subgraphProvider:o,tokenProvider:a,poolProvider:i,blockedTokenListProvider:s,chainId:c}=e;var l;const{blockNumber:p,v2PoolSelection:{topN:h,topNDirectSwaps:m,topNTokenInOut:b,topNSecondHop:y,topNWithEachBaseToken:g,topNWithBaseToken:v}}=r,T=t.address.toLowerCase(),A=n.address.toLowerCase(),I=Date.now(),E=await o.getPools(t,n,{blockNumber:p}),w=X().map(E,(e=>({...e,token0:{...e.token0,id:e.token0.id.toLowerCase()},token1:{...e.token1,id:e.token1.id.toLowerCase()}})));Z.putMetric("V2SubgraphPoolsLoad",Date.now()-I,K.Milliseconds);let C=w;if(s){C=[];for(const e of w){const t=await s.getTokenByAddress(e.token0.id),n=await s.getTokenByAddress(e.token1.id);t||n||C.push(e)}}const k=X()(C).sortBy((e=>-e.reserve)).value();u.info(`After filtering blocked tokens went from ${w.length} to ${k.length}.`);const S=new Set,x=e=>{X()(e).map((e=>e.id)).forEach((e=>S.add(e)))},O=null!==(l=uf[c])&&void 0!==l?l:[],_=X()(O).flatMap((e=>X()(k).filter((t=>{const n=e.address.toLowerCase();return t.token0.id==n&&t.token1.id==T||t.token1.id==n&&t.token0.id==T})).sortBy((e=>-e.reserve)).slice(0,g).value())).sortBy((e=>-e.reserve)).slice(0,v).value(),P=X()(O).flatMap((e=>X()(k).filter((t=>{const n=e.address.toLowerCase();return t.token0.id==n&&t.token1.id==A||t.token1.id==n&&t.token0.id==A})).sortBy((e=>-e.reserve)).slice(0,g).value())).sortBy((e=>-e.reserve)).slice(0,v).value();let D=[];if(0!=m){const{token0:e,token1:f,poolAddress:r}=i.getPoolAddress(t,n);D=[{id:r,token0:{id:e.address},token1:{id:f.address},supply:1e4,reserve:1e4,reserveUSD:1e4}]}x(D);const R=se[c].address;let B=[];"WETH"!=n.symbol&&"WETH9"!=n.symbol&&"ETH"!=n.symbol&&(B=X()(k).filter((e=>f==d.EXACT_INPUT?e.token0.id==R&&e.token1.id==A||e.token1.id==R&&e.token0.id==A:e.token0.id==R&&e.token1.id==T||e.token1.id==R&&e.token0.id==T)).slice(0,1).value()),x(B);const M=X()(k).filter((e=>!S.has(e.id))).slice(0,h).value();x(M);const F=X()(k).filter((e=>!S.has(e.id)&&(e.token0.id==T||e.token1.id==T))).slice(0,b).value();x(F);const N=X()(k).filter((e=>!S.has(e.id)&&(e.token0.id==A||e.token1.id==A))).slice(0,b).value();x(N);const U=X()(F).map((e=>T==e.token0.id?e.token1.id:e.token0.id)).flatMap((e=>X()(k).filter((t=>!S.has(t.id)&&(t.token0.id==e||t.token1.id==e))).slice(0,y).value())).uniqBy((e=>e.id)).sortBy((e=>-e.reserve)).slice(0,y).value();x(U);const L=X()(N).map((e=>A==e.token0.id?e.token1.id:e.token0.id)).flatMap((e=>X()(k).filter((t=>!S.has(t.id)&&(t.token0.id==e||t.token1.id==e))).slice(0,y).value())).uniqBy((e=>e.id)).sortBy((e=>-e.reserve)).slice(0,y).value();x(L);const G=X()([..._,...P,...D,...B,...M,...F,...N,...U,...L]).compact().uniqBy((e=>e.id)).value(),q=X()(G).flatMap((e=>[e.token0.id,e.token1.id])).compact().uniq().value();u.info(`Getting the ${q.length} tokens within the ${G.length} V2 pools we are considering`);const j=await a.getTokens(q,{blockNumber:p}),V=e=>{var t,n,f,r;return`${null!==(n=null===(t=j.getTokenByAddress(e.token0.id))||void 0===t?void 0:t.symbol)&&void 0!==n?n:e.token0.id}/${null!==(r=null===(f=j.getTokenByAddress(e.token1.id))||void 0===f?void 0:f.symbol)&&void 0!==r?r:e.token1.id}`};u.info({topByBaseWithTokenIn:_.map(V),topByBaseWithTokenOut:P.map(V),topByTVL:M.map(V),topByTVLUsingTokenIn:F.map(V),topByTVLUsingTokenOut:N.map(V),topByTVLUsingTokenInSecondHops:U.map(V),topByTVLUsingTokenOutSecondHops:L.map(V),top2DirectSwap:D.map(V),top2EthQuotePool:B.map(V)},"V2 Candidate pools");const $=X().map(G,(e=>{const t=j.getTokenByAddress(e.token0.id),n=j.getTokenByAddress(e.token1.id);if(t&&n)return[t,n];u.info(`Dropping candidate pool for ${e.token0.id}/${e.token1.id}`)})),W=X().compact($),H=Date.now(),Y=await i.getPools(W,{blockNumber:p});Z.putMetric("V2PoolsLoad",Date.now()-H,K.Milliseconds);return{poolAccessor:Y,candidatePools:{protocol:Ie.Protocol.V2,selections:{topByBaseWithTokenIn:_,topByBaseWithTokenOut:P,topByDirectSwapPool:D,topByEthQuoteTokenPool:B,topByTVL:M,topByTVLUsingTokenIn:F,topByTVLUsingTokenOut:N,topByTVLUsingTokenInSecondHops:U,topByTVLUsingTokenOutSecondHops:L}},subgraphPools:G}}const df=Ft.gH.from(135e3),pf=Ft.gH.from(5e4);class hf extends Xn{constructor(){super()}async buildGasModel(e){let{chainId:t,gasPriceWei:n,poolProvider:f,token:r}=e;if(r.equals(se[t])){const e=await this.getHighestLiquidityUSDPool(t,f);return{estimateGasCost:f=>{const{gasCostInEth:r,gasUse:o}=this.estimateGas(f,n,t);return{gasEstimate:o,gasCostInToken:r,gasCostInUSD:(e.token0.address==se[t].address?e.token0Price:e.token1Price).quote(r)}}}}const o=await this.getEthPool(t,r,f);o||u.info("Unable to find ETH pool with the quote token to produce gas adjusted costs. Route will not account for gas.");const a=await this.getHighestLiquidityUSDPool(t,f);return{estimateGasCost:e=>{const f=a.token0.address==se[t].address?a.token1:a.token0,{gasCostInEth:i,gasUse:s}=this.estimateGas(e,n,t);if(!o)return{gasEstimate:s,gasCostInToken:ve.fromRawAmount(r,0),gasCostInUSD:ve.fromRawAmount(f,0)};const c=o.token0.address==se[t].address?o.token0Price:o.token1Price;let l;try{l=c.quote(i)}catch(h){throw u.error({ethTokenPriceBase:c.baseCurrency,ethTokenPriceQuote:c.quoteCurrency,gasCostInEth:i.currency},"Debug eth price token issue"),h}const d=a.token0.address==se[t].address?a.token0Price:a.token1Price;let p;try{p=d.quote(i)}catch(h){throw u.error({usdT1:a.token0.symbol,usdT2:a.token1.symbol,gasCostInEthToken:i.currency.symbol},"Failed to compute USD gas price"),h}return{gasEstimate:s,gasCostInToken:l,gasCostInUSD:p}}}}estimateGas(e,t,n){const f=e.route.pairs.length,r=df.add(pf.mul(f-1)),o=t.mul(r),a=se[n];return{gasCostInEth:ve.fromRawAmount(a,o.toString()),gasUse:r}}async getEthPool(e,t,n){const f=se[e],r=(await n.getPools([[f,t]])).getPool(f,t);return!r||r.reserve0.equalTo(0)||r.reserve1.equalTo(0)?(u.error({weth:f,token:t,reserve0:null===r||void 0===r?void 0:r.reserve0.toExact(),reserve1:null===r||void 0===r?void 0:r.reserve1.toExact()},`Could not find a valid WETH pool with ${t.symbol} for computing gas costs.`),null):r}async getHighestLiquidityUSDPool(e,t){const n=zn[e];if(!n)throw new Error(`Could not find a USD token for computing gas costs on ${e}`);const f=X().map(n,(t=>[t,se[e]])),r=(await t.getPools(f)).getAllPools(),o=X().filter(r,(e=>e.reserve0.greaterThan(0)&&e.reserve1.greaterThan(0)));if(0==o.length)throw u.error({pools:o},"Could not find a USD/WETH pool for computing gas costs."),new Error("Can't find USD/WETH pool for computing gas costs.");return X().maxBy(o,(t=>t.token0.equals(se[e])?parseFloat(t.reserve0.toSignificant(2)):parseFloat(t.reserve1.toSignificant(2))))}}class mf extends Jn{constructor(){super()}async buildGasModel(e){let{chainId:t,gasPriceWei:n,v3poolProvider:f,token:r,v2poolProvider:o}=e;const a=await vf(t,f),i=se[t];if(r.equals(i)){return{estimateGasCost:e=>{const{totalGasCostNativeCurrency:f,baseGasUse:r}=this.estimateGas(e,n,t);return{gasEstimate:r,gasCostInToken:f,gasCostInUSD:(a.token0.address==i.address?a.token0Price:a.token1Price).quote(f)}}}}const s=await gf(r,f);let c;o&&(c=await yf(r,o));const l=a.token0.address==i.address?a.token1:a.token0;return{estimateGasCost:(e=>{const{totalGasCostNativeCurrency:f,baseGasUse:o}=this.estimateGas(e,n,t);if(!s&&!c)return u.info(`Unable to find ${i.symbol} pool with the quote token, ${r.symbol} to produce gas adjusted costs. Route will not account for gas.`),{gasEstimate:o,gasCostInToken:ve.fromRawAmount(r,0),gasCostInUSD:ve.fromRawAmount(l,0)};const d=!s&&c?c:s,p=d.token0.address==i.address?d.token0Price:d.token1Price;let h;try{h=p.quote(f)}catch(y){throw u.info({nativeTokenPriceBase:p.baseCurrency,nativeTokenPriceQuote:p.quoteCurrency,gasCostInEth:f.currency},"Debug eth price token issue"),y}const m=a.token0.address==i.address?a.token0Price:a.token1Price;let b;try{b=m.quote(f)}catch(y){throw u.info({usdT1:a.token0.symbol,usdT2:a.token1.symbol,gasCostInNativeToken:f.currency.symbol},"Failed to compute USD gas price"),y}return{gasEstimate:o,gasCostInToken:h,gasCostInUSD:b}}).bind(this)}}estimateGas(e,t,n){const f=Ft.gH.from(Math.max(1,X().sum(e.initializedTicksCrossedList)));let r=Ft.gH.from(0);const o=e.route;(0,Ie.partitionMixedRouteByProtocol)(o).map((e=>{e.every((e=>e instanceof ne.Pool))?(r=r.add(ef(n)),r=r.add(nf(n).mul(e.length))):e.every((e=>e instanceof Ee.Rm))&&(r=r.add(df),r=r.add(pf.mul(e.length-1)))}));const a=tf(n).mul(f),i=Zn.mul(0);r=r.add(a).add(i);const s=t.mul(r),u=se[n];return{totalGasCostNativeCurrency:ve.fromRawAmount(u,s.toString()),totalInitializedTicksCrossed:f,baseGasUse:r}}}class bf{constructor(e){let{chainId:t,provider:n,multicall2Provider:f,v3PoolProvider:r,onChainQuoteProvider:o,v2PoolProvider:a,v2QuoteProvider:i,v2SubgraphProvider:u,tokenProvider:l,blockedTokenListProvider:d,v3SubgraphProvider:p,gasPriceProvider:h,v3GasModelFactory:m,v2GasModelFactory:b,mixedRouteGasModelFactory:y,swapRouterProvider:g,optimismGasDataProvider:v,tokenValidatorProvider:T,arbitrumGasDataProvider:A,simulator:I}=e;if(this.chainId=t,this.provider=n,this.multicall2Provider=null!==f&&void 0!==f?f:new Yt(t,n,375e3),this.v3PoolProvider=null!==r&&void 0!==r?r:new _f(this.chainId,new Un((e=>{switch(e){case 1:return te.MAINNET;case 3:return te.ROPSTEN;case 4:return te.RINKEBY;case 5:return te.G\u00d6RLI;case 42:return te.KOVAN;case 10:return te.OPTIMISM;case 69:return te.OPTIMISTIC_KOVAN;case 42161:return te.ARBITRUM_ONE;case 421611:return te.ARBITRUM_RINKEBY;case 137:return te.POLYGON;case 80001:return te.POLYGON_MUMBAI;case 42220:return te.CELO;case 44787:return te.CELO_ALFAJORES;case 100:return te.GNOSIS;case 1284:return te.MOONBEAM;default:throw new Error(`Unknown chain id: ${e}`)}})(t),this.multicall2Provider),new s(new(An())({stdTTL:360,useClones:!1}))),this.simulator=I,o)this.onChainQuoteProvider=o;else switch(t){case te.OPTIMISM:case te.OPTIMISTIC_KOVAN:this.onChainQuoteProvider=new ln(t,n,this.multicall2Provider,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:110,gasLimitPerCall:12e5,quoteMinSuccessRate:.1},{gasLimitOverride:3e6,multicallChunk:45},{gasLimitOverride:3e6,multicallChunk:45},{baseBlockOffset:-10,rollback:{enabled:!0,attemptsBeforeRollback:1,rollbackBlockOffset:-10}});break;case te.ARBITRUM_ONE:case te.ARBITRUM_RINKEBY:this.onChainQuoteProvider=new ln(t,n,this.multicall2Provider,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:10,gasLimitPerCall:12e6,quoteMinSuccessRate:.1},{gasLimitOverride:3e7,multicallChunk:6},{gasLimitOverride:3e7,multicallChunk:6});break;case te.CELO:case te.CELO_ALFAJORES:this.onChainQuoteProvider=new ln(t,n,this.multicall2Provider,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:10,gasLimitPerCall:5e6,quoteMinSuccessRate:.1},{gasLimitOverride:5e6,multicallChunk:5},{gasLimitOverride:625e4,multicallChunk:4});break;default:this.onChainQuoteProvider=new ln(t,n,this.multicall2Provider,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:210,gasLimitPerCall:705e3,quoteMinSuccessRate:.15},{gasLimitOverride:2e6,multicallChunk:70})}this.v2PoolProvider=null!==a&&void 0!==a?a:new wf(t,new On(t,this.multicall2Provider),new s(new(An())({stdTTL:60,useClones:!1}))),this.v2QuoteProvider=null!==i&&void 0!==i?i:new kf,this.blockedTokenListProvider=null!==d&&void 0!==d?d:new ee(t,qn,new s(new(An())({stdTTL:3600,useClones:!1}))),this.tokenProvider=null!==l&&void 0!==l?l:new Mt(t,new s(new(An())({stdTTL:3600,useClones:!1})),new ee(t,vn,new s(new(An())({stdTTL:3600,useClones:!1}))),new Rt(t,this.multicall2Provider));const E=(e=>{switch(e){case 1:return ae.MAINNET;case 3:return ae.ROPSTEN;case 4:return ae.RINKEBY;case 5:return ae.G\u00d6RLI;case 42:return ae.KOVAN;case 10:return ae.OPTIMISM;case 69:return ae.OPTIMISTIC_KOVAN;case 42161:return ae.ARBITRUM_ONE;case 421611:return ae.ARBITRUM_RINKEBY;case 137:return ae.POLYGON;case 80001:return ae.POLYGON_MUMBAI;case 42220:return ae.CELO;case 44787:return ae.CELO_ALFAJORES;case 100:return ae.GNOSIS;case 1284:return ae.MOONBEAM;default:throw new Error(`Unknown chain id: ${e}`)}})(t);this.v2SubgraphProvider=u||new Of([new Cf(t,new Ef(t,`https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v2/${E}.json`,void 0,0),new s(new(An())({stdTTL:300,useClones:!1}))),new xf(t)]),this.v3SubgraphProvider=p||new Bf([new Pf(t,new Ef(t,`https://cloudflare-ipfs.com/ipns/api.uniswap.org/v1/pools/v3/${E}.json`,void 0,0),new s(new(An())({stdTTL:300,useClones:!1}))),new Rf(t,this.v3PoolProvider)]),this.gasPriceProvider=null!==h&&void 0!==h?h:new c(t,this.provider instanceof gn.F?new zt(t,new Ut(this.provider),new jt(this.provider)):new qt("https://ethgasstation.info/api/ethgasAPI.json"),new s(new(An())({stdTTL:15,useClones:!1}))),this.v3GasModelFactory=null!==m&&void 0!==m?m:new ff,this.v2GasModelFactory=null!==b&&void 0!==b?b:new hf,this.mixedRouteGasModelFactory=null!==y&&void 0!==y?y:new mf,this.swapRouterProvider=null!==g&&void 0!==g?g:new mn(this.multicall2Provider),t!=te.OPTIMISM&&t!=te.OPTIMISTIC_KOVAN||(this.l2GasDataProvider=null!==v&&void 0!==v?v:new Bn(t,this.multicall2Provider)),t!=te.ARBITRUM_ONE&&t!=te.ARBITRUM_RINKEBY||(this.l2GasDataProvider=null!==A&&void 0!==A?A:new Mn(t,this.provider)),T?this.tokenValidatorProvider=T:this.chainId==te.MAINNET&&(this.tokenValidatorProvider=new kn(this.chainId,this.multicall2Provider,new s(new(An())({stdTTL:3e4,useClones:!1}))))}async routeToRatio(e,t,n,f,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jn(this.chainId);t.currency.wrapped.sortsBefore(e.currency.wrapped)&&([e,t]=[t,e]);let a,i=this.calculateOptimalRatio(n,n.pool.sqrtRatioX96,!0);n.pool.tickCurrent>n.tickUpper?a=!0:n.pool.tickCurrent<n.tickLower?a=!1:(a=new B(e.quotient,t.quotient).greaterThan(i),a||(i=i.invert()));const[s,c]=a?[e,t]:[t,e];let l,p=i,h=n.pool,b=a?n.pool.token0Price:n.pool.token1Price,y=null,g=!1,v=0;for(;!g;){if(v++,v>f.maxIterations)return u.info("max iterations exceeded"),{status:en.NO_ROUTE_FOUND,error:"max iterations exceeded"};const e=af(p,b,s,c);if(e.equalTo(0))return u.info("no swap needed: amountToSwap = 0"),{status:en.NO_SWAP_NEEDED};if(y=await this.route(e,c.currency,d.EXACT_INPUT,void 0,{...jn(this.chainId),...o,protocols:[Ie.Protocol.V3,Ie.Protocol.V2]}),!y)return u.info("no route found from this.route()"),{status:en.NO_ROUTE_FOUND,error:"no route found"};const t=s.subtract(y.trade.inputAmount),r=c.add(y.trade.outputAmount),l=t.divide(r);let T;if(y.route.forEach((e=>{if(e.protocol==Ie.Protocol.V3){const t=e;t.route.pools.forEach(((e,f)=>{e.token0.equals(n.pool.token0)&&e.token1.equals(n.pool.token1)&&e.fee==n.pool.fee&&(T=m().BigInt(t.sqrtPriceX96AfterList[f].toString()),p=this.calculateOptimalRatio(n,m().BigInt(T.toString()),a))}))}})),T||(p=i),g=l.equalTo(p)||this.absoluteValue(l.asFraction.divide(p).subtract(1)).lessThan(f.ratioErrorTolerance),g&&T&&(h=new ne.Pool(n.pool.token0,n.pool.token1,n.pool.fee,T,n.pool.liquidity,ne.TickMath.getTickAtSqrtRatio(T),n.pool.tickDataProvider)),b=y.trade.outputAmount.divide(y.trade.inputAmount),u.info({exchangeRate:b.asFraction.toFixed(18),optimalRatio:p.asFraction.toFixed(18),newRatio:l.asFraction.toFixed(18),inputBalanceUpdated:t.asFraction.toFixed(18),outputBalanceUpdated:r.asFraction.toFixed(18),ratioErrorTolerance:f.ratioErrorTolerance.toFixed(18),iterationN:v.toString()},"QuoteToRatio Iteration Parameters"),b.equalTo(0))return u.info("exchangeRate to 0"),{status:en.NO_ROUTE_FOUND,error:"insufficient liquidity to swap to optimal ratio"}}return y?(r&&(l=await this.buildSwapAndAddMethodParameters(y.trade,r,{initialBalanceTokenIn:s,initialBalanceTokenOut:c,preLiquidityPosition:n})),{status:en.SUCCESS,result:{...y,methodParameters:l,optimalRatio:p,postSwapTargetPool:h}}):{status:en.NO_ROUTE_FOUND,error:"no route found"}}async route(e,t,n,f){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var o;Z.putMetric(`QuoteRequestedForChain${this.chainId}`,1,K.Count);const a=null!==(o=r.blockNumber)&&void 0!==o?o:this.getBlockNumberPromise(),i=X().merge({},jn(this.chainId),r,{blockNumber:a}),{protocols:s}=i,c=n==d.EXACT_INPUT?e.currency:t,l=n==d.EXACT_INPUT?t:e.currency,p=c.wrapped,h=l.wrapped,[m,b]=this.getAmountDistribution(e,i),y=Date.now(),{gasPriceWei:g}=await this.gasPriceProvider.getGasPrice();Z.putMetric("GasPriceLoad",Date.now()-y,K.Milliseconds);const v=t.wrapped,T=[],A=new Set(null!==s&&void 0!==s?s:[]),[I,E]=await Promise.all([this.v3GasModelFactory.buildGasModel({chainId:this.chainId,gasPriceWei:g,v3poolProvider:this.v3PoolProvider,token:v,v2poolProvider:this.v2PoolProvider,l2GasDataProvider:this.l2GasDataProvider}),this.mixedRouteGasModelFactory.buildGasModel({chainId:this.chainId,gasPriceWei:g,v3poolProvider:this.v3PoolProvider,token:v,v2poolProvider:this.v2PoolProvider})]);(0==A.size||A.has(Ie.Protocol.V2)&&A.has(Ie.Protocol.V3))&&fe.includes(this.chainId)?(u.info({protocols:s,tradeType:n},"Routing across all protocols"),T.push(this.getV3Quotes(p,h,b,m,v,I,n,i)),T.push(this.getV2Quotes(p,h,b,m,v,g,n,i)),n!==d.EXACT_INPUT||this.chainId!==te.MAINNET&&this.chainId!==te.G\u00d6RLI||0!=A.size&&!A.has(Ie.Protocol.MIXED)||(u.info({protocols:s,swapType:n},"Routing across MixedRoutes"),T.push(this.getMixedRouteQuotes(p,h,b,m,v,E,n,i)))):((A.has(Ie.Protocol.V3)||0==A.size&&!fe.includes(this.chainId))&&(u.info({protocols:s,swapType:n},"Routing across V3"),T.push(this.getV3Quotes(p,h,b,m,v,I,n,i))),A.has(Ie.Protocol.V2)&&(u.info({protocols:s,swapType:n},"Routing across V2"),T.push(this.getV2Quotes(p,h,b,m,v,g,n,i))),!A.has(Ie.Protocol.MIXED)||this.chainId!==te.MAINNET&&this.chainId!==te.G\u00d6RLI||n!=d.EXACT_INPUT||(u.info({protocols:s,swapType:n},"Routing across MixedRoutes"),T.push(this.getMixedRouteQuotes(p,h,b,m,v,E,n,i))));const w=await Promise.all(T);let C=[],k=[];for(const{routesWithValidQuotes:u,candidatePools:d}of w)C=[...C,...u],k=[...k,d];if(0==C.length)return u.info({allRoutesWithValidQuotes:C},"Received no valid quotes"),null;const S=Date.now(),x=await rf(e,m,C,n,this.chainId,i,I);if(!x)return null;const{quote:O,quoteGasAdjusted:_,estimatedGasUsed:P,routes:D,estimatedGasUsedQuoteToken:R,estimatedGasUsedUSD:B}=x,M=Ln(c,l,n,D);let F;f&&(F=Gn(M,f)),Z.putMetric("FindBestSwapRoute",Date.now()-S,K.Milliseconds),Z.putMetric(`QuoteFoundForChain${this.chainId}`,1,K.Count),this.emitPoolSelectionMetrics(x,k);const N={quote:O,quoteGasAdjusted:_,estimatedGasUsed:P,estimatedGasUsedQuoteToken:R,estimatedGasUsedUSD:B,gasPriceWei:g,route:D,trade:M,methodParameters:F,blockNumber:Ft.gH.from(await a)};if(f&&f.simulate&&F&&F.calldata){if(!this.simulator)throw new Error("Simulator not initialized!");const n=f.simulate.fromAddress,r=Date.now(),o=await this.simulator.simulate(n,N,e,ve.fromRawAmount(t,O.quotient.toString()),this.l2GasDataProvider?await this.l2GasDataProvider.getGasData():void 0);return Z.putMetric("SimulateTransaction",Date.now()-r,K.Milliseconds),o}return N}async applyTokenValidatorToPools(e,t){if(!this.tokenValidatorProvider)return e;u.info(`Running token validator on ${e.length} pools`);const n=X().flatMap(e,(e=>[e.token0,e.token1])),f=await this.tokenValidatorProvider.validateTokens(n);return X().filter(e,(e=>{const n=f.getValidationByToken(e.token0),r=f.getValidationByToken(e.token1),o=t(e.token0,n),a=t(e.token1,r);return(o||a)&&u.info(`Dropping pool ${ke(e)} because token is invalid. ${e.token0.symbol}: ${n}, ${e.token1.symbol}: ${r}`),!o&&!a}))}async getV3Quotes(e,t,n,f,r,o,a,i){u.info("Starting to get V3 quotes");const{poolAccessor:s,candidatePools:c}=await cf({tokenIn:e,tokenOut:t,tokenProvider:this.tokenProvider,blockedTokenListProvider:this.blockedTokenListProvider,poolProvider:this.v3PoolProvider,routeType:a,subgraphProvider:this.v3SubgraphProvider,routingConfig:i,chainId:this.chainId}),l=s.getAllPools(),p=await this.applyTokenValidatorToPools(l,((n,f)=>!!f&&((f!=Cn.STF||!n.equals(e)&&!n.equals(t))&&(f==Cn.FOT||f==Cn.STF)))),{maxSwapsPerPath:h}=i,m=function(e,t,n,f){return sf(e,t,((e,t,n)=>new Xt(e,t,n)),n,f)}(e,t,p,h);if(0==m.length)return{routesWithValidQuotes:[],candidatePools:c};const b=a==d.EXACT_INPUT?this.onChainQuoteProvider.getQuotesManyExactIn.bind(this.onChainQuoteProvider):this.onChainQuoteProvider.getQuotesManyExactOut.bind(this.onChainQuoteProvider),y=Date.now();u.info(`Getting quotes for V3 for ${m.length} routes with ${n.length} amounts per route.`);const{routesWithQuotes:g}=await b(n,m,{blockNumber:i.blockNumber});Z.putMetric("V3QuotesLoad",Date.now()-y,K.Milliseconds),Z.putMetric("V3QuotesFetched",X()(g).map((e=>{let[,t]=e;return t.length})).sum(),K.Count);const v=[];for(const d of g){const[e,t]=d;for(let n=0;n<t.length;n++){const i=f[n],s=t[n],{quote:c,amount:l,sqrtPriceX96AfterList:d,initializedTicksCrossedList:p,gasEstimate:h}=s;if(!c||!d||!p||!h){u.debug({route:we(e),amountQuote:s},"Dropping a null V3 quote for route.");continue}const m=new $n({route:e,rawQuote:c,amount:l,percent:i,sqrtPriceX96AfterList:d,initializedTicksCrossedList:p,quoterGasEstimate:h,gasModel:o,quoteToken:r,tradeType:a,v3PoolProvider:this.v3PoolProvider});v.push(m)}}return{routesWithValidQuotes:v,candidatePools:c}}async getV2Quotes(e,t,n,f,r,o,a,i){u.info("Starting to get V2 quotes");const{poolAccessor:s,candidatePools:c}=await lf({tokenIn:e,tokenOut:t,tokenProvider:this.tokenProvider,blockedTokenListProvider:this.blockedTokenListProvider,poolProvider:this.v2PoolProvider,routeType:a,subgraphProvider:this.v2SubgraphProvider,routingConfig:i,chainId:this.chainId}),l=s.getAllPools(),p=await this.applyTokenValidatorToPools(l,((n,f)=>!!f&&((f!=Cn.STF||!n.equals(e)&&!n.equals(t))&&f==Cn.STF))),{maxSwapsPerPath:h}=i,m=function(e,t,n,f){return sf(e,t,((e,t,n)=>new Jt(e,t,n)),n,f)}(e,t,p,h);if(0==m.length)return{routesWithValidQuotes:[],candidatePools:c};const b=a==d.EXACT_INPUT?this.v2QuoteProvider.getQuotesManyExactIn.bind(this.v2QuoteProvider):this.v2QuoteProvider.getQuotesManyExactOut.bind(this.v2QuoteProvider),y=Date.now();u.info(`Getting quotes for V2 for ${m.length} routes with ${n.length} amounts per route.`);const{routesWithQuotes:g}=await b(n,m),v=await this.v2GasModelFactory.buildGasModel({chainId:this.chainId,gasPriceWei:o,poolProvider:this.v2PoolProvider,token:r});Z.putMetric("V2QuotesLoad",Date.now()-y,K.Milliseconds),Z.putMetric("V2QuotesFetched",X()(g).map((e=>{let[,t]=e;return t.length})).sum(),K.Count);const T=[];for(const d of g){const[e,t]=d;for(let n=0;n<t.length;n++){const o=f[n],i=t[n],{quote:s,amount:c}=i;if(!s){u.debug({route:we(e),amountQuote:i},"Dropping a null V2 quote for route.");continue}const l=new Vn({route:e,rawQuote:s,amount:c,percent:o,gasModel:v,quoteToken:r,tradeType:a,v2PoolProvider:this.v2PoolProvider});T.push(l)}}return{routesWithValidQuotes:T,candidatePools:c}}async getMixedRouteQuotes(e,t,n,f,r,o,a,i){if(u.info("Starting to get mixed quotes"),a!=d.EXACT_INPUT)throw new Error("Mixed route quotes are not supported for EXACT_OUTPUT");const{V2poolAccessor:s,V3poolAccessor:c,candidatePools:l}=await async function(e){let{tokenIn:t,tokenOut:n,routeType:f,routingConfig:r,v3subgraphProvider:o,v2subgraphProvider:a,tokenProvider:i,v3poolProvider:s,v2poolProvider:c,blockedTokenListProvider:l,chainId:d}=e;const{blockNumber:p}=r,{subgraphPools:h,candidatePools:m}=await cf({tokenIn:t,tokenOut:n,tokenProvider:i,blockedTokenListProvider:l,poolProvider:s,routeType:f,subgraphProvider:o,routingConfig:r,chainId:d}),{subgraphPools:b,candidatePools:y}=await lf({tokenIn:t,tokenOut:n,tokenProvider:i,blockedTokenListProvider:l,poolProvider:c,routeType:f,subgraphProvider:a,routingConfig:r,chainId:d}),g=new Set([...y.selections.topByTVLUsingTokenIn,...y.selections.topByBaseWithTokenIn,...y.selections.topByTVLUsingTokenOut,...y.selections.topByBaseWithTokenOut,...y.selections.topByDirectSwapPool].map((e=>e.id)));let v=X()(b).filter((e=>g.has(e.id))).sortBy((e=>-e.reserveUSD)).value();const T=X()(h).sortBy((e=>-e.tvlUSD)).value(),A=[];v.forEach((e=>{const t=T.find((t=>t.token0.id==e.token0.id&&t.token1.id==e.token1.id||t.token0.id==e.token1.id&&t.token1.id==e.token0.id));t?e.reserveUSD>t.tvlUSD&&(u.info({token0:e.token0.id,token1:e.token1.id,v2reserveUSD:e.reserveUSD,v3tvlUSD:t.tvlUSD},"MixedRoute heuristic, found a V2 pool with higher liquidity than its V3 counterpart"),A.push(e)):(u.info({token0:e.token0.id,token1:e.token1.id,v2reserveUSD:e.reserveUSD},"MixedRoute heuristic, found a V2 pool with no V3 counterpart"),A.push(e))})),u.info(A.length,"Number of V2 candidate pools that fit first heuristic");const I=[...A,...T],E=X()(I).flatMap((e=>[e.token0.id,e.token1.id])).compact().uniq().value();u.info(`Getting the ${E.length} tokens within the ${I.length} pools we are considering`);const w=await i.getTokens(E,{blockNumber:p}),C=X().map(T,(e=>{const t=w.getTokenByAddress(e.token0.id),n=w.getTokenByAddress(e.token1.id);let f;try{f=Te(e.feeTier)}catch(r){return void u.info({subgraphPool:e},`Dropping candidate pool for ${e.token0.id}/${e.token1.id}/${e.feeTier} because fee tier not supported`)}if(t&&n)return[t,n,f];u.info(`Dropping candidate pool for ${e.token0.id}/${e.token1.id}/${f} because ${t?e.token1.id:e.token0.id} not found by token provider`)})),k=X().compact(C),S=X().map(A,(e=>{const t=w.getTokenByAddress(e.token0.id),n=w.getTokenByAddress(e.token1.id);if(t&&n)return[t,n];u.info(`Dropping candidate pool for ${e.token0.id}/${e.token1.id}`)})),x=X().compact(S),[O,_]=await Promise.all([c.getPools(x,{blockNumber:p}),s.getPools(k,{blockNumber:p})]),P=e=>[...A.filter((t=>y.selections[e].map((e=>e.id)).includes(t.id))),...m.selections[e]];return{V2poolAccessor:O,V3poolAccessor:_,candidatePools:{protocol:Ie.Protocol.MIXED,selections:{topByBaseWithTokenIn:P("topByBaseWithTokenIn"),topByBaseWithTokenOut:P("topByBaseWithTokenOut"),topByDirectSwapPool:P("topByDirectSwapPool"),topByEthQuoteTokenPool:P("topByEthQuoteTokenPool"),topByTVL:P("topByTVL"),topByTVLUsingTokenIn:P("topByTVLUsingTokenIn"),topByTVLUsingTokenOut:P("topByTVLUsingTokenOut"),topByTVLUsingTokenInSecondHops:P("topByTVLUsingTokenInSecondHops"),topByTVLUsingTokenOutSecondHops:P("topByTVLUsingTokenOutSecondHops")}},subgraphPools:I}}({tokenIn:e,tokenOut:t,tokenProvider:this.tokenProvider,blockedTokenListProvider:this.blockedTokenListProvider,v3poolProvider:this.v3PoolProvider,v2poolProvider:this.v2PoolProvider,routeType:a,v3subgraphProvider:this.v3SubgraphProvider,v2subgraphProvider:this.v2SubgraphProvider,routingConfig:i,chainId:this.chainId}),p=[...c.getAllPools(),...s.getAllPools()],h=l,m=await this.applyTokenValidatorToPools(p,((n,f)=>!!f&&((f!=Cn.STF||!n.equals(e)&&!n.equals(t))&&(f==Cn.FOT||f==Cn.STF)))),{maxSwapsPerPath:b}=i,y=function(e,t,n,f){const r=sf(e,t,((e,t,n)=>new Zt(e,t,n)),n,f);return r.filter((e=>!e.pools.every((e=>e instanceof ne.Pool))&&!e.pools.every((e=>e instanceof Ee.Rm))))}(e,t,m,b);if(0==y.length)return{routesWithValidQuotes:[],candidatePools:h};const g=this.onChainQuoteProvider.getQuotesManyExactIn.bind(this.onChainQuoteProvider),v=Date.now();u.info(`Getting quotes for mixed for ${y.length} routes with ${n.length} amounts per route.`);const{routesWithQuotes:T}=await g(n,y,{blockNumber:i.blockNumber});Z.putMetric("MixedQuotesLoad",Date.now()-v,K.Milliseconds),Z.putMetric("MixedQuotesFetched",X()(T).map((e=>{let[,t]=e;return t.length})).sum(),K.Count);const A=[];for(const d of T){const[e,t]=d;for(let n=0;n<t.length;n++){const i=f[n],s=t[n],{quote:c,amount:l,sqrtPriceX96AfterList:d,initializedTicksCrossedList:p,gasEstimate:h}=s;if(!c||!d||!p||!h){u.debug({route:we(e),amountQuote:s},"Dropping a null mixed quote for route.");continue}const m=new Wn({route:e,rawQuote:c,amount:l,percent:i,sqrtPriceX96AfterList:d,initializedTicksCrossedList:p,quoterGasEstimate:h,mixedRouteGasModel:o,quoteToken:r,tradeType:a,v3PoolProvider:this.v3PoolProvider,v2PoolProvider:this.v2PoolProvider});A.push(m)}}return{routesWithValidQuotes:A,candidatePools:h}}getAmountDistribution(e,t){const{distributionPercent:n}=t,f=[],r=[];for(let o=1;o<=100/n;o++)f.push(o*n),r.push(e.multiply(new B(o*n,100)));return[f,r]}async buildSwapAndAddMethodParameters(e,t,n){const{swapOptions:{recipient:f,slippageTolerance:r,deadline:o,inputTokenPermit:a},addLiquidityOptions:i}=t,s=n.preLiquidityPosition,u=n.initialBalanceTokenIn.subtract(e.inputAmount),c=n.initialBalanceTokenOut.add(e.outputAmount),l=await this.swapRouterProvider.getApprovalType(u,c),d=u.currency.wrapped.sortsBefore(c.currency.wrapped);return Ie.SwapRouter.swapAndAddCallParameters(e,{recipient:f,slippageTolerance:r,deadlineOrPreviousBlockhash:o,inputTokenPermit:a},ne.Position.fromAmounts({pool:s.pool,tickLower:s.tickLower,tickUpper:s.tickUpper,amount0:d?u.quotient.toString():c.quotient.toString(),amount1:d?c.quotient.toString():u.quotient.toString(),useFullPrecision:!1}),i,l.approvalTokenIn,l.approvalTokenOut)}emitPoolSelectionMetrics(e,t){const n=new Set,{routes:f}=e;X()(f).flatMap((e=>{const{poolAddresses:t}=e;return t})).forEach((e=>{n.add(e.toLowerCase())}));for(const i of t){const{protocol:e}=i;X().forIn(i.selections,((t,f)=>{const r=X().findLastIndex(t,(e=>n.has(e.id.toLowerCase())))+1;Z.putMetric(X().capitalize(`${e}${f}`),r,K.Count)}))}let r=!1,o=!1,a=!1;for(const i of f)i.protocol==Ie.Protocol.V3&&(r=!0),i.protocol==Ie.Protocol.V2&&(o=!0),i.protocol==Ie.Protocol.MIXED&&(a=!0);a&&(r||o)?r&&o?(Z.putMetric("MixedAndV3AndV2SplitRoute",1,K.Count),Z.putMetric(`MixedAndV3AndV2SplitRouteForChain${this.chainId}`,1,K.Count)):r?(Z.putMetric("MixedAndV3SplitRoute",1,K.Count),Z.putMetric(`MixedAndV3SplitRouteForChain${this.chainId}`,1,K.Count)):o&&(Z.putMetric("MixedAndV2SplitRoute",1,K.Count),Z.putMetric(`MixedAndV2SplitRouteForChain${this.chainId}`,1,K.Count)):r&&o?(Z.putMetric("V3AndV2SplitRoute",1,K.Count),Z.putMetric(`V3AndV2SplitRouteForChain${this.chainId}`,1,K.Count)):a?f.length>1?(Z.putMetric("MixedSplitRoute",1,K.Count),Z.putMetric(`MixedSplitRouteForChain${this.chainId}`,1,K.Count)):(Z.putMetric("MixedRoute",1,K.Count),Z.putMetric(`MixedRouteForChain${this.chainId}`,1,K.Count)):r?f.length>1?(Z.putMetric("V3SplitRoute",1,K.Count),Z.putMetric(`V3SplitRouteForChain${this.chainId}`,1,K.Count)):(Z.putMetric("V3Route",1,K.Count),Z.putMetric(`V3RouteForChain${this.chainId}`,1,K.Count)):o&&(f.length>1?(Z.putMetric("V2SplitRoute",1,K.Count),Z.putMetric(`V2SplitRouteForChain${this.chainId}`,1,K.Count)):(Z.putMetric("V2Route",1,K.Count),Z.putMetric(`V2RouteForChain${this.chainId}`,1,K.Count)))}calculateOptimalRatio(e,t,n){const f=ne.TickMath.getSqrtRatioAtTick(e.tickUpper),r=ne.TickMath.getSqrtRatioAtTick(e.tickLower);if(m().greaterThan(t,f)||m().lessThan(t,r))return new B(0,1);const o=m().BigInt("1"+"0".repeat(18));let a=new B(ne.SqrtPriceMath.getAmount0Delta(t,f,o,!0),ne.SqrtPriceMath.getAmount1Delta(t,r,o,!0));return n||(a=a.invert()),a}async userHasSufficientBalance(e,t,n,f){try{const r=t==d.EXACT_INPUT?n:f;let o;if(r.currency.isNative)o=await this.provider.getBalance(e);else{const t=yn.connect(r.currency.address,this.provider);o=await t.balanceOf(e)}return o.gte(Ft.gH.from(r.quotient.toString()))}catch(r){return u.error(r,"Error while checking user balance"),!1}}absoluteValue(e){const t=m().lessThan(e.numerator,m().BigInt(0))?m().unaryMinus(e.numerator):e.numerator,n=m().lessThan(e.denominator,m().BigInt(0))?m().unaryMinus(e.denominator):e.denominator;return new B(t,n)}getBlockNumberPromise(){return Gt()((async(e,t)=>(t>1&&u.info(`Get block number attempt ${t}`),this.provider.getBlockNumber())),{retries:2,minTimeout:100,maxTimeout:1e3})}}async function yf(e,t){const n=e.chainId,f=se[n],r=(await t.getPools([[f,e]])).getPool(f,e);return!r||r.reserve0.equalTo(0)||r.reserve1.equalTo(0)?(u.error({weth:f,token:e,reserve0:null===r||void 0===r?void 0:r.reserve0.toExact(),reserve1:null===r||void 0===r?void 0:r.reserve1.toExact()},`Could not find a valid WETH pool with ${e.symbol} for computing gas costs.`),null):r}async function gf(e,t){const n=se[e.chainId],f=X()([ne.FeeAmount.HIGH,ne.FeeAmount.MEDIUM,ne.FeeAmount.LOW]).map((t=>[n,e,t])).value(),r=await t.getPools(f),o=X()([ne.FeeAmount.HIGH,ne.FeeAmount.MEDIUM,ne.FeeAmount.LOW]).map((t=>r.getPool(n,e,t))).compact().value();if(0==o.length)return u.error({pools:o},`Could not find a ${n.symbol} pool with ${e.symbol} for computing gas costs.`),null;return X().maxBy(o,(e=>e.liquidity))}async function vf(e,t){const n=zn[e],f=se[e];if(!n)throw new Error(`Could not find a USD token for computing gas costs on ${e}`);const r=X()([ne.FeeAmount.HIGH,ne.FeeAmount.MEDIUM,ne.FeeAmount.LOW,ne.FeeAmount.LOWEST]).flatMap((e=>X().map(n,(t=>[f,t,e])))).value(),o=await t.getPools(r),a=X()([ne.FeeAmount.HIGH,ne.FeeAmount.MEDIUM,ne.FeeAmount.LOW,ne.FeeAmount.LOWEST]).flatMap((e=>{const t=[];for(const r of n){const n=o.getPool(f,r,e);n&&t.push(n)}return t})).compact().value();if(0==a.length){const e=`Could not find a USD/${f.symbol} pool for computing gas costs.`;throw u.error({pools:a},e),new Error(e)}return X().maxBy(a,(e=>e.liquidity))}function Tf(e,t){const n=e.slice(2).match(/.{1,2}/g),f=n.length;let r=0;for(let o=0;o<f;o+=1){r+=0==parseInt(n[o],16)?4:16}return t.add(r).add(1088)}var Af=n(46144),If=n.n(Af);class Ef{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e3,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;this.chainId=e,this.uri=t,this.timeout=n,this.retries=f}async getPools(){u.info({uri:this.uri},`About to get subgraph pools from URI ${this.uri}`);let e=[];return await Gt()((async()=>{const t=new(If()),n=t.set(this.timeout).then((()=>{throw new Error(`Timed out getting pools from subgraph: ${this.timeout}`)}));let f;try{f=await Promise.race([Q().get(this.uri),n])}catch(i){throw i}finally{t.clear()}const{data:r,status:o}=f;if(200!=o)throw u.error({response:f},`Unabled to get pools from ${this.uri}.`),new Error(`Unable to get pools from ${this.uri}`);const a=r;u.info({uri:this.uri,chain:this.chainId},`Got subgraph pools from uri. Num: ${a.length}`),e=a}),{retries:this.retries,onRetry:(e,t)=>{u.info({err:e},`Failed to get pools from uri ${this.uri}. Retry attempt: ${t}`)}}),e}}class wf{constructor(e,t,n){this.chainId=e,this.poolProvider=t,this.cache=n,this.POOL_KEY=(e,t)=>`pool-${e}-${t}`}async getPools(e,t){const n=new Set,f=[],r=[],o={},a=await(null===t||void 0===t?void 0:t.blockNumber);for(const[i,s]of e){const{poolAddress:e,token0:t,token1:u}=this.getPoolAddress(i,s);if(n.has(e))continue;n.add(e);const c=await this.cache.get(this.POOL_KEY(this.chainId,e));c&&(!a||a&&c.block==a)?o[e]=c.pair:(f.push([t,u]),r.push(e))}if(u.info({poolsFound:X().map(Object.values(o),(e=>e.token0.symbol+" "+e.token1.symbol)),poolsToGetTokenPairs:X().map(f,(e=>e[0].symbol+" "+e[1].symbol))},`Found ${Object.keys(o).length} V2 pools already in local cache for block ${a}. About to get reserves for ${f.length} pools.`),r.length>0){const e=await this.poolProvider.getPools(f,t);for(const t of r){const n=e.getPoolByAddress(t);n&&(o[t]=n,await this.cache.set(this.POOL_KEY(this.chainId,t),{pair:n,block:a}))}}return{getPool:(e,t)=>{const{poolAddress:n}=this.getPoolAddress(e,t);return o[n]},getPoolByAddress:e=>o[e],getAllPools:()=>Object.values(o)}}getPoolAddress(e,t){return this.poolProvider.getPoolAddress(e,t)}}class Cf{constructor(e,t,n){this.chainId=e,this.subgraphProvider=t,this.cache=n,this.SUBGRAPH_KEY=e=>`subgraph-pools-v2-${e}`}async getPools(){const e=await this.cache.get(this.SUBGRAPH_KEY(this.chainId));if(e)return e;const t=await this.subgraphProvider.getPools();return await this.cache.set(this.SUBGRAPH_KEY(this.chainId),t),t}}class kf{constructor(){}async getQuotesManyExactIn(e,t){return this.getQuotes(e,t,d.EXACT_INPUT)}async getQuotesManyExactOut(e,t){return this.getQuotes(e,t,d.EXACT_OUTPUT)}async getQuotes(e,t,n){const f=[],r=[];for(const a of t){const t=[];let i=0,s=0;for(const f of e)try{if(n==d.EXACT_INPUT){let e=f.wrapped;for(const t of a.pairs){const[n]=t.getOutputAmount(e);e=n}t.push({amount:f,quote:Ft.gH.from(e.quotient.toString())})}else{let e=f.wrapped;for(let t=a.pairs.length-1;t>=0;t--){const n=a.pairs[t];[e]=n.getInputAmount(e)}t.push({amount:f,quote:Ft.gH.from(e.quotient.toString())})}}catch(o){if(o instanceof Ee.oz)i+=1,t.push({amount:f,quote:null});else{if(!(o instanceof Ee.NT))throw o;s+=1,t.push({amount:f,quote:null})}}(i>0||s>0)&&r.push(`${[we(a)]} Input: ${i} Reserves: ${s} }`),f.push([a,t])}return r.length>0&&u.info({debugStrs:r},"Failed quotes for V2 routes"),{routesWithQuotes:f}}}const Sf={[te.MAINNET]:[se[te.MAINNET],Be,Pe,De,Re],[te.ROPSTEN]:[se[te.ROPSTEN]],[te.RINKEBY]:[se[te.RINKEBY],Le,Ge],[te.G\u00d6RLI]:[se[te.G\u00d6RLI]],[te.KOVAN]:[se[te.KOVAN]],[te.OPTIMISM]:[],[te.ARBITRUM_ONE]:[],[te.ARBITRUM_RINKEBY]:[],[te.OPTIMISTIC_KOVAN]:[],[te.POLYGON]:[],[te.POLYGON_MUMBAI]:[],[te.CELO]:[],[te.CELO_ALFAJORES]:[],[te.GNOSIS]:[],[te.MOONBEAM]:[]};class xf{constructor(e){this.chainId=e}async getPools(e,t){u.info("In static subgraph provider for V2");const n=Sf[this.chainId],f=X().flatMap(n,(e=>n.map((t=>[e,t]))));e&&t&&f.push([e,t],...n.map((t=>[e,t])),...n.map((e=>[t,e])));const r=X()(f).filter((e=>Boolean(e[0]&&e[1]))).filter((e=>{let[t,n]=e;return t.address!==n.address&&!t.equals(n)})).value(),o=new Set;return X()(r).map((e=>{let[t,n]=e;const f=Ee.Rm.getAddress(t,n);if(o.has(f))return;o.add(f);const[r,a]=t.sortsBefore(n)?[t,n]:[n,t];return{id:f,liquidity:"100",token0:{id:r.address},token1:{id:a.address},supply:100,reserve:100,reserveUSD:100}})).compact().value()}}n(11201);te.MAINNET,te.RINKEBY;class Of{constructor(e){this.fallbacks=e}async getPools(e,t,n){for(let r=0;r<this.fallbacks.length;r++){const o=this.fallbacks[r];try{return await o.getPools(e,t,n)}catch(f){u.info(`Failed to get subgraph pools for V2 from fallback #${r}`)}}throw new Error("Failed to get subgraph pools from any providers")}}class _f{constructor(e,t,n){this.chainId=e,this.poolProvider=t,this.cache=n,this.POOL_KEY=(e,t)=>`pool-${e}-${t}`}async getPools(e,t){const n=new Set,f=[],r=[],o={};for(const[a,i,s]of e){const{poolAddress:e,token0:t,token1:u}=this.getPoolAddress(a,i,s);if(n.has(e))continue;n.add(e);const c=await this.cache.get(this.POOL_KEY(this.chainId,e));c?o[e]=c:(f.push([t,u,s]),r.push(e))}if(u.info({poolsFound:X().map(Object.values(o),(e=>`${e.token0.symbol} ${e.token1.symbol} ${e.fee}`)),poolsToGetTokenPairs:X().map(f,(e=>`${e[0].symbol} ${e[1].symbol} ${e[2]}`))},`Found ${Object.keys(o).length} V3 pools already in local cache. About to get liquidity and slot0s for ${f.length} pools.`),r.length>0){const e=await this.poolProvider.getPools(f,t);for(const t of r){const n=e.getPoolByAddress(t);n&&(o[t]=n,await this.cache.set(this.POOL_KEY(this.chainId,t),n))}}return{getPool:(e,t,n)=>{const{poolAddress:f}=this.getPoolAddress(e,t,n);return o[f]},getPoolByAddress:e=>o[e],getAllPools:()=>Object.values(o)}}getPoolAddress(e,t,n){return this.poolProvider.getPoolAddress(e,t,n)}}class Pf{constructor(e,t,n){this.chainId=e,this.subgraphProvider=t,this.cache=n,this.SUBGRAPH_KEY=e=>`subgraph-pools-${e}`}async getPools(){const e=await this.cache.get(this.SUBGRAPH_KEY(this.chainId));if(e)return e;const t=await this.subgraphProvider.getPools();return await this.cache.set(this.SUBGRAPH_KEY(this.chainId),t),t}}const Df={[te.MAINNET]:[se[te.MAINNET],Be,Pe,De,Re],[te.ROPSTEN]:[se[te.ROPSTEN],Ue,Ne,Fe],[te.RINKEBY]:[se[te.RINKEBY],Le,Ge,qe,je],[te.G\u00d6RLI]:[se[te.G\u00d6RLI],$e,Ve,We,He],[te.KOVAN]:[se[te.KOVAN],Ke,Ye,Qe,ze],[te.OPTIMISM]:[se[te.OPTIMISM],Xe,et,Je,Ze],[te.ARBITRUM_ONE]:[se[te.ARBITRUM_ONE],it,st,ot,at],[te.ARBITRUM_RINKEBY]:[se[te.ARBITRUM_RINKEBY],ut,dt,ct],[te.OPTIMISTIC_KOVAN]:[se[te.OPTIMISTIC_KOVAN],rt,ft,nt,tt],[te.POLYGON]:[mt,ht,pt],[te.POLYGON_MUMBAI]:[yt,se[te.POLYGON_MUMBAI],bt],[te.CELO]:[gt,Tt,At,vt],[te.CELO_ALFAJORES]:[It,wt,Ct,Et],[te.GNOSIS]:[se[te.GNOSIS],xt,St,kt],[te.MOONBEAM]:[se[te.MOONBEAM],Pt,Ot,Dt]};class Rf{constructor(e,t){this.chainId=e,this.poolProvider=t}async getPools(e,t){u.info("In static subgraph provider for V3");const n=Df[this.chainId],f=X().flatMap(n,(e=>n.map((t=>[e,t]))));e&&t&&f.push([e,t],...n.map((t=>[e,t])),...n.map((e=>[t,e])));const r=X()(f).filter((e=>Boolean(e[0]&&e[1]))).filter((e=>{let[t,n]=e;return t.address!==n.address&&!t.equals(n)})).flatMap((e=>{let[t,n]=e;return[[t,n,ne.FeeAmount.LOWEST],[t,n,ne.FeeAmount.LOW],[t,n,ne.FeeAmount.MEDIUM],[t,n,ne.FeeAmount.HIGH]]})).value();u.info(`V3 Static subgraph provider about to get ${r.length} pools on-chain`);const o=(await this.poolProvider.getPools(r)).getAllPools(),a=new Set;return X()(o).map((e=>{const{token0:t,token1:n,fee:f,liquidity:r}=e,o=ne.Pool.getAddress(e.token0,e.token1,e.fee);if(a.has(o))return;a.add(o);const i=m().toNumber(r);return{id:o,feeTier:Ae(f),liquidity:r.toString(),token0:{id:t.address},token1:{id:n.address},tvlETH:i,tvlUSD:i}})).compact().value()}}te.MAINNET,te.RINKEBY,te.OPTIMISM,te.ARBITRUM_ONE,te.POLYGON,te.CELO,te.G\u00d6RLI;class Bf{constructor(e){this.fallbacks=e}async getPools(e,t,n){for(let r=0;r<this.fallbacks.length;r++){const o=this.fallbacks[r];try{return await o.getPools(e,t,n)}catch(f){u.info(`Failed to get subgraph pools for V3 from fallback #${r}`)}}throw new Error("Failed to get subgraph pools from any providers")}}var Mf=n(37911);n(9950),n(93325),n(34913),n(95479),n(5456),n(17119),n(85589),n(26902),n(88021),n(21215),n(37809),n(56779),n(90791),n(12997),n(68055),n(55998),n(25411),n(79742),n(93247),n(28796),n(94313),n(13501);function Ff(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Nf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nf(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var f=0,r=function(){};return{s:r,n:function(){return f>=e.length?{done:!0}:{done:!1,value:e[f++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function Nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,f=new Array(t);n<t;n++)f[n]=e[n];return f}function Uf(e){var t,n=e.quote,f=e.quoteGasAdjusted,r=e.route,o=e.routeString,a=e.estimatedGasUsed,i=e.estimatedGasUsedQuoteToken,s=e.estimatedGasUsedUSD,u=e.gasPriceWei,c=e.methodParameters,l=e.blockNumber,d=e.trade,p=d.tradeType,h=d.inputAmount,m=d.outputAmount,b=[],y=Ff(r);try{for(y.s();!(t=y.n()).done;){var g=t.value,v=g.amount,T=g.quote,A=g.tokenPath;if(g.protocol===Ie.Protocol.V3){for(var I=g.route.pools,E=[],w=0;w<I.length;w++){var C=I[w],k=A[w],S=A[w+1],x=void 0;0===w&&(x=(0,Mf.i)(p)?v.quotient.toString():T.quotient.toString());var O=void 0;w===I.length-1&&(O=(0,Mf.i)(p)?T.quotient.toString():v.quotient.toString()),E.push({type:"v3-pool",tokenIn:{chainId:k.chainId,decimals:k.decimals,address:k.address,symbol:k.symbol},tokenOut:{chainId:S.chainId,decimals:S.decimals,address:S.address,symbol:S.symbol},fee:C.fee.toString(),liquidity:C.liquidity.toString(),sqrtRatioX96:C.sqrtRatioX96.toString(),tickCurrent:C.tickCurrent.toString(),amountIn:x,amountOut:O})}b.push(E)}else if(g.protocol===Ie.Protocol.V2){for(var _=g.route.pairs,P=[],D=0;D<_.length;D++){var R=_[D],B=A[D],M=A[D+1],F=void 0;0===D&&(F=(0,Mf.i)(p)?v.quotient.toString():T.quotient.toString());var N=void 0;D===_.length-1&&(N=(0,Mf.i)(p)?T.quotient.toString():v.quotient.toString());var U=R.reserve0,L=R.reserve1;P.push({type:"v2-pool",tokenIn:{chainId:B.chainId,decimals:B.decimals,address:B.address,symbol:B.symbol},tokenOut:{chainId:M.chainId,decimals:M.decimals,address:M.address,symbol:M.symbol},reserve0:{token:{chainId:U.currency.wrapped.chainId,decimals:U.currency.wrapped.decimals,address:U.currency.wrapped.address,symbol:U.currency.wrapped.symbol},quotient:U.quotient.toString()},reserve1:{token:{chainId:L.currency.wrapped.chainId,decimals:L.currency.wrapped.decimals,address:L.currency.wrapped.address,symbol:L.currency.wrapped.symbol},quotient:L.quotient.toString()},amountIn:F,amountOut:N})}b.push(P)}}}catch(q){y.e(q)}finally{y.f()}var G=(0,Mf.i)(p)?h:m;return{methodParameters:c,blockNumber:l.toString(),amount:G.quotient.toString(),amountDecimals:G.toExact(),quote:n.quotient.toString(),quoteDecimals:n.toExact(),quoteGasAdjusted:f.quotient.toString(),quoteGasAdjustedDecimals:f.toExact(),gasUseEstimateQuote:i.quotient.toString(),gasUseEstimateQuoteDecimals:i.toExact(),gasUseEstimate:a.toString(),gasUseEstimateUSD:s.toExact(),gasPriceWei:u.toString(),route:b,routeString:o}}function Lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);t&&(f=f.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,f)}return n}function Gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lf(Object(n),!0).forEach((function(t){(0,f.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qf=Object.values(te).filter((function(e){return Number.isInteger(e)}));var jf=new WeakMap;function Vf(e,t){var n,f,r,o=jf.get(t)||{},a=o[e];if(a)return a;e!==te.MAINNET&&(n=new xf(e)),[te.POLYGON,te.POLYGON_MUMBAI].includes(e)&&(r=new Yt(e,t,375e3),f=new ln(e,t,r,{retries:2,minTimeout:100,maxTimeout:1e3},{multicallChunk:10,gasLimitPerCall:5e6,quoteMinSuccessRate:.1},{gasLimitOverride:5e6,multicallChunk:5},{gasLimitOverride:625e4,multicallChunk:4}));var i=new bf({chainId:e,provider:t,v2SubgraphProvider:n,multicall2Provider:r,onChainQuoteProvider:f});return o[e]=i,jf.set(t,o),i}function $f(e,t,n){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,r.A)(a().mark((function e(t,n,f){var r,o,s,u,c,l,d,p,h,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tradeType,o=t.tokenIn,s=t.tokenOut,u=t.amount,c=new i.ou(o.chainId,o.address,o.decimals,o.symbol),l=new i.ou(s.chainId,s.address,s.decimals,s.symbol),d=(0,Mf.i)(r)?c:l,p=(0,Mf.i)(r)?l:c,h=i.eF.fromRawAmount(d,m().BigInt(u)),e.next=8,n.route(h,p,r,void 0,f);case 8:if(b=e.sent){e.next=11;break}return e.abrupt("return",Mf.N);case 11:return e.abrupt("return",Uf(Gf(Gf({},b),{},{routeString:Ce(b.route)})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(e,t){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,r.A)(a().mark((function e(t,n){var f,r,o,i,s,u,c,l,d,p,h,m;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=t.tokenInAddress,r=t.tokenInChainId,o=t.tokenInDecimals,i=t.tokenInSymbol,s=t.tokenOutAddress,u=t.tokenOutChainId,c=t.tokenOutDecimals,l=t.tokenOutSymbol,d=t.amount,p=t.tradeType,h=t.provider,a=r,Boolean(a&&qf.includes(a))){e.next=3;break}throw new Error("Router does not support this token's chain (chainId: ".concat(r,")."));case 3:return m=Vf(r,h),e.abrupt("return",$f({tradeType:p,chainId:r,tokenIn:{address:f,chainId:r,decimals:o,symbol:i},tokenOut:{address:s,chainId:u,decimals:c,symbol:l},amount:d},m,n));case 5:case"end":return e.stop()}var a}),e)})))).apply(this,arguments)}},21942:(e,t,n)=>{var f=n(371);e.exports=function(e,t){return new Promise((function(n,r){var o,a=t||{};function i(e){r(e||new Error("Aborted"))}function s(e,t){e.bail?i(e):o.retry(e)?a.onRetry&&a.onRetry(e,t):r(o.mainError())}"randomize"in a||(a.randomize=!0),(o=f.operation(a)).attempt((function(t){var f;try{f=e(i,t)}catch(r){return void s(r,t)}Promise.resolve(f).then(n).catch((function(e){s(e,t)}))}))}))}},46144:(e,t,n)=>{const{promiseFinally:f,toError:r}=n(33529);e.exports=class e{static set(t,n){return(new e).set(t,n)}static wrap(t,n,f){return(new e).wrap(t,n,f)}constructor(){this._id=null,this._delay=null}get id(){return this._id}get delay(){return this._delay}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise(((n,f)=>{this.clear();const o=t?()=>f(r(t)):n;this._id=setTimeout(o,e),this._delay=e}))}wrap(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=f(e,(()=>this.clear())),o=this.set(t,n);return Promise.race([r,o])}clear(){this._id&&clearTimeout(this._id)}}},33529:(e,t)=>{t.promiseFinally=(e,t)=>Promise.resolve(e).then((e=>(t(),e)),(e=>(t(),Promise.reject(e)))),t.toError=e=>"string"===typeof(e="function"===typeof e?e():e)?new Error(e):e},96011:(e,t,n)=>{e.exports=n(66429)},98394:(e,t,n)=>{"use strict";var f=n(14950),r=n(33244),o=n(18090),a=n(5704),i=n(8801),s=n(35850),u=n(55216),c=n(59645);e.exports=function(e){return new Promise((function(t,n){var l=e.data,d=e.headers,p=e.responseType;f.isFormData(l)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+b)}var y=i(e.baseURL,e.url);function g(){if(h){var f="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,o={data:p&&"text"!==p&&"json"!==p?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:f,config:e,request:h};r(t,n,o),h=null}}if(h.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(n(c("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){n(c("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(c(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},f.isStandardBrowserEnv()){var v=(e.withCredentials||u(y))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}"setRequestHeader"in h&&f.forEach(d,(function(e,t){"undefined"===typeof l&&"content-type"===t.toLowerCase()?delete d[t]:h.setRequestHeader(t,e)})),f.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),p&&"json"!==p&&(h.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),n(e),h=null)})),l||(l=null),h.send(l)}))}},66429:(e,t,n)=>{"use strict";var f=n(14950),r=n(62498),o=n(83213),a=n(57549);function i(e){var t=new o(e),n=r(o.prototype.request,t);return f.extend(n,o.prototype,t),f.extend(n,t),n}var s=i(n(62869));s.Axios=o,s.create=function(e){return i(a(s.defaults,e))},s.Cancel=n(82938),s.CancelToken=n(3209),s.isCancel=n(14638),s.all=function(e){return Promise.all(e)},s.spread=n(20650),s.isAxiosError=n(75509),e.exports=s,e.exports.default=s},82938:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},3209:(e,t,n)=>{"use strict";var f=n(82938);function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new f(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},14638:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},83213:(e,t,n)=>{"use strict";var f=n(14950),r=n(5704),o=n(17805),a=n(14012),i=n(57549),s=n(3807),u=s.validators;function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=i(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&s.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],f=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(f=f&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!f){var c=[a,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(o),r=Promise.resolve(e);c.length;)r=r.then(c.shift(),c.shift());return r}for(var l=e;n.length;){var d=n.shift(),p=n.shift();try{l=d(l)}catch(h){p(h);break}}try{r=a(l)}catch(h){return Promise.reject(h)}for(;o.length;)r=r.then(o.shift(),o.shift());return r},c.prototype.getUri=function(e){return e=i(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},f.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(i(n||{},{method:e,url:t,data:(n||{}).data}))}})),f.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,f){return this.request(i(f||{},{method:e,url:t,data:n}))}})),e.exports=c},17805:(e,t,n)=>{"use strict";var f=n(14950);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){f.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},8801:(e,t,n)=>{"use strict";var f=n(31831),r=n(18066);e.exports=function(e,t){return e&&!f(t)?r(e,t):t}},59645:(e,t,n)=>{"use strict";var f=n(19531);e.exports=function(e,t,n,r,o){var a=new Error(e);return f(a,t,n,r,o)}},14012:(e,t,n)=>{"use strict";var f=n(14950),r=n(82115),o=n(14638),a=n(62869);function i(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return i(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=f.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),f.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return i(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(i(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},19531:e=>{"use strict";e.exports=function(e,t,n,f,r){return e.config=t,n&&(e.code=n),e.request=f,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},57549:(e,t,n)=>{"use strict";var f=n(14950);e.exports=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],i=["validateStatus"];function s(e,t){return f.isPlainObject(e)&&f.isPlainObject(t)?f.merge(e,t):f.isPlainObject(t)?f.merge({},t):f.isArray(t)?t.slice():t}function u(r){f.isUndefined(t[r])?f.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(e[r],t[r])}f.forEach(r,(function(e){f.isUndefined(t[e])||(n[e]=s(void 0,t[e]))})),f.forEach(o,u),f.forEach(a,(function(r){f.isUndefined(t[r])?f.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(void 0,t[r])})),f.forEach(i,(function(f){f in t?n[f]=s(e[f],t[f]):f in e&&(n[f]=s(void 0,e[f]))}));var c=r.concat(o).concat(a).concat(i),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return f.forEach(l,u),n}},33244:(e,t,n)=>{"use strict";var f=n(59645);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(f("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},82115:(e,t,n)=>{"use strict";var f=n(14950),r=n(62869);e.exports=function(e,t,n){var o=this||r;return f.forEach(n,(function(n){e=n.call(o,e,t)})),e}},62869:(e,t,n)=>{"use strict";var f=n(85224),r=n(14950),o=n(5180),a=n(19531),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof f&&"[object process]"===Object.prototype.toString.call(f))&&(e=n(98394)),e}(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(f){if("SyntaxError"!==f.name)throw f}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,f=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||f&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(i){if(o){if("SyntaxError"===i.name)throw a(i,this,"E_JSON_PARSE");throw i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u},62498:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),f=0;f<n.length;f++)n[f]=arguments[f];return e.apply(t,n)}}},5704:(e,t,n)=>{"use strict";var f=n(14950);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(f.isURLSearchParams(t))o=t.toString();else{var a=[];f.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(f.isArray(e)?t+="[]":e=[e],f.forEach(e,(function(e){f.isDate(e)?e=e.toISOString():f.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},18066:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},18090:(e,t,n)=>{"use strict";var f=n(14950);e.exports=f.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var i=[];i.push(e+"="+encodeURIComponent(t)),f.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),f.isString(r)&&i.push("path="+r),f.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},31831:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},75509:e=>{"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},55216:(e,t,n)=>{"use strict";var f=n(14950);e.exports=f.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var f=e;return t&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=f.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},5180:(e,t,n)=>{"use strict";var f=n(14950);e.exports=function(e,t){f.forEach(e,(function(n,f){f!==t&&f.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[f])}))}},35850:(e,t,n)=>{"use strict";var f=n(14950),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(f.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=f.trim(e.substr(0,o)).toLowerCase(),n=f.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},20650:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},3807:(e,t,n)=>{"use strict";var f=n(64198),r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},a=f.version.split(".");function i(e,t){for(var n=t?t.split("."):a,f=e.split("."),r=0;r<3;r++){if(n[r]>f[r])return!0;if(n[r]<f[r])return!1}return!1}r.transitional=function(e,t,n){var r=t&&i(t);function a(e,t){return"[Axios v"+f.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,f,i){if(!1===e)throw new Error(a(f," has been removed in "+t));return r&&!o[f]&&(o[f]=!0,console.warn(a(f," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,f,i)}},e.exports={isOlderVersion:i,assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var f=Object.keys(e),r=f.length;r-- >0;){var o=f[r],a=t[o];if(a){var i=e[o],s=void 0===i||a(i,o,e);if(!0!==s)throw new TypeError("option "+o+" must be "+s)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}},14950:(e,t,n)=>{"use strict";var f=n(62498),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function a(e){return"undefined"===typeof e}function i(e){return null!==e&&"object"===typeof e}function s(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===r.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,f=e.length;n<f;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:i,isPlainObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:u,isStream:function(e){return i(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,f){s(t[f])&&s(n)?t[f]=e(t[f],n):s(n)?t[f]=e({},n):o(n)?t[f]=n.slice():t[f]=n}for(var f=0,r=arguments.length;f<r;f++)c(arguments[f],n);return t},extend:function(e,t,n){return c(t,(function(t,r){e[r]=n&&"function"===typeof t?f(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},32129:(e,t,n)=>{var f=n(93325).hp,r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(s){t=function(){}}try{n=Set}catch(s){n=function(){}}try{r=Promise}catch(s){r=function(){}}function o(a,s,u,c,l){"object"===typeof s&&(u=s.depth,c=s.prototype,l=s.includeNonEnumerable,s=s.circular);var d=[],p=[],h="undefined"!=typeof f;return"undefined"==typeof s&&(s=!0),"undefined"==typeof u&&(u=1/0),function a(u,m){if(null===u)return null;if(0===m)return u;var b,y;if("object"!=typeof u)return u;if(e(u,t))b=new t;else if(e(u,n))b=new n;else if(e(u,r))b=new r((function(e,t){u.then((function(t){e(a(t,m-1))}),(function(e){t(a(e,m-1))}))}));else if(o.__isArray(u))b=[];else if(o.__isRegExp(u))b=new RegExp(u.source,i(u)),u.lastIndex&&(b.lastIndex=u.lastIndex);else if(o.__isDate(u))b=new Date(u.getTime());else{if(h&&f.isBuffer(u))return b=f.allocUnsafe?f.allocUnsafe(u.length):new f(u.length),u.copy(b),b;e(u,Error)?b=Object.create(u):"undefined"==typeof c?(y=Object.getPrototypeOf(u),b=Object.create(y)):(b=Object.create(c),y=c)}if(s){var g=d.indexOf(u);if(-1!=g)return p[g];d.push(u),p.push(b)}for(var v in e(u,t)&&u.forEach((function(e,t){var n=a(t,m-1),f=a(e,m-1);b.set(n,f)})),e(u,n)&&u.forEach((function(e){var t=a(e,m-1);b.add(t)})),u){var T;y&&(T=Object.getOwnPropertyDescriptor(y,v)),T&&null==T.set||(b[v]=a(u[v],m-1))}if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(u);for(v=0;v<A.length;v++){var I=A[v];(!(w=Object.getOwnPropertyDescriptor(u,I))||w.enumerable||l)&&(b[I]=a(u[I],m-1),w.enumerable||Object.defineProperty(b,I,{enumerable:!1}))}}if(l){var E=Object.getOwnPropertyNames(u);for(v=0;v<E.length;v++){var w,C=E[v];(w=Object.getOwnPropertyDescriptor(u,C))&&w.enumerable||(b[C]=a(u[C],m-1),Object.defineProperty(b,C,{enumerable:!1}))}}return b}(a,u)}function a(e){return Object.prototype.toString.call(e)}function i(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=a,o.__isDate=function(e){return"object"===typeof e&&"[object Date]"===a(e)},o.__isArray=function(e){return"object"===typeof e&&"[object Array]"===a(e)},o.__isRegExp=function(e){return"object"===typeof e&&"[object RegExp]"===a(e)},o.__getRegExpFlags=i,o}();e.exports&&(e.exports=r)},85999:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="ethers/5.7.2"},91937:function(e,t,n){"use strict";var f=this&&this.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n),Object.defineProperty(e,f,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Wordlist=t.version=t.wordlists=t.utils=t.logger=t.errors=t.constants=t.FixedNumber=t.BigNumber=t.ContractFactory=t.Contract=t.BaseContract=t.providers=t.getDefaultProvider=t.VoidSigner=t.Wallet=t.Signer=void 0;var a=n(17673);Object.defineProperty(t,"BaseContract",{enumerable:!0,get:function(){return a.BaseContract}}),Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return a.Contract}}),Object.defineProperty(t,"ContractFactory",{enumerable:!0,get:function(){return a.ContractFactory}});var i=n(23676);Object.defineProperty(t,"BigNumber",{enumerable:!0,get:function(){return i.BigNumber}}),Object.defineProperty(t,"FixedNumber",{enumerable:!0,get:function(){return i.FixedNumber}});var s=n(62493);Object.defineProperty(t,"Signer",{enumerable:!0,get:function(){return s.Signer}}),Object.defineProperty(t,"VoidSigner",{enumerable:!0,get:function(){return s.VoidSigner}});var u=n(26195);Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return u.Wallet}});var c=o(n(3016));t.constants=c;var l=o(n(3051));t.providers=l;var d=n(3051);Object.defineProperty(t,"getDefaultProvider",{enumerable:!0,get:function(){return d.getDefaultProvider}});var p=n(5350);Object.defineProperty(t,"Wordlist",{enumerable:!0,get:function(){return p.Wordlist}}),Object.defineProperty(t,"wordlists",{enumerable:!0,get:function(){return p.wordlists}});var h=o(n(27331));t.utils=h;var m=n(96376);Object.defineProperty(t,"errors",{enumerable:!0,get:function(){return m.ErrorCode}});var b=n(85999);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return b.version}});var y=new m.Logger(b.version);t.logger=y},13128:e=>{"use strict";e.exports=function(e){var t=e.uri,n=e.name,f=e.type;this.uri=t,this.name=n,this.type=f}},17096:(e,t,n)=>{"use strict";var f=n(61097);e.exports=function e(t,n,r){var o;void 0===n&&(n=""),void 0===r&&(r=f);var a=new Map;function i(e,t){var n=a.get(t);n?n.push.apply(n,e):a.set(t,e)}if(r(t))o=null,i([n],t);else{var s=n?n+".":"";if("undefined"!==typeof FileList&&t instanceof FileList)o=Array.prototype.map.call(t,(function(e,t){return i([""+s+t],e),null}));else if(Array.isArray(t))o=t.map((function(t,n){var f=e(t,""+s+n,r);return f.files.forEach(i),f.clone}));else if(t&&t.constructor===Object)for(var u in o={},t){var c=e(t[u],""+s+u,r);c.files.forEach(i),o[u]=c.clone}else o=t}return{clone:o,files:a}}},4894:(e,t,n)=>{"use strict";t.ReactNativeFile=n(13128),t.extractFiles=n(17096),t.isExtractableFile=n(61097)},61097:(e,t,n)=>{"use strict";var f=n(13128);e.exports=function(e){return"undefined"!==typeof File&&e instanceof File||"undefined"!==typeof Blob&&e instanceof Blob||e instanceof f}},85520:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},94280:function(e,t,n){"use strict";var f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(4894),o=f(n(85520)),a=function(e){return r.isExtractableFile(e)||null!==e&&"object"===typeof e&&"function"===typeof e.pipe};t.default=function(e,t,n){var f=r.extractFiles({query:e,variables:t,operationName:n},"",a),i=f.clone,s=f.files;if(0===s.size){if(!Array.isArray(e))return JSON.stringify(i);if("undefined"!==typeof t&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");var u=e.reduce((function(e,n,f){return e.push({query:n,variables:t?t[f]:void 0}),e}),[]);return JSON.stringify(u)}var c=new("undefined"===typeof FormData?o.default:FormData);c.append("operations",JSON.stringify(i));var l={},d=0;return s.forEach((function(e){l[++d]=e})),c.append("map",JSON.stringify(l)),d=0,s.forEach((function(e,t){c.append(""+ ++d,t)})),c}},11201:function(e,t,n){"use strict";var f=this&&this.__assign||function(){return f=Object.assign||function(e){for(var t,n=1,f=arguments.length;n<f;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},f.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n),Object.defineProperty(e,f,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,o){function a(e){try{s(f.next(e))}catch(t){o(t)}}function i(e){try{s(f.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}s((f=f.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,f,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,f&&(r=2&o[0]?f.return:o[0]?f.throw||((r=f.return)&&r.call(f),0):f.next)&&!(r=r.call(f,o[1])).done)return r;switch(f=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,f=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(i){o=[6,i],f=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},u=this&&this.__rest||function(e,t){var n={};for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&t.indexOf(f)<0&&(n[f]=e[f]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(f=Object.getOwnPropertySymbols(e);r<f.length;r++)t.indexOf(f[r])<0&&Object.prototype.propertyIsEnumerable.call(e,f[r])&&(n[f[r]]=e[f[r]])}return n},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gql=t.batchRequests=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var l=a(n(96487)),d=l,p=n(7808),h=c(n(94280)),m=n(13520);Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return m.ClientError}});var b=function(e){var t={};return e&&("undefined"!==typeof Headers&&e instanceof Headers||e instanceof d.Headers?t=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}(e):Array.isArray(e)?e.forEach((function(e){var n=e[0],f=e[1];t[n]=f})):t=e),t},y=function(e){return e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},g=function(e){var t=e.url,n=e.query,r=e.variables,o=e.operationName,a=e.headers,u=e.fetch,c=e.fetchOptions;return i(void 0,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return e=h.default(n,r,o),[4,u(t,f({method:"POST",headers:f(f({},"string"===typeof e?{"Content-Type":"application/json"}:{}),a),body:e},c))];case 1:return[2,i.sent()]}}))}))},v=function(e){var t=e.url,n=e.query,r=e.variables,o=e.operationName,a=e.headers,u=e.fetch,c=e.fetchOptions;return i(void 0,void 0,void 0,(function(){var e;return s(this,(function(i){switch(i.label){case 0:return e=function(e){var t=e.query,n=e.variables,f=e.operationName;if(!Array.isArray(t)){var r=["query="+encodeURIComponent(y(t))];return n&&r.push("variables="+encodeURIComponent(JSON.stringify(n))),f&&r.push("operationName="+encodeURIComponent(f)),r.join("&")}if("undefined"!==typeof n&&!Array.isArray(n))throw new Error("Cannot create query with given variable type, array expected");var o=t.reduce((function(e,t,f){return e.push({query:y(t),variables:n?JSON.stringify(n[f]):void 0}),e}),[]);return"query="+encodeURIComponent(JSON.stringify(o))}({query:n,variables:r,operationName:o}),[4,u(t+"?"+e,f({method:"GET",headers:a},c))];case 1:return[2,i.sent()]}}))}))},T=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t,n){var r=this.options,o=r.headers,a=r.fetch,i=void 0===a?l.default:a,s=r.method,c=void 0===s?"POST":s,d=u(r,["headers","fetch","method"]);return A({url:this.url,query:e,variables:t,headers:f(f({},b(o)),b(n)),operationName:void 0,fetch:i,method:c,fetchOptions:d})},e.prototype.request=function(e,t,n){return i(this,void 0,void 0,(function(){var r,o,a,i,c,d,p,h,m,y,g;return s(this,(function(s){switch(s.label){case 0:return r=this.options,o=r.headers,a=r.fetch,i=void 0===a?l.default:a,c=r.method,d=void 0===c?"POST":c,p=u(r,["headers","fetch","method"]),h=this.url,m=w(e),y=m.query,g=m.operationName,[4,A({url:h,query:y,variables:t,headers:f(f({},b(o)),b(n)),operationName:g,fetch:i,method:d,fetchOptions:p})];case 1:return[2,s.sent().data]}}))}))},e.prototype.batchRequests=function(e,t){return i(this,void 0,void 0,(function(){var n,r,o,a,i,c,d,p,h,m;return s(this,(function(s){switch(s.label){case 0:return n=this.options,r=n.headers,o=n.fetch,a=void 0===o?l.default:o,i=n.method,c=void 0===i?"POST":i,d=u(n,["headers","fetch","method"]),p=this.url,h=e.map((function(e){return w(e.document).query})),m=e.map((function(e){return e.variables})),[4,A({url:p,query:h,variables:m,headers:f(f({},b(r)),b(t)),operationName:void 0,fetch:a,method:c,fetchOptions:d})];case 1:return[2,s.sent().data]}}))}))},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n,f=this.options.headers;return f?f[e]=t:this.options.headers=((n={})[e]=t,n),this},e.prototype.setEndpoint=function(e){return this.url=e,this},e}();function A(e){var t=e.url,n=e.query,r=e.variables,o=e.headers,a=e.operationName,u=e.fetch,c=e.method,l=void 0===c?"POST":c,d=e.fetchOptions;return i(this,void 0,void 0,(function(){var e,i,c,p,h,b,y,T;return s(this,(function(s){switch(s.label){case 0:return e="POST"===l.toUpperCase()?g:v,i=Array.isArray(n),[4,e({url:t,query:n,variables:r,operationName:a,headers:o,fetch:u,fetchOptions:d})];case 1:return[4,E(c=s.sent())];case 2:if(p=s.sent(),h=i&&Array.isArray(p)?!p.some((function(e){return!e.data})):!!p.data,c.ok&&!p.errors&&h)return b=c.headers,y=c.status,[2,f(f({},i?{data:p}:p),{headers:b,status:y})];throw T="string"===typeof p?{error:p}:p,new m.ClientError(f(f({},T),{status:c.status,headers:c.headers}),{query:n,variables:r})}}))}))}function I(e,t,n,f){return i(this,void 0,void 0,(function(){return s(this,(function(r){return[2,new T(e).request(t,n,f)]}))}))}function E(e){var t=e.headers.get("Content-Type");return t&&t.startsWith("application/json")?e.json():e.text()}function w(e){var t;if("string"===typeof e)return{query:e};var n=void 0,f=e.definitions.filter((function(e){return"OperationDefinition"===e.kind}));return 1===f.length&&(n=null===(t=f[0].name)||void 0===t?void 0:t.value),{query:p.print(e),operationName:n}}t.GraphQLClient=T,t.rawRequest=function(e,t,n,f){return i(this,void 0,void 0,(function(){return s(this,(function(r){return[2,new T(e).rawRequest(t,n,f)]}))}))},t.request=I,t.batchRequests=function(e,t,n){return i(this,void 0,void 0,(function(){return s(this,(function(f){return[2,new T(e).batchRequests(t,n)]}))}))},t.default=I,t.gql=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.reduce((function(e,n,f){return""+e+n+(f in t?t[f]:"")}),"")}},13520:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function f(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(f.prototype=n.prototype,new f)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var f=function(e){function t(n,f){var r=this,o=t.extractMessage(n)+": "+JSON.stringify({response:n,request:f});return r=e.call(this,o)||this,Object.setPrototypeOf(r,t.prototype),r.response=n,r.request=f,"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return n(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=f},89673:e=>{e.exports=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},41397:function(e,t,n){var f;e=n.nmd(e),function(){var r,o="Expected a function",a="__lodash_hash_undefined__",i="__lodash_placeholder__",s=16,u=32,c=64,l=128,d=256,p=1/0,h=9007199254740991,m=NaN,b=4294967295,y=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",u],["partialRight",c],["rearg",d]],g="[object Arguments]",v="[object Array]",T="[object Boolean]",A="[object Date]",I="[object Error]",E="[object Function]",w="[object GeneratorFunction]",C="[object Map]",k="[object Number]",S="[object Object]",x="[object Promise]",O="[object RegExp]",_="[object Set]",P="[object String]",D="[object Symbol]",R="[object WeakMap]",B="[object ArrayBuffer]",M="[object DataView]",F="[object Float32Array]",N="[object Float64Array]",U="[object Int8Array]",L="[object Int16Array]",G="[object Int32Array]",q="[object Uint8Array]",j="[object Uint8ClampedArray]",V="[object Uint16Array]",$="[object Uint32Array]",W=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,z=RegExp(Y.source),X=RegExp(Q.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(re.source),ae=/^\s+/,ie=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,be=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,Te=/^(?:0|[1-9]\d*)$/,Ae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ie=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",xe="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",_e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",De="["+we+"]",Re="["+_e+"]",Be="["+Ce+"]",Me="\\d+",Fe="["+ke+"]",Ne="["+Se+"]",Ue="[^"+we+_e+Me+ke+Se+xe+"]",Le="\\ud83c[\\udffb-\\udfff]",Ge="[^"+we+"]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+xe+"]",$e="\\u200d",We="(?:"+Ne+"|"+Ue+")",He="(?:"+Ve+"|"+Ue+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ye="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Qe="(?:"+Be+"|"+Le+")"+"?",ze="["+Oe+"]?",Xe=ze+Qe+("(?:"+$e+"(?:"+[Ge,qe,je].join("|")+")"+ze+Qe+")*"),Je="(?:"+[Fe,qe,je].join("|")+")"+Xe,Ze="(?:"+[Ge+Be+"?",Be,qe,je,De].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(Be,"g"),nt=RegExp(Le+"(?="+Le+")|"+Ze+Xe,"g"),ft=RegExp([Ve+"?"+Ne+"+"+Ke+"(?="+[Re,Ve,"$"].join("|")+")",He+"+"+Ye+"(?="+[Re,Ve+We,"$"].join("|")+")",Ve+"?"+We+"+"+Ke,Ve+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Je].join("|"),"g"),rt=RegExp("["+$e+we+Ce+Oe+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,st={};st[F]=st[N]=st[U]=st[L]=st[G]=st[q]=st[j]=st[V]=st[$]=!0,st[g]=st[v]=st[B]=st[T]=st[M]=st[A]=st[I]=st[E]=st[C]=st[k]=st[S]=st[O]=st[_]=st[P]=st[R]=!1;var ut={};ut[g]=ut[v]=ut[B]=ut[M]=ut[T]=ut[A]=ut[F]=ut[N]=ut[U]=ut[L]=ut[G]=ut[C]=ut[k]=ut[S]=ut[O]=ut[_]=ut[P]=ut[D]=ut[q]=ut[j]=ut[V]=ut[$]=!0,ut[I]=ut[E]=ut[R]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,dt=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,mt=pt||ht||Function("return this")(),bt=t&&!t.nodeType&&t,yt=bt&&e&&!e.nodeType&&e,gt=yt&&yt.exports===bt,vt=gt&&pt.process,Tt=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),At=Tt&&Tt.isArrayBuffer,It=Tt&&Tt.isDate,Et=Tt&&Tt.isMap,wt=Tt&&Tt.isRegExp,Ct=Tt&&Tt.isSet,kt=Tt&&Tt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function xt(e,t,n,f){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(f,a,n(a),e)}return f}function Ot(e,t){for(var n=-1,f=null==e?0:e.length;++n<f&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,f=null==e?0:e.length;++n<f;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,f=null==e?0:e.length,r=0,o=[];++n<f;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function Rt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Bt(e,t,n){for(var f=-1,r=null==e?0:e.length;++f<r;)if(n(t,e[f]))return!0;return!1}function Mt(e,t){for(var n=-1,f=null==e?0:e.length,r=Array(f);++n<f;)r[n]=t(e[n],n,e);return r}function Ft(e,t){for(var n=-1,f=t.length,r=e.length;++n<f;)e[r+n]=t[n];return e}function Nt(e,t,n,f){var r=-1,o=null==e?0:e.length;for(f&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function Ut(e,t,n,f){var r=null==e?0:e.length;for(f&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Lt(e,t){for(var n=-1,f=null==e?0:e.length;++n<f;)if(t(e[n],n,e))return!0;return!1}var Gt=Kt("length");function qt(e,t,n){var f;return n(e,(function(e,n,r){if(t(e,n,r))return f=n,!1})),f}function jt(e,t,n,f){for(var r=e.length,o=n+(f?1:-1);f?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Vt(e,t,n){return t===t?function(e,t,n){var f=n-1,r=e.length;for(;++f<r;)if(e[f]===t)return f;return-1}(e,t,n):jt(e,Wt,n)}function $t(e,t,n,f){for(var r=n-1,o=e.length;++r<o;)if(f(e[r],t))return r;return-1}function Wt(e){return e!==e}function Ht(e,t){var n=null==e?0:e.length;return n?zt(e,t)/n:m}function Kt(e){return function(t){return null==t?r:t[e]}}function Yt(e){return function(t){return null==e?r:e[t]}}function Qt(e,t,n,f,r){return r(e,(function(e,r,o){n=f?(f=!1,e):t(n,e,r,o)})),n}function zt(e,t){for(var n,f=-1,o=e.length;++f<o;){var a=t(e[f]);a!==r&&(n=n===r?a:n+a)}return n}function Xt(e,t){for(var n=-1,f=Array(e);++n<e;)f[n]=t(n);return f}function Jt(e){return e?e.slice(0,bn(e)+1).replace(ae,""):e}function Zt(e){return function(t){return e(t)}}function en(e,t){return Mt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,f=e.length;++n<f&&Vt(t,e[n],0)>-1;);return n}function fn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}var rn=Yt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ct[e]}function sn(e){return rt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,f){n[++t]=[f,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,f=e.length,r=0,o=[];++n<f;){var a=e[n];a!==t&&a!==i||(e[n]=i,o[r++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return sn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Gt(e)}function mn(e){return sn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function bn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var yn=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n=(t=null==t?mt:gn.defaults(mt.Object(),t,gn.pick(mt,at))).Array,f=t.Date,ie=t.Error,we=t.Function,Ce=t.Math,ke=t.Object,Se=t.RegExp,xe=t.String,Oe=t.TypeError,_e=n.prototype,Pe=we.prototype,De=ke.prototype,Re=t["__core-js_shared__"],Be=Pe.toString,Me=De.hasOwnProperty,Fe=0,Ne=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ue=De.toString,Le=Be.call(ke),Ge=mt._,qe=Se("^"+Be.call(Me).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=gt?t.Buffer:r,Ve=t.Symbol,$e=t.Uint8Array,We=je?je.allocUnsafe:r,He=cn(ke.getPrototypeOf,ke),Ke=ke.create,Ye=De.propertyIsEnumerable,Qe=_e.splice,ze=Ve?Ve.isConcatSpreadable:r,Xe=Ve?Ve.iterator:r,Je=Ve?Ve.toStringTag:r,Ze=function(){try{var e=po(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,rt=f&&f.now!==mt.Date.now&&f.now,ct=t.setTimeout!==mt.setTimeout&&t.setTimeout,pt=Ce.ceil,ht=Ce.floor,bt=ke.getOwnPropertySymbols,yt=je?je.isBuffer:r,vt=t.isFinite,Tt=_e.join,Gt=cn(ke.keys,ke),Yt=Ce.max,vn=Ce.min,Tn=f.now,An=t.parseInt,In=Ce.random,En=_e.reverse,wn=po(t,"DataView"),Cn=po(t,"Map"),kn=po(t,"Promise"),Sn=po(t,"Set"),xn=po(t,"WeakMap"),On=po(ke,"create"),_n=xn&&new xn,Pn={},Dn=Lo(wn),Rn=Lo(Cn),Bn=Lo(kn),Mn=Lo(Sn),Fn=Lo(xn),Nn=Ve?Ve.prototype:r,Un=Nn?Nn.valueOf:r,Ln=Nn?Nn.toString:r;function Gn(e){if(ni(e)&&!Wa(e)&&!(e instanceof $n)){if(e instanceof Vn)return e;if(Me.call(e,"__wrapped__"))return Go(e)}return new Vn(e)}var qn=function(){function e(){}return function(t){if(!ti(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function jn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function $n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=b,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var f=e[t];this.set(f[0],f[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var f=e[t];this.set(f[0],f[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var f=e[t];this.set(f[0],f[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new Hn(e);this.size=t.size}function zn(e,t){var n=Wa(e),f=!n&&$a(e),r=!n&&!f&&Qa(e),o=!n&&!f&&!r&&ci(e),a=n||f||r||o,i=a?Xt(e.length,xe):[],s=i.length;for(var u in e)!t&&!Me.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||To(u,s))||i.push(u);return i}function Xn(e){var t=e.length;return t?e[Qf(0,t-1)]:r}function Jn(e,t){return Fo(_r(e),sf(t,0,e.length))}function Zn(e){return Fo(_r(e))}function ef(e,t,n){(n!==r&&!qa(e[t],n)||n===r&&!(t in e))&&of(e,t,n)}function tf(e,t,n){var f=e[t];Me.call(e,t)&&qa(f,n)&&(n!==r||t in e)||of(e,t,n)}function nf(e,t){for(var n=e.length;n--;)if(qa(e[n][0],t))return n;return-1}function ff(e,t,n,f){return pf(e,(function(e,r,o){t(f,e,n(e),o)})),f}function rf(e,t){return e&&Pr(t,Di(t),e)}function of(e,t,n){"__proto__"==t&&Ze?Ze(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function af(e,t){for(var f=-1,o=t.length,a=n(o),i=null==e;++f<o;)a[f]=i?r:Si(e,t[f]);return a}function sf(e,t,n){return e===e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function uf(e,t,n,f,o,a){var i,s=1&t,u=2&t,c=4&t;if(n&&(i=o?n(e,f,o,a):n(e)),i!==r)return i;if(!ti(e))return e;var l=Wa(e);if(l){if(i=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return _r(e,i)}else{var d=bo(e),p=d==E||d==w;if(Qa(e))return wr(e,s);if(d==S||d==g||p&&!o){if(i=u||p?{}:go(e),!s)return u?function(e,t){return Pr(e,mo(e),t)}(e,function(e,t){return e&&Pr(t,Ri(t),e)}(i,e)):function(e,t){return Pr(e,ho(e),t)}(e,rf(i,e))}else{if(!ut[d])return o?e:{};i=function(e,t,n){var f=e.constructor;switch(t){case B:return Cr(e);case T:case A:return new f(+e);case M:return function(e,t){var n=t?Cr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case F:case N:case U:case L:case G:case q:case j:case V:case $:return kr(e,n);case C:return new f;case k:case P:return new f(e);case O:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case _:return new f;case D:return r=e,Un?ke(Un.call(r)):{}}var r}(e,d,s)}}a||(a=new Qn);var h=a.get(e);if(h)return h;a.set(e,i),ii(e)?e.forEach((function(f){i.add(uf(f,t,n,f,e,a))})):fi(e)&&e.forEach((function(f,r){i.set(r,uf(f,t,n,r,e,a))}));var m=l?r:(c?u?oo:ro:u?Ri:Di)(e);return Ot(m||e,(function(f,r){m&&(f=e[r=f]),tf(i,r,uf(f,t,n,r,e,a))})),i}function cf(e,t,n){var f=n.length;if(null==e)return!f;for(e=ke(e);f--;){var o=n[f],a=t[o],i=e[o];if(i===r&&!(o in e)||!a(i))return!1}return!0}function lf(e,t,n){if("function"!=typeof e)throw new Oe(o);return Do((function(){e.apply(r,n)}),t)}function df(e,t,n,f){var r=-1,o=Rt,a=!0,i=e.length,s=[],u=t.length;if(!i)return s;n&&(t=Mt(t,Zt(n))),f?(o=Bt,a=!1):t.length>=200&&(o=tn,a=!1,t=new Yn(t));e:for(;++r<i;){var c=e[r],l=null==n?c:n(c);if(c=f||0!==c?c:0,a&&l===l){for(var d=u;d--;)if(t[d]===l)continue e;s.push(c)}else o(t,l,f)||s.push(c)}return s}Gn.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:Gn}},Gn.prototype=jn.prototype,Gn.prototype.constructor=Gn,Vn.prototype=qn(jn.prototype),Vn.prototype.constructor=Vn,$n.prototype=qn(jn.prototype),$n.prototype.constructor=$n,Wn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(On){var n=t[e];return n===a?r:n}return Me.call(t,e)?t[e]:r},Wn.prototype.has=function(e){var t=this.__data__;return On?t[e]!==r:Me.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=On&&t===r?a:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=nf(t,e);return!(n<0)&&(n==t.length-1?t.pop():Qe.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,n=nf(t,e);return n<0?r:t[n][1]},Hn.prototype.has=function(e){return nf(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,f=nf(n,e);return f<0?(++this.size,n.push([e,t])):n[f][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Cn||Hn),string:new Wn}},Kn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return co(this,e).get(e)},Kn.prototype.has=function(e){return co(this,e).has(e)},Kn.prototype.set=function(e,t){var n=co(this,e),f=n.size;return n.set(e,t),this.size+=n.size==f?0:1,this},Yn.prototype.add=Yn.prototype.push=function(e){return this.__data__.set(e,a),this},Yn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var f=n.__data__;if(!Cn||f.length<199)return f.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(f)}return n.set(e,t),this.size=n.size,this};var pf=Br(Af),hf=Br(If,!0);function mf(e,t){var n=!0;return pf(e,(function(e,f,r){return n=!!t(e,f,r)})),n}function bf(e,t,n){for(var f=-1,o=e.length;++f<o;){var a=e[f],i=t(a);if(null!=i&&(s===r?i===i&&!ui(i):n(i,s)))var s=i,u=a}return u}function yf(e,t){var n=[];return pf(e,(function(e,f,r){t(e,f,r)&&n.push(e)})),n}function gf(e,t,n,f,r){var o=-1,a=e.length;for(n||(n=vo),r||(r=[]);++o<a;){var i=e[o];t>0&&n(i)?t>1?gf(i,t-1,n,f,r):Ft(r,i):f||(r[r.length]=i)}return r}var vf=Mr(),Tf=Mr(!0);function Af(e,t){return e&&vf(e,t,Di)}function If(e,t){return e&&Tf(e,t,Di)}function Ef(e,t){return Dt(t,(function(t){return Ja(e[t])}))}function wf(e,t){for(var n=0,f=(t=Tr(t,e)).length;null!=e&&n<f;)e=e[Uo(t[n++])];return n&&n==f?e:r}function Cf(e,t,n){var f=t(e);return Wa(e)?f:Ft(f,n(e))}function kf(e){return null==e?e===r?"[object Undefined]":"[object Null]":Je&&Je in ke(e)?function(e){var t=Me.call(e,Je),n=e[Je];try{e[Je]=r;var f=!0}catch(a){}var o=Ue.call(e);f&&(t?e[Je]=n:delete e[Je]);return o}(e):function(e){return Ue.call(e)}(e)}function Sf(e,t){return e>t}function xf(e,t){return null!=e&&Me.call(e,t)}function Of(e,t){return null!=e&&t in ke(e)}function _f(e,t,f){for(var o=f?Bt:Rt,a=e[0].length,i=e.length,s=i,u=n(i),c=1/0,l=[];s--;){var d=e[s];s&&t&&(d=Mt(d,Zt(t))),c=vn(d.length,c),u[s]=!f&&(t||a>=120&&d.length>=120)?new Yn(s&&d):r}d=e[0];var p=-1,h=u[0];e:for(;++p<a&&l.length<c;){var m=d[p],b=t?t(m):m;if(m=f||0!==m?m:0,!(h?tn(h,b):o(l,b,f))){for(s=i;--s;){var y=u[s];if(!(y?tn(y,b):o(e[s],b,f)))continue e}h&&h.push(b),l.push(m)}}return l}function Pf(e,t,n){var f=null==(e=Oo(e,t=Tr(t,e)))?e:e[Uo(Xo(t))];return null==f?r:St(f,e,n)}function Df(e){return ni(e)&&kf(e)==g}function Rf(e,t,n,f,o){return e===t||(null==e||null==t||!ni(e)&&!ni(t)?e!==e&&t!==t:function(e,t,n,f,o,a){var i=Wa(e),s=Wa(t),u=i?v:bo(e),c=s?v:bo(t),l=(u=u==g?S:u)==S,d=(c=c==g?S:c)==S,p=u==c;if(p&&Qa(e)){if(!Qa(t))return!1;i=!0,l=!1}if(p&&!l)return a||(a=new Qn),i||ci(e)?no(e,t,n,f,o,a):function(e,t,n,f,r,o,a){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case B:return!(e.byteLength!=t.byteLength||!o(new $e(e),new $e(t)));case T:case A:case k:return qa(+e,+t);case I:return e.name==t.name&&e.message==t.message;case O:case P:return e==t+"";case C:var i=un;case _:var s=1&f;if(i||(i=dn),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;f|=2,a.set(e,t);var c=no(i(e),i(t),f,r,o,a);return a.delete(e),c;case D:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,u,n,f,o,a);if(!(1&n)){var h=l&&Me.call(e,"__wrapped__"),m=d&&Me.call(t,"__wrapped__");if(h||m){var b=h?e.value():e,y=m?t.value():t;return a||(a=new Qn),o(b,y,n,f,a)}}if(!p)return!1;return a||(a=new Qn),function(e,t,n,f,o,a){var i=1&n,s=ro(e),u=s.length,c=ro(t),l=c.length;if(u!=l&&!i)return!1;var d=u;for(;d--;){var p=s[d];if(!(i?p in t:Me.call(t,p)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var b=!0;a.set(e,t),a.set(t,e);var y=i;for(;++d<u;){var g=e[p=s[d]],v=t[p];if(f)var T=i?f(v,g,p,t,e,a):f(g,v,p,e,t,a);if(!(T===r?g===v||o(g,v,n,f,a):T)){b=!1;break}y||(y="constructor"==p)}if(b&&!y){var A=e.constructor,I=t.constructor;A==I||!("constructor"in e)||!("constructor"in t)||"function"==typeof A&&A instanceof A&&"function"==typeof I&&I instanceof I||(b=!1)}return a.delete(e),a.delete(t),b}(e,t,n,f,o,a)}(e,t,n,f,Rf,o))}function Bf(e,t,n,f){var o=n.length,a=o,i=!f;if(null==e)return!a;for(e=ke(e);o--;){var s=n[o];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){var u=(s=n[o])[0],c=e[u],l=s[1];if(i&&s[2]){if(c===r&&!(u in e))return!1}else{var d=new Qn;if(f)var p=f(c,l,u,e,t,d);if(!(p===r?Rf(l,c,3,f,d):p))return!1}}return!0}function Mf(e){return!(!ti(e)||(t=e,Ne&&Ne in t))&&(Ja(e)?qe:ge).test(Lo(e));var t}function Ff(e){return"function"==typeof e?e:null==e?rs:"object"==typeof e?Wa(e)?jf(e[0],e[1]):qf(e):ps(e)}function Nf(e){if(!Co(e))return Gt(e);var t=[];for(var n in ke(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Uf(e){if(!ti(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=Co(e),n=[];for(var f in e)("constructor"!=f||!t&&Me.call(e,f))&&n.push(f);return n}function Lf(e,t){return e<t}function Gf(e,t){var f=-1,r=Ka(e)?n(e.length):[];return pf(e,(function(e,n,o){r[++f]=t(e,n,o)})),r}function qf(e){var t=lo(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(n){return n===e||Bf(n,e,t)}}function jf(e,t){return Io(e)&&ko(t)?So(Uo(e),t):function(n){var f=Si(n,e);return f===r&&f===t?xi(n,e):Rf(t,f,3)}}function Vf(e,t,n,f,o){e!==t&&vf(t,(function(a,i){if(o||(o=new Qn),ti(a))!function(e,t,n,f,o,a,i){var s=_o(e,n),u=_o(t,n),c=i.get(u);if(c)return void ef(e,n,c);var l=a?a(s,u,n+"",e,t,i):r,d=l===r;if(d){var p=Wa(u),h=!p&&Qa(u),m=!p&&!h&&ci(u);l=u,p||h||m?Wa(s)?l=s:Ya(s)?l=_r(s):h?(d=!1,l=wr(u,!0)):m?(d=!1,l=kr(u,!0)):l=[]:oi(u)||$a(u)?(l=s,$a(s)?l=gi(s):ti(s)&&!Ja(s)||(l=go(u))):d=!1}d&&(i.set(u,l),o(l,u,f,a,i),i.delete(u));ef(e,n,l)}(e,t,i,n,Vf,f,o);else{var s=f?f(_o(e,i),a,i+"",e,t,o):r;s===r&&(s=a),ef(e,i,s)}}),Ri)}function $f(e,t){var n=e.length;if(n)return To(t+=t<0?n:0,n)?e[t]:r}function Wf(e,t,n){t=t.length?Mt(t,(function(e){return Wa(e)?function(t){return wf(t,1===e.length?e[0]:e)}:e})):[rs];var f=-1;t=Mt(t,Zt(uo()));var r=Gf(e,(function(e,n,r){var o=Mt(t,(function(t){return t(e)}));return{criteria:o,index:++f,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){var f=-1,r=e.criteria,o=t.criteria,a=r.length,i=n.length;for(;++f<a;){var s=Sr(r[f],o[f]);if(s)return f>=i?s:s*("desc"==n[f]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hf(e,t,n){for(var f=-1,r=t.length,o={};++f<r;){var a=t[f],i=wf(e,a);n(i,a)&&er(o,Tr(a,e),i)}return o}function Kf(e,t,n,f){var r=f?$t:Vt,o=-1,a=t.length,i=e;for(e===t&&(t=_r(t)),n&&(i=Mt(e,Zt(n)));++o<a;)for(var s=0,u=t[o],c=n?n(u):u;(s=r(i,c,s,f))>-1;)i!==e&&Qe.call(i,s,1),Qe.call(e,s,1);return e}function Yf(e,t){for(var n=e?t.length:0,f=n-1;n--;){var r=t[n];if(n==f||r!==o){var o=r;To(r)?Qe.call(e,r,1):dr(e,r)}}return e}function Qf(e,t){return e+ht(In()*(t-e+1))}function zf(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=ht(t/2))&&(e+=e)}while(t);return n}function Xf(e,t){return Ro(xo(e,t,rs),e+"")}function Jf(e){return Xn(qi(e))}function Zf(e,t){var n=qi(e);return Fo(n,sf(t,0,n.length))}function er(e,t,n,f){if(!ti(e))return e;for(var o=-1,a=(t=Tr(t,e)).length,i=a-1,s=e;null!=s&&++o<a;){var u=Uo(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=i){var l=s[u];(c=f?f(l,u,s):r)===r&&(c=ti(l)?l:To(t[o+1])?[]:{})}tf(s,u,c),s=s[u]}return e}var tr=_n?function(e,t){return _n.set(e,t),e}:rs,nr=Ze?function(e,t){return Ze(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:rs;function fr(e){return Fo(qi(e))}function rr(e,t,f){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(f=f>o?o:f)<0&&(f+=o),o=t>f?0:f-t>>>0,t>>>=0;for(var a=n(o);++r<o;)a[r]=e[r+t];return a}function or(e,t){var n;return pf(e,(function(e,f,r){return!(n=t(e,f,r))})),!!n}function ar(e,t,n){var f=0,r=null==e?f:e.length;if("number"==typeof t&&t===t&&r<=2147483647){for(;f<r;){var o=f+r>>>1,a=e[o];null!==a&&!ui(a)&&(n?a<=t:a<t)?f=o+1:r=o}return r}return ir(e,t,rs,n)}function ir(e,t,n,f){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var i=(t=n(t))!==t,s=null===t,u=ui(t),c=t===r;o<a;){var l=ht((o+a)/2),d=n(e[l]),p=d!==r,h=null===d,m=d===d,b=ui(d);if(i)var y=f||m;else y=c?m&&(f||p):s?m&&p&&(f||!h):u?m&&p&&!h&&(f||!b):!h&&!b&&(f?d<=t:d<t);y?o=l+1:a=l}return vn(a,4294967294)}function sr(e,t){for(var n=-1,f=e.length,r=0,o=[];++n<f;){var a=e[n],i=t?t(a):a;if(!n||!qa(i,s)){var s=i;o[r++]=0===a?0:a}}return o}function ur(e){return"number"==typeof e?e:ui(e)?m:+e}function cr(e){if("string"==typeof e)return e;if(Wa(e))return Mt(e,cr)+"";if(ui(e))return Ln?Ln.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function lr(e,t,n){var f=-1,r=Rt,o=e.length,a=!0,i=[],s=i;if(n)a=!1,r=Bt;else if(o>=200){var u=t?null:zr(e);if(u)return dn(u);a=!1,r=tn,s=new Yn}else s=t?[]:i;e:for(;++f<o;){var c=e[f],l=t?t(c):c;if(c=n||0!==c?c:0,a&&l===l){for(var d=s.length;d--;)if(s[d]===l)continue e;t&&s.push(l),i.push(c)}else r(s,l,n)||(s!==i&&s.push(l),i.push(c))}return i}function dr(e,t){return null==(e=Oo(e,t=Tr(t,e)))||delete e[Uo(Xo(t))]}function pr(e,t,n,f){return er(e,t,n(wf(e,t)),f)}function hr(e,t,n,f){for(var r=e.length,o=f?r:-1;(f?o--:++o<r)&&t(e[o],o,e););return n?rr(e,f?0:o,f?o+1:r):rr(e,f?o+1:0,f?r:o)}function mr(e,t){var n=e;return n instanceof $n&&(n=n.value()),Nt(t,(function(e,t){return t.func.apply(t.thisArg,Ft([e],t.args))}),n)}function br(e,t,f){var r=e.length;if(r<2)return r?lr(e[0]):[];for(var o=-1,a=n(r);++o<r;)for(var i=e[o],s=-1;++s<r;)s!=o&&(a[o]=df(a[o]||i,e[s],t,f));return lr(gf(a,1),t,f)}function yr(e,t,n){for(var f=-1,o=e.length,a=t.length,i={};++f<o;){var s=f<a?t[f]:r;n(i,e[f],s)}return i}function gr(e){return Ya(e)?e:[]}function vr(e){return"function"==typeof e?e:rs}function Tr(e,t){return Wa(e)?e:Io(e,t)?[e]:No(vi(e))}var Ar=Xf;function Ir(e,t,n){var f=e.length;return n=n===r?f:n,!t&&n>=f?e:rr(e,t,n)}var Er=nt||function(e){return mt.clearTimeout(e)};function wr(e,t){if(t)return e.slice();var n=e.length,f=We?We(n):new e.constructor(n);return e.copy(f),f}function Cr(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function kr(e,t){var n=t?Cr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Sr(e,t){if(e!==t){var n=e!==r,f=null===e,o=e===e,a=ui(e),i=t!==r,s=null===t,u=t===t,c=ui(t);if(!s&&!c&&!a&&e>t||a&&i&&u&&!s&&!c||f&&i&&u||!n&&u||!o)return 1;if(!f&&!a&&!c&&e<t||c&&n&&o&&!f&&!a||s&&n&&o||!i&&o||!u)return-1}return 0}function xr(e,t,f,r){for(var o=-1,a=e.length,i=f.length,s=-1,u=t.length,c=Yt(a-i,0),l=n(u+c),d=!r;++s<u;)l[s]=t[s];for(;++o<i;)(d||o<a)&&(l[f[o]]=e[o]);for(;c--;)l[s++]=e[o++];return l}function Or(e,t,f,r){for(var o=-1,a=e.length,i=-1,s=f.length,u=-1,c=t.length,l=Yt(a-s,0),d=n(l+c),p=!r;++o<l;)d[o]=e[o];for(var h=o;++u<c;)d[h+u]=t[u];for(;++i<s;)(p||o<a)&&(d[h+f[i]]=e[o++]);return d}function _r(e,t){var f=-1,r=e.length;for(t||(t=n(r));++f<r;)t[f]=e[f];return t}function Pr(e,t,n,f){var o=!n;n||(n={});for(var a=-1,i=t.length;++a<i;){var s=t[a],u=f?f(n[s],e[s],s,n,e):r;u===r&&(u=e[s]),o?of(n,s,u):tf(n,s,u)}return n}function Dr(e,t){return function(n,f){var r=Wa(n)?xt:ff,o=t?t():{};return r(n,e,uo(f,2),o)}}function Rr(e){return Xf((function(t,n){var f=-1,o=n.length,a=o>1?n[o-1]:r,i=o>2?n[2]:r;for(a=e.length>3&&"function"==typeof a?(o--,a):r,i&&Ao(n[0],n[1],i)&&(a=o<3?r:a,o=1),t=ke(t);++f<o;){var s=n[f];s&&e(t,s,f,a)}return t}))}function Br(e,t){return function(n,f){if(null==n)return n;if(!Ka(n))return e(n,f);for(var r=n.length,o=t?r:-1,a=ke(n);(t?o--:++o<r)&&!1!==f(a[o],o,a););return n}}function Mr(e){return function(t,n,f){for(var r=-1,o=ke(t),a=f(t),i=a.length;i--;){var s=a[e?i:++r];if(!1===n(o[s],s,o))break}return t}}function Fr(e){return function(t){var n=sn(t=vi(t))?mn(t):r,f=n?n[0]:t.charAt(0),o=n?Ir(n,1).join(""):t.slice(1);return f[e]()+o}}function Nr(e){return function(t){return Nt(Ji($i(t).replace(et,"")),e,"")}}function Ur(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qn(e.prototype),f=e.apply(n,t);return ti(f)?f:n}}function Lr(e){return function(t,n,f){var o=ke(t);if(!Ka(t)){var a=uo(n,3);t=Di(t),n=function(e){return a(o[e],e,o)}}var i=e(t,n,f);return i>-1?o[a?t[i]:i]:r}}function Gr(e){return fo((function(t){var n=t.length,f=n,a=Vn.prototype.thru;for(e&&t.reverse();f--;){var i=t[f];if("function"!=typeof i)throw new Oe(o);if(a&&!s&&"wrapper"==io(i))var s=new Vn([],!0)}for(f=s?f:n;++f<n;){var u=io(i=t[f]),c="wrapper"==u?ao(i):r;s=c&&Eo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[io(c[0])].apply(s,c[3]):1==i.length&&Eo(i)?s[u]():s.thru(i)}return function(){var e=arguments,f=e[0];if(s&&1==e.length&&Wa(f))return s.plant(f).value();for(var r=0,o=n?t[r].apply(this,e):f;++r<n;)o=t[r].call(this,o);return o}}))}function qr(e,t,f,o,a,i,s,u,c,d){var p=t&l,h=1&t,m=2&t,b=24&t,y=512&t,g=m?r:Ur(e);return function l(){for(var v=arguments.length,T=n(v),A=v;A--;)T[A]=arguments[A];if(b)var I=so(l),E=function(e,t){for(var n=e.length,f=0;n--;)e[n]===t&&++f;return f}(T,I);if(o&&(T=xr(T,o,a,b)),i&&(T=Or(T,i,s,b)),v-=E,b&&v<d){var w=ln(T,I);return Yr(e,t,qr,l.placeholder,f,T,w,u,c,d-v)}var C=h?f:this,k=m?C[e]:e;return v=T.length,u?T=function(e,t){var n=e.length,f=vn(t.length,n),o=_r(e);for(;f--;){var a=t[f];e[f]=To(a,n)?o[a]:r}return e}(T,u):y&&v>1&&T.reverse(),p&&c<v&&(T.length=c),this&&this!==mt&&this instanceof l&&(k=g||Ur(k)),k.apply(C,T)}}function jr(e,t){return function(n,f){return function(e,t,n,f){return Af(e,(function(e,r,o){t(f,n(e),r,o)})),f}(n,e,t(f),{})}}function Vr(e,t){return function(n,f){var o;if(n===r&&f===r)return t;if(n!==r&&(o=n),f!==r){if(o===r)return f;"string"==typeof n||"string"==typeof f?(n=cr(n),f=cr(f)):(n=ur(n),f=ur(f)),o=e(n,f)}return o}}function $r(e){return fo((function(t){return t=Mt(t,Zt(uo())),Xf((function(n){var f=this;return e(t,(function(e){return St(e,f,n)}))}))}))}function Wr(e,t){var n=(t=t===r?" ":cr(t)).length;if(n<2)return n?zf(t,e):t;var f=zf(t,pt(e/hn(t)));return sn(t)?Ir(mn(f),0,e).join(""):f.slice(0,e)}function Hr(e){return function(t,f,o){return o&&"number"!=typeof o&&Ao(t,f,o)&&(f=o=r),t=hi(t),f===r?(f=t,t=0):f=hi(f),function(e,t,f,r){for(var o=-1,a=Yt(pt((t-e)/(f||1)),0),i=n(a);a--;)i[r?a:++o]=e,e+=f;return i}(t,f,o=o===r?t<f?1:-1:hi(o),e)}}function Kr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=yi(t),n=yi(n)),e(t,n)}}function Yr(e,t,n,f,o,a,i,s,l,d){var p=8&t;t|=p?u:c,4&(t&=~(p?c:u))||(t&=-4);var h=[e,t,o,p?a:r,p?i:r,p?r:a,p?r:i,s,l,d],m=n.apply(r,h);return Eo(e)&&Po(m,h),m.placeholder=f,Bo(m,e,t)}function Qr(e){var t=Ce[e];return function(e,n){if(e=yi(e),(n=null==n?0:vn(mi(n),292))&&vt(e)){var f=(vi(e)+"e").split("e");return+((f=(vi(t(f[0]+"e"+(+f[1]+n)))+"e").split("e"))[0]+"e"+(+f[1]-n))}return t(e)}}var zr=Sn&&1/dn(new Sn([,-0]))[1]==p?function(e){return new Sn(e)}:us;function Xr(e){return function(t){var n=bo(t);return n==C?un(t):n==_?pn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Jr(e,t,f,a,p,h,m,b){var y=2&t;if(!y&&"function"!=typeof e)throw new Oe(o);var g=a?a.length:0;if(g||(t&=-97,a=p=r),m=m===r?m:Yt(mi(m),0),b=b===r?b:mi(b),g-=p?p.length:0,t&c){var v=a,T=p;a=p=r}var A=y?r:ao(e),I=[e,t,f,a,p,v,T,h,m,b];if(A&&function(e,t){var n=e[1],f=t[1],r=n|f,o=r<131,a=f==l&&8==n||f==l&&n==d&&e[7].length<=t[8]||384==f&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&f&&(e[2]=t[2],r|=1&n?0:4);var s=t[3];if(s){var u=e[3];e[3]=u?xr(u,s,t[4]):s,e[4]=u?ln(e[3],i):t[4]}(s=t[5])&&(u=e[5],e[5]=u?Or(u,s,t[6]):s,e[6]=u?ln(e[5],i):t[6]);(s=t[7])&&(e[7]=s);f&l&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(I,A),e=I[0],t=I[1],f=I[2],a=I[3],p=I[4],!(b=I[9]=I[9]===r?y?0:e.length:Yt(I[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==s?function(e,t,f){var o=Ur(e);return function a(){for(var i=arguments.length,s=n(i),u=i,c=so(a);u--;)s[u]=arguments[u];var l=i<3&&s[0]!==c&&s[i-1]!==c?[]:ln(s,c);return(i-=l.length)<f?Yr(e,t,qr,a.placeholder,r,s,l,r,r,f-i):St(this&&this!==mt&&this instanceof a?o:e,this,s)}}(e,t,b):t!=u&&33!=t||p.length?qr.apply(r,I):function(e,t,f,r){var o=1&t,a=Ur(e);return function t(){for(var i=-1,s=arguments.length,u=-1,c=r.length,l=n(c+s),d=this&&this!==mt&&this instanceof t?a:e;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++i];return St(d,o?f:this,l)}}(e,t,f,a);else var E=function(e,t,n){var f=1&t,r=Ur(e);return function t(){return(this&&this!==mt&&this instanceof t?r:e).apply(f?n:this,arguments)}}(e,t,f);return Bo((A?tr:Po)(E,I),e,t)}function Zr(e,t,n,f){return e===r||qa(e,De[n])&&!Me.call(f,n)?t:e}function eo(e,t,n,f,o,a){return ti(e)&&ti(t)&&(a.set(t,e),Vf(e,t,r,eo,a),a.delete(t)),e}function to(e){return oi(e)?r:e}function no(e,t,n,f,o,a){var i=1&n,s=e.length,u=t.length;if(s!=u&&!(i&&u>s))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var d=-1,p=!0,h=2&n?new Yn:r;for(a.set(e,t),a.set(t,e);++d<s;){var m=e[d],b=t[d];if(f)var y=i?f(b,m,d,t,e,a):f(m,b,d,e,t,a);if(y!==r){if(y)continue;p=!1;break}if(h){if(!Lt(t,(function(e,t){if(!tn(h,t)&&(m===e||o(m,e,n,f,a)))return h.push(t)}))){p=!1;break}}else if(m!==b&&!o(m,b,n,f,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function fo(e){return Ro(xo(e,r,Ho),e+"")}function ro(e){return Cf(e,Di,ho)}function oo(e){return Cf(e,Ri,mo)}var ao=_n?function(e){return _n.get(e)}:us;function io(e){for(var t=e.name+"",n=Pn[t],f=Me.call(Pn,t)?n.length:0;f--;){var r=n[f],o=r.func;if(null==o||o==e)return r.name}return t}function so(e){return(Me.call(Gn,"placeholder")?Gn:e).placeholder}function uo(){var e=Gn.iteratee||os;return e=e===os?Ff:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function lo(e){for(var t=Di(e),n=t.length;n--;){var f=t[n],r=e[f];t[n]=[f,r,ko(r)]}return t}function po(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Mf(n)?n:r}var ho=bt?function(e){return null==e?[]:(e=ke(e),Dt(bt(e),(function(t){return Ye.call(e,t)})))}:bs,mo=bt?function(e){for(var t=[];e;)Ft(t,ho(e)),e=He(e);return t}:bs,bo=kf;function yo(e,t,n){for(var f=-1,r=(t=Tr(t,e)).length,o=!1;++f<r;){var a=Uo(t[f]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++f!=r?o:!!(r=null==e?0:e.length)&&ei(r)&&To(a,r)&&(Wa(e)||$a(e))}function go(e){return"function"!=typeof e.constructor||Co(e)?{}:qn(He(e))}function vo(e){return Wa(e)||$a(e)||!!(ze&&e&&e[ze])}function To(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&Te.test(e))&&e>-1&&e%1==0&&e<t}function Ao(e,t,n){if(!ti(n))return!1;var f=typeof t;return!!("number"==f?Ka(n)&&To(t,n.length):"string"==f&&t in n)&&qa(n[t],e)}function Io(e,t){if(Wa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ui(e))||(ne.test(e)||!te.test(e)||null!=t&&e in ke(t))}function Eo(e){var t=io(e),n=Gn[t];if("function"!=typeof n||!(t in $n.prototype))return!1;if(e===n)return!0;var f=ao(n);return!!f&&e===f[0]}(wn&&bo(new wn(new ArrayBuffer(1)))!=M||Cn&&bo(new Cn)!=C||kn&&bo(kn.resolve())!=x||Sn&&bo(new Sn)!=_||xn&&bo(new xn)!=R)&&(bo=function(e){var t=kf(e),n=t==S?e.constructor:r,f=n?Lo(n):"";if(f)switch(f){case Dn:return M;case Rn:return C;case Bn:return x;case Mn:return _;case Fn:return R}return t});var wo=Re?Ja:ys;function Co(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function ko(e){return e===e&&!ti(e)}function So(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in ke(n)))}}function xo(e,t,f){return t=Yt(t===r?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=Yt(r.length-t,0),i=n(a);++o<a;)i[o]=r[t+o];o=-1;for(var s=n(t+1);++o<t;)s[o]=r[o];return s[t]=f(i),St(e,this,s)}}function Oo(e,t){return t.length<2?e:wf(e,rr(t,0,-1))}function _o(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Po=Mo(tr),Do=ct||function(e,t){return mt.setTimeout(e,t)},Ro=Mo(nr);function Bo(e,t,n){var f=t+"";return Ro(e,function(e,t){var n=t.length;if(!n)return e;var f=n-1;return t[f]=(n>1?"& ":"")+t[f],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(f,function(e,t){return Ot(y,(function(n){var f="_."+n[0];t&n[1]&&!Rt(e,f)&&e.push(f)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(f),n)))}function Mo(e){var t=0,n=0;return function(){var f=Tn(),o=16-(f-n);if(n=f,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Fo(e,t){var n=-1,f=e.length,o=f-1;for(t=t===r?f:t;++n<t;){var a=Qf(n,o),i=e[a];e[a]=e[n],e[n]=i}return e.length=t,e}var No=function(e){var t=Ma(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(fe,(function(e,n,f,r){t.push(f?r.replace(pe,"$1"):n||e)})),t}));function Uo(e){if("string"==typeof e||ui(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Lo(e){if(null!=e){try{return Be.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Go(e){if(e instanceof $n)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=_r(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var qo=Xf((function(e,t){return Ya(e)?df(e,gf(t,1,Ya,!0)):[]})),jo=Xf((function(e,t){var n=Xo(t);return Ya(n)&&(n=r),Ya(e)?df(e,gf(t,1,Ya,!0),uo(n,2)):[]})),Vo=Xf((function(e,t){var n=Xo(t);return Ya(n)&&(n=r),Ya(e)?df(e,gf(t,1,Ya,!0),r,n):[]}));function $o(e,t,n){var f=null==e?0:e.length;if(!f)return-1;var r=null==n?0:mi(n);return r<0&&(r=Yt(f+r,0)),jt(e,uo(t,3),r)}function Wo(e,t,n){var f=null==e?0:e.length;if(!f)return-1;var o=f-1;return n!==r&&(o=mi(n),o=n<0?Yt(f+o,0):vn(o,f-1)),jt(e,uo(t,3),o,!0)}function Ho(e){return(null==e?0:e.length)?gf(e,1):[]}function Ko(e){return e&&e.length?e[0]:r}var Yo=Xf((function(e){var t=Mt(e,gr);return t.length&&t[0]===e[0]?_f(t):[]})),Qo=Xf((function(e){var t=Xo(e),n=Mt(e,gr);return t===Xo(n)?t=r:n.pop(),n.length&&n[0]===e[0]?_f(n,uo(t,2)):[]})),zo=Xf((function(e){var t=Xo(e),n=Mt(e,gr);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?_f(n,r,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Jo=Xf(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?Kf(e,t):e}var ea=fo((function(e,t){var n=null==e?0:e.length,f=af(e,t);return Yf(e,Mt(t,(function(e){return To(e,n)?+e:e})).sort(Sr)),f}));function ta(e){return null==e?e:En.call(e)}var na=Xf((function(e){return lr(gf(e,1,Ya,!0))})),fa=Xf((function(e){var t=Xo(e);return Ya(t)&&(t=r),lr(gf(e,1,Ya,!0),uo(t,2))})),ra=Xf((function(e){var t=Xo(e);return t="function"==typeof t?t:r,lr(gf(e,1,Ya,!0),r,t)}));function oa(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Ya(e))return t=Yt(e.length,t),!0})),Xt(t,(function(t){return Mt(e,Kt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=oa(e);return null==t?n:Mt(n,(function(e){return St(t,r,e)}))}var ia=Xf((function(e,t){return Ya(e)?df(e,t):[]})),sa=Xf((function(e){return br(Dt(e,Ya))})),ua=Xf((function(e){var t=Xo(e);return Ya(t)&&(t=r),br(Dt(e,Ya),uo(t,2))})),ca=Xf((function(e){var t=Xo(e);return t="function"==typeof t?t:r,br(Dt(e,Ya),r,t)})),la=Xf(oa);var da=Xf((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,aa(e,n)}));function pa(e){var t=Gn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var ma=fo((function(e){var t=e.length,n=t?e[0]:0,f=this.__wrapped__,o=function(t){return af(t,e)};return!(t>1||this.__actions__.length)&&f instanceof $n&&To(n)?((f=f.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[o],thisArg:r}),new Vn(f,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(o)}));var ba=Dr((function(e,t,n){Me.call(e,n)?++e[n]:of(e,n,1)}));var ya=Lr($o),ga=Lr(Wo);function va(e,t){return(Wa(e)?Ot:pf)(e,uo(t,3))}function Ta(e,t){return(Wa(e)?_t:hf)(e,uo(t,3))}var Aa=Dr((function(e,t,n){Me.call(e,n)?e[n].push(t):of(e,n,[t])}));var Ia=Xf((function(e,t,f){var r=-1,o="function"==typeof t,a=Ka(e)?n(e.length):[];return pf(e,(function(e){a[++r]=o?St(t,e,f):Pf(e,t,f)})),a})),Ea=Dr((function(e,t,n){of(e,n,t)}));function wa(e,t){return(Wa(e)?Mt:Gf)(e,uo(t,3))}var Ca=Dr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ka=Xf((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ao(e,t[0],t[1])?t=[]:n>2&&Ao(t[0],t[1],t[2])&&(t=[t[0]]),Wf(e,gf(t,1),[])})),Sa=rt||function(){return mt.Date.now()};function xa(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Jr(e,l,r,r,r,r,t)}function Oa(e,t){var n;if("function"!=typeof t)throw new Oe(o);return e=mi(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var _a=Xf((function(e,t,n){var f=1;if(n.length){var r=ln(n,so(_a));f|=u}return Jr(e,f,t,n,r)})),Pa=Xf((function(e,t,n){var f=3;if(n.length){var r=ln(n,so(Pa));f|=u}return Jr(t,f,e,n,r)}));function Da(e,t,n){var f,a,i,s,u,c,l=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new Oe(o);function m(t){var n=f,o=a;return f=a=r,l=t,s=e.apply(o,n)}function b(e){var n=e-c;return c===r||n>=t||n<0||p&&e-l>=i}function y(){var e=Sa();if(b(e))return g(e);u=Do(y,function(e){var n=t-(e-c);return p?vn(n,i-(e-l)):n}(e))}function g(e){return u=r,h&&f?m(e):(f=a=r,s)}function v(){var e=Sa(),n=b(e);if(f=arguments,a=this,c=e,n){if(u===r)return function(e){return l=e,u=Do(y,t),d?m(e):s}(c);if(p)return Er(u),u=Do(y,t),m(c)}return u===r&&(u=Do(y,t)),s}return t=yi(t)||0,ti(n)&&(d=!!n.leading,i=(p="maxWait"in n)?Yt(yi(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),v.cancel=function(){u!==r&&Er(u),l=0,f=c=a=u=r},v.flush=function(){return u===r?s:g(Sa())},v}var Ra=Xf((function(e,t){return lf(e,1,t)})),Ba=Xf((function(e,t,n){return lf(e,yi(t)||0,n)}));function Ma(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(o);var n=function(){var f=arguments,r=t?t.apply(this,f):f[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,f);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ma.Cache||Kn),n}function Fa(e){if("function"!=typeof e)throw new Oe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ma.Cache=Kn;var Na=Ar((function(e,t){var n=(t=1==t.length&&Wa(t[0])?Mt(t[0],Zt(uo())):Mt(gf(t,1),Zt(uo()))).length;return Xf((function(f){for(var r=-1,o=vn(f.length,n);++r<o;)f[r]=t[r].call(this,f[r]);return St(e,this,f)}))})),Ua=Xf((function(e,t){var n=ln(t,so(Ua));return Jr(e,u,r,t,n)})),La=Xf((function(e,t){var n=ln(t,so(La));return Jr(e,c,r,t,n)})),Ga=fo((function(e,t){return Jr(e,d,r,r,r,t)}));function qa(e,t){return e===t||e!==e&&t!==t}var ja=Kr(Sf),Va=Kr((function(e,t){return e>=t})),$a=Df(function(){return arguments}())?Df:function(e){return ni(e)&&Me.call(e,"callee")&&!Ye.call(e,"callee")},Wa=n.isArray,Ha=At?Zt(At):function(e){return ni(e)&&kf(e)==B};function Ka(e){return null!=e&&ei(e.length)&&!Ja(e)}function Ya(e){return ni(e)&&Ka(e)}var Qa=yt||ys,za=It?Zt(It):function(e){return ni(e)&&kf(e)==A};function Xa(e){if(!ni(e))return!1;var t=kf(e);return t==I||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oi(e)}function Ja(e){if(!ti(e))return!1;var t=kf(e);return t==E||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Za(e){return"number"==typeof e&&e==mi(e)}function ei(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ti(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ni(e){return null!=e&&"object"==typeof e}var fi=Et?Zt(Et):function(e){return ni(e)&&bo(e)==C};function ri(e){return"number"==typeof e||ni(e)&&kf(e)==k}function oi(e){if(!ni(e)||kf(e)!=S)return!1;var t=He(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Be.call(n)==Le}var ai=wt?Zt(wt):function(e){return ni(e)&&kf(e)==O};var ii=Ct?Zt(Ct):function(e){return ni(e)&&bo(e)==_};function si(e){return"string"==typeof e||!Wa(e)&&ni(e)&&kf(e)==P}function ui(e){return"symbol"==typeof e||ni(e)&&kf(e)==D}var ci=kt?Zt(kt):function(e){return ni(e)&&ei(e.length)&&!!st[kf(e)]};var li=Kr(Lf),di=Kr((function(e,t){return e<=t}));function pi(e){if(!e)return[];if(Ka(e))return si(e)?mn(e):_r(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=bo(e);return(t==C?un:t==_?dn:qi)(e)}function hi(e){return e?(e=yi(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function mi(e){var t=hi(e),n=t%1;return t===t?n?t-n:t:0}function bi(e){return e?sf(mi(e),0,b):0}function yi(e){if("number"==typeof e)return e;if(ui(e))return m;if(ti(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ti(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ye.test(e);return n||ve.test(e)?dt(e.slice(2),n?2:8):be.test(e)?m:+e}function gi(e){return Pr(e,Ri(e))}function vi(e){return null==e?"":cr(e)}var Ti=Rr((function(e,t){if(Co(t)||Ka(t))Pr(t,Di(t),e);else for(var n in t)Me.call(t,n)&&tf(e,n,t[n])})),Ai=Rr((function(e,t){Pr(t,Ri(t),e)})),Ii=Rr((function(e,t,n,f){Pr(t,Ri(t),e,f)})),Ei=Rr((function(e,t,n,f){Pr(t,Di(t),e,f)})),wi=fo(af);var Ci=Xf((function(e,t){e=ke(e);var n=-1,f=t.length,o=f>2?t[2]:r;for(o&&Ao(t[0],t[1],o)&&(f=1);++n<f;)for(var a=t[n],i=Ri(a),s=-1,u=i.length;++s<u;){var c=i[s],l=e[c];(l===r||qa(l,De[c])&&!Me.call(e,c))&&(e[c]=a[c])}return e})),ki=Xf((function(e){return e.push(r,eo),St(Mi,r,e)}));function Si(e,t,n){var f=null==e?r:wf(e,t);return f===r?n:f}function xi(e,t){return null!=e&&yo(e,t,Of)}var Oi=jr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),ts(rs)),_i=jr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Pi=Xf(Pf);function Di(e){return Ka(e)?zn(e):Nf(e)}function Ri(e){return Ka(e)?zn(e,!0):Uf(e)}var Bi=Rr((function(e,t,n){Vf(e,t,n)})),Mi=Rr((function(e,t,n,f){Vf(e,t,n,f)})),Fi=fo((function(e,t){var n={};if(null==e)return n;var f=!1;t=Mt(t,(function(t){return t=Tr(t,e),f||(f=t.length>1),t})),Pr(e,oo(e),n),f&&(n=uf(n,7,to));for(var r=t.length;r--;)dr(n,t[r]);return n}));var Ni=fo((function(e,t){return null==e?{}:function(e,t){return Hf(e,t,(function(t,n){return xi(e,n)}))}(e,t)}));function Ui(e,t){if(null==e)return{};var n=Mt(oo(e),(function(e){return[e]}));return t=uo(t),Hf(e,n,(function(e,n){return t(e,n[0])}))}var Li=Xr(Di),Gi=Xr(Ri);function qi(e){return null==e?[]:en(e,Di(e))}var ji=Nr((function(e,t,n){return t=t.toLowerCase(),e+(n?Vi(t):t)}));function Vi(e){return Xi(vi(e).toLowerCase())}function $i(e){return(e=vi(e))&&e.replace(Ae,rn).replace(tt,"")}var Wi=Nr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hi=Nr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ki=Fr("toLowerCase");var Yi=Nr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qi=Nr((function(e,t,n){return e+(n?" ":"")+Xi(t)}));var zi=Nr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xi=Fr("toUpperCase");function Ji(e,t,n){return e=vi(e),(t=n?r:t)===r?function(e){return ot.test(e)}(e)?function(e){return e.match(ft)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Zi=Xf((function(e,t){try{return St(e,r,t)}catch(n){return Xa(n)?n:new ie(n)}})),es=fo((function(e,t){return Ot(t,(function(t){t=Uo(t),of(e,t,_a(e[t],e))})),e}));function ts(e){return function(){return e}}var ns=Gr(),fs=Gr(!0);function rs(e){return e}function os(e){return Ff("function"==typeof e?e:uf(e,1))}var as=Xf((function(e,t){return function(n){return Pf(n,e,t)}})),is=Xf((function(e,t){return function(n){return Pf(e,n,t)}}));function ss(e,t,n){var f=Di(t),r=Ef(t,f);null!=n||ti(t)&&(r.length||!f.length)||(n=t,t=e,e=this,r=Ef(t,Di(t)));var o=!(ti(n)&&"chain"in n)||!!n.chain,a=Ja(e);return Ot(r,(function(n){var f=t[n];e[n]=f,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=_r(this.__actions__)).push({func:f,args:arguments,thisArg:e}),n.__chain__=t,n}return f.apply(e,Ft([this.value()],arguments))})})),e}function us(){}var cs=$r(Mt),ls=$r(Pt),ds=$r(Lt);function ps(e){return Io(e)?Kt(Uo(e)):function(e){return function(t){return wf(t,e)}}(e)}var hs=Hr(),ms=Hr(!0);function bs(){return[]}function ys(){return!1}var gs=Vr((function(e,t){return e+t}),0),vs=Qr("ceil"),Ts=Vr((function(e,t){return e/t}),1),As=Qr("floor");var Is=Vr((function(e,t){return e*t}),1),Es=Qr("round"),ws=Vr((function(e,t){return e-t}),0);return Gn.after=function(e,t){if("function"!=typeof t)throw new Oe(o);return e=mi(e),function(){if(--e<1)return t.apply(this,arguments)}},Gn.ary=xa,Gn.assign=Ti,Gn.assignIn=Ai,Gn.assignInWith=Ii,Gn.assignWith=Ei,Gn.at=wi,Gn.before=Oa,Gn.bind=_a,Gn.bindAll=es,Gn.bindKey=Pa,Gn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},Gn.chain=pa,Gn.chunk=function(e,t,f){t=(f?Ao(e,t,f):t===r)?1:Yt(mi(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,i=0,s=n(pt(o/t));a<o;)s[i++]=rr(e,a,a+=t);return s},Gn.compact=function(e){for(var t=-1,n=null==e?0:e.length,f=0,r=[];++t<n;){var o=e[t];o&&(r[f++]=o)}return r},Gn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),f=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ft(Wa(f)?_r(f):[f],gf(t,1))},Gn.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Oe(o);return[n(e[0]),e[1]]})):[],Xf((function(n){for(var f=-1;++f<t;){var r=e[f];if(St(r[0],this,n))return St(r[1],this,n)}}))},Gn.conforms=function(e){return function(e){var t=Di(e);return function(n){return cf(n,e,t)}}(uf(e,1))},Gn.constant=ts,Gn.countBy=ba,Gn.create=function(e,t){var n=qn(e);return null==t?n:rf(n,t)},Gn.curry=function e(t,n,f){var o=Jr(t,8,r,r,r,r,r,n=f?r:n);return o.placeholder=e.placeholder,o},Gn.curryRight=function e(t,n,f){var o=Jr(t,s,r,r,r,r,r,n=f?r:n);return o.placeholder=e.placeholder,o},Gn.debounce=Da,Gn.defaults=Ci,Gn.defaultsDeep=ki,Gn.defer=Ra,Gn.delay=Ba,Gn.difference=qo,Gn.differenceBy=jo,Gn.differenceWith=Vo,Gn.drop=function(e,t,n){var f=null==e?0:e.length;return f?rr(e,(t=n||t===r?1:mi(t))<0?0:t,f):[]},Gn.dropRight=function(e,t,n){var f=null==e?0:e.length;return f?rr(e,0,(t=f-(t=n||t===r?1:mi(t)))<0?0:t):[]},Gn.dropRightWhile=function(e,t){return e&&e.length?hr(e,uo(t,3),!0,!0):[]},Gn.dropWhile=function(e,t){return e&&e.length?hr(e,uo(t,3),!0):[]},Gn.fill=function(e,t,n,f){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Ao(e,t,n)&&(n=0,f=o),function(e,t,n,f){var o=e.length;for((n=mi(n))<0&&(n=-n>o?0:o+n),(f=f===r||f>o?o:mi(f))<0&&(f+=o),f=n>f?0:bi(f);n<f;)e[n++]=t;return e}(e,t,n,f)):[]},Gn.filter=function(e,t){return(Wa(e)?Dt:yf)(e,uo(t,3))},Gn.flatMap=function(e,t){return gf(wa(e,t),1)},Gn.flatMapDeep=function(e,t){return gf(wa(e,t),p)},Gn.flatMapDepth=function(e,t,n){return n=n===r?1:mi(n),gf(wa(e,t),n)},Gn.flatten=Ho,Gn.flattenDeep=function(e){return(null==e?0:e.length)?gf(e,p):[]},Gn.flattenDepth=function(e,t){return(null==e?0:e.length)?gf(e,t=t===r?1:mi(t)):[]},Gn.flip=function(e){return Jr(e,512)},Gn.flow=ns,Gn.flowRight=fs,Gn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,f={};++t<n;){var r=e[t];f[r[0]]=r[1]}return f},Gn.functions=function(e){return null==e?[]:Ef(e,Di(e))},Gn.functionsIn=function(e){return null==e?[]:Ef(e,Ri(e))},Gn.groupBy=Aa,Gn.initial=function(e){return(null==e?0:e.length)?rr(e,0,-1):[]},Gn.intersection=Yo,Gn.intersectionBy=Qo,Gn.intersectionWith=zo,Gn.invert=Oi,Gn.invertBy=_i,Gn.invokeMap=Ia,Gn.iteratee=os,Gn.keyBy=Ea,Gn.keys=Di,Gn.keysIn=Ri,Gn.map=wa,Gn.mapKeys=function(e,t){var n={};return t=uo(t,3),Af(e,(function(e,f,r){of(n,t(e,f,r),e)})),n},Gn.mapValues=function(e,t){var n={};return t=uo(t,3),Af(e,(function(e,f,r){of(n,f,t(e,f,r))})),n},Gn.matches=function(e){return qf(uf(e,1))},Gn.matchesProperty=function(e,t){return jf(e,uf(t,1))},Gn.memoize=Ma,Gn.merge=Bi,Gn.mergeWith=Mi,Gn.method=as,Gn.methodOf=is,Gn.mixin=ss,Gn.negate=Fa,Gn.nthArg=function(e){return e=mi(e),Xf((function(t){return $f(t,e)}))},Gn.omit=Fi,Gn.omitBy=function(e,t){return Ui(e,Fa(uo(t)))},Gn.once=function(e){return Oa(2,e)},Gn.orderBy=function(e,t,n,f){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(n=f?r:n)||(n=null==n?[]:[n]),Wf(e,t,n))},Gn.over=cs,Gn.overArgs=Na,Gn.overEvery=ls,Gn.overSome=ds,Gn.partial=Ua,Gn.partialRight=La,Gn.partition=Ca,Gn.pick=Ni,Gn.pickBy=Ui,Gn.property=ps,Gn.propertyOf=function(e){return function(t){return null==e?r:wf(e,t)}},Gn.pull=Jo,Gn.pullAll=Zo,Gn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Kf(e,t,uo(n,2)):e},Gn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Kf(e,t,r,n):e},Gn.pullAt=ea,Gn.range=hs,Gn.rangeRight=ms,Gn.rearg=Ga,Gn.reject=function(e,t){return(Wa(e)?Dt:yf)(e,Fa(uo(t,3)))},Gn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var f=-1,r=[],o=e.length;for(t=uo(t,3);++f<o;){var a=e[f];t(a,f,e)&&(n.push(a),r.push(f))}return Yf(e,r),n},Gn.rest=function(e,t){if("function"!=typeof e)throw new Oe(o);return Xf(e,t=t===r?t:mi(t))},Gn.reverse=ta,Gn.sampleSize=function(e,t,n){return t=(n?Ao(e,t,n):t===r)?1:mi(t),(Wa(e)?Jn:Zf)(e,t)},Gn.set=function(e,t,n){return null==e?e:er(e,t,n)},Gn.setWith=function(e,t,n,f){return f="function"==typeof f?f:r,null==e?e:er(e,t,n,f)},Gn.shuffle=function(e){return(Wa(e)?Zn:fr)(e)},Gn.slice=function(e,t,n){var f=null==e?0:e.length;return f?(n&&"number"!=typeof n&&Ao(e,t,n)?(t=0,n=f):(t=null==t?0:mi(t),n=n===r?f:mi(n)),rr(e,t,n)):[]},Gn.sortBy=ka,Gn.sortedUniq=function(e){return e&&e.length?sr(e):[]},Gn.sortedUniqBy=function(e,t){return e&&e.length?sr(e,uo(t,2)):[]},Gn.split=function(e,t,n){return n&&"number"!=typeof n&&Ao(e,t,n)&&(t=n=r),(n=n===r?b:n>>>0)?(e=vi(e))&&("string"==typeof t||null!=t&&!ai(t))&&!(t=cr(t))&&sn(e)?Ir(mn(e),0,n):e.split(t,n):[]},Gn.spread=function(e,t){if("function"!=typeof e)throw new Oe(o);return t=null==t?0:Yt(mi(t),0),Xf((function(n){var f=n[t],r=Ir(n,0,t);return f&&Ft(r,f),St(e,this,r)}))},Gn.tail=function(e){var t=null==e?0:e.length;return t?rr(e,1,t):[]},Gn.take=function(e,t,n){return e&&e.length?rr(e,0,(t=n||t===r?1:mi(t))<0?0:t):[]},Gn.takeRight=function(e,t,n){var f=null==e?0:e.length;return f?rr(e,(t=f-(t=n||t===r?1:mi(t)))<0?0:t,f):[]},Gn.takeRightWhile=function(e,t){return e&&e.length?hr(e,uo(t,3),!1,!0):[]},Gn.takeWhile=function(e,t){return e&&e.length?hr(e,uo(t,3)):[]},Gn.tap=function(e,t){return t(e),e},Gn.throttle=function(e,t,n){var f=!0,r=!0;if("function"!=typeof e)throw new Oe(o);return ti(n)&&(f="leading"in n?!!n.leading:f,r="trailing"in n?!!n.trailing:r),Da(e,t,{leading:f,maxWait:t,trailing:r})},Gn.thru=ha,Gn.toArray=pi,Gn.toPairs=Li,Gn.toPairsIn=Gi,Gn.toPath=function(e){return Wa(e)?Mt(e,Uo):ui(e)?[e]:_r(No(vi(e)))},Gn.toPlainObject=gi,Gn.transform=function(e,t,n){var f=Wa(e),r=f||Qa(e)||ci(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=r?f?new o:[]:ti(e)&&Ja(o)?qn(He(e)):{}}return(r?Ot:Af)(e,(function(e,f,r){return t(n,e,f,r)})),n},Gn.unary=function(e){return xa(e,1)},Gn.union=na,Gn.unionBy=fa,Gn.unionWith=ra,Gn.uniq=function(e){return e&&e.length?lr(e):[]},Gn.uniqBy=function(e,t){return e&&e.length?lr(e,uo(t,2)):[]},Gn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?lr(e,r,t):[]},Gn.unset=function(e,t){return null==e||dr(e,t)},Gn.unzip=oa,Gn.unzipWith=aa,Gn.update=function(e,t,n){return null==e?e:pr(e,t,vr(n))},Gn.updateWith=function(e,t,n,f){return f="function"==typeof f?f:r,null==e?e:pr(e,t,vr(n),f)},Gn.values=qi,Gn.valuesIn=function(e){return null==e?[]:en(e,Ri(e))},Gn.without=ia,Gn.words=Ji,Gn.wrap=function(e,t){return Ua(vr(t),e)},Gn.xor=sa,Gn.xorBy=ua,Gn.xorWith=ca,Gn.zip=la,Gn.zipObject=function(e,t){return yr(e||[],t||[],tf)},Gn.zipObjectDeep=function(e,t){return yr(e||[],t||[],er)},Gn.zipWith=da,Gn.entries=Li,Gn.entriesIn=Gi,Gn.extend=Ai,Gn.extendWith=Ii,ss(Gn,Gn),Gn.add=gs,Gn.attempt=Zi,Gn.camelCase=ji,Gn.capitalize=Vi,Gn.ceil=vs,Gn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=yi(n))===n?n:0),t!==r&&(t=(t=yi(t))===t?t:0),sf(yi(e),t,n)},Gn.clone=function(e){return uf(e,4)},Gn.cloneDeep=function(e){return uf(e,5)},Gn.cloneDeepWith=function(e,t){return uf(e,5,t="function"==typeof t?t:r)},Gn.cloneWith=function(e,t){return uf(e,4,t="function"==typeof t?t:r)},Gn.conformsTo=function(e,t){return null==t||cf(e,t,Di(t))},Gn.deburr=$i,Gn.defaultTo=function(e,t){return null==e||e!==e?t:e},Gn.divide=Ts,Gn.endsWith=function(e,t,n){e=vi(e),t=cr(t);var f=e.length,o=n=n===r?f:sf(mi(n),0,f);return(n-=t.length)>=0&&e.slice(n,o)==t},Gn.eq=qa,Gn.escape=function(e){return(e=vi(e))&&X.test(e)?e.replace(Q,on):e},Gn.escapeRegExp=function(e){return(e=vi(e))&&oe.test(e)?e.replace(re,"\\$&"):e},Gn.every=function(e,t,n){var f=Wa(e)?Pt:mf;return n&&Ao(e,t,n)&&(t=r),f(e,uo(t,3))},Gn.find=ya,Gn.findIndex=$o,Gn.findKey=function(e,t){return qt(e,uo(t,3),Af)},Gn.findLast=ga,Gn.findLastIndex=Wo,Gn.findLastKey=function(e,t){return qt(e,uo(t,3),If)},Gn.floor=As,Gn.forEach=va,Gn.forEachRight=Ta,Gn.forIn=function(e,t){return null==e?e:vf(e,uo(t,3),Ri)},Gn.forInRight=function(e,t){return null==e?e:Tf(e,uo(t,3),Ri)},Gn.forOwn=function(e,t){return e&&Af(e,uo(t,3))},Gn.forOwnRight=function(e,t){return e&&If(e,uo(t,3))},Gn.get=Si,Gn.gt=ja,Gn.gte=Va,Gn.has=function(e,t){return null!=e&&yo(e,t,xf)},Gn.hasIn=xi,Gn.head=Ko,Gn.identity=rs,Gn.includes=function(e,t,n,f){e=Ka(e)?e:qi(e),n=n&&!f?mi(n):0;var r=e.length;return n<0&&(n=Yt(r+n,0)),si(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Vt(e,t,n)>-1},Gn.indexOf=function(e,t,n){var f=null==e?0:e.length;if(!f)return-1;var r=null==n?0:mi(n);return r<0&&(r=Yt(f+r,0)),Vt(e,t,r)},Gn.inRange=function(e,t,n){return t=hi(t),n===r?(n=t,t=0):n=hi(n),function(e,t,n){return e>=vn(t,n)&&e<Yt(t,n)}(e=yi(e),t,n)},Gn.invoke=Pi,Gn.isArguments=$a,Gn.isArray=Wa,Gn.isArrayBuffer=Ha,Gn.isArrayLike=Ka,Gn.isArrayLikeObject=Ya,Gn.isBoolean=function(e){return!0===e||!1===e||ni(e)&&kf(e)==T},Gn.isBuffer=Qa,Gn.isDate=za,Gn.isElement=function(e){return ni(e)&&1===e.nodeType&&!oi(e)},Gn.isEmpty=function(e){if(null==e)return!0;if(Ka(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||Qa(e)||ci(e)||$a(e)))return!e.length;var t=bo(e);if(t==C||t==_)return!e.size;if(Co(e))return!Nf(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Gn.isEqual=function(e,t){return Rf(e,t)},Gn.isEqualWith=function(e,t,n){var f=(n="function"==typeof n?n:r)?n(e,t):r;return f===r?Rf(e,t,r,n):!!f},Gn.isError=Xa,Gn.isFinite=function(e){return"number"==typeof e&&vt(e)},Gn.isFunction=Ja,Gn.isInteger=Za,Gn.isLength=ei,Gn.isMap=fi,Gn.isMatch=function(e,t){return e===t||Bf(e,t,lo(t))},Gn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,Bf(e,t,lo(t),n)},Gn.isNaN=function(e){return ri(e)&&e!=+e},Gn.isNative=function(e){if(wo(e))throw new ie("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mf(e)},Gn.isNil=function(e){return null==e},Gn.isNull=function(e){return null===e},Gn.isNumber=ri,Gn.isObject=ti,Gn.isObjectLike=ni,Gn.isPlainObject=oi,Gn.isRegExp=ai,Gn.isSafeInteger=function(e){return Za(e)&&e>=-9007199254740991&&e<=h},Gn.isSet=ii,Gn.isString=si,Gn.isSymbol=ui,Gn.isTypedArray=ci,Gn.isUndefined=function(e){return e===r},Gn.isWeakMap=function(e){return ni(e)&&bo(e)==R},Gn.isWeakSet=function(e){return ni(e)&&"[object WeakSet]"==kf(e)},Gn.join=function(e,t){return null==e?"":Tt.call(e,t)},Gn.kebabCase=Wi,Gn.last=Xo,Gn.lastIndexOf=function(e,t,n){var f=null==e?0:e.length;if(!f)return-1;var o=f;return n!==r&&(o=(o=mi(n))<0?Yt(f+o,0):vn(o,f-1)),t===t?function(e,t,n){for(var f=n+1;f--;)if(e[f]===t)return f;return f}(e,t,o):jt(e,Wt,o,!0)},Gn.lowerCase=Hi,Gn.lowerFirst=Ki,Gn.lt=li,Gn.lte=di,Gn.max=function(e){return e&&e.length?bf(e,rs,Sf):r},Gn.maxBy=function(e,t){return e&&e.length?bf(e,uo(t,2),Sf):r},Gn.mean=function(e){return Ht(e,rs)},Gn.meanBy=function(e,t){return Ht(e,uo(t,2))},Gn.min=function(e){return e&&e.length?bf(e,rs,Lf):r},Gn.minBy=function(e,t){return e&&e.length?bf(e,uo(t,2),Lf):r},Gn.stubArray=bs,Gn.stubFalse=ys,Gn.stubObject=function(){return{}},Gn.stubString=function(){return""},Gn.stubTrue=function(){return!0},Gn.multiply=Is,Gn.nth=function(e,t){return e&&e.length?$f(e,mi(t)):r},Gn.noConflict=function(){return mt._===this&&(mt._=Ge),this},Gn.noop=us,Gn.now=Sa,Gn.pad=function(e,t,n){e=vi(e);var f=(t=mi(t))?hn(e):0;if(!t||f>=t)return e;var r=(t-f)/2;return Wr(ht(r),n)+e+Wr(pt(r),n)},Gn.padEnd=function(e,t,n){e=vi(e);var f=(t=mi(t))?hn(e):0;return t&&f<t?e+Wr(t-f,n):e},Gn.padStart=function(e,t,n){e=vi(e);var f=(t=mi(t))?hn(e):0;return t&&f<t?Wr(t-f,n)+e:e},Gn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),An(vi(e).replace(ae,""),t||0)},Gn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Ao(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=hi(e),t===r?(t=e,e=0):t=hi(t)),e>t){var f=e;e=t,t=f}if(n||e%1||t%1){var o=In();return vn(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Qf(e,t)},Gn.reduce=function(e,t,n){var f=Wa(e)?Nt:Qt,r=arguments.length<3;return f(e,uo(t,4),n,r,pf)},Gn.reduceRight=function(e,t,n){var f=Wa(e)?Ut:Qt,r=arguments.length<3;return f(e,uo(t,4),n,r,hf)},Gn.repeat=function(e,t,n){return t=(n?Ao(e,t,n):t===r)?1:mi(t),zf(vi(e),t)},Gn.replace=function(){var e=arguments,t=vi(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Gn.result=function(e,t,n){var f=-1,o=(t=Tr(t,e)).length;for(o||(o=1,e=r);++f<o;){var a=null==e?r:e[Uo(t[f])];a===r&&(f=o,a=n),e=Ja(a)?a.call(e):a}return e},Gn.round=Es,Gn.runInContext=e,Gn.sample=function(e){return(Wa(e)?Xn:Jf)(e)},Gn.size=function(e){if(null==e)return 0;if(Ka(e))return si(e)?hn(e):e.length;var t=bo(e);return t==C||t==_?e.size:Nf(e).length},Gn.snakeCase=Yi,Gn.some=function(e,t,n){var f=Wa(e)?Lt:or;return n&&Ao(e,t,n)&&(t=r),f(e,uo(t,3))},Gn.sortedIndex=function(e,t){return ar(e,t)},Gn.sortedIndexBy=function(e,t,n){return ir(e,t,uo(n,2))},Gn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var f=ar(e,t);if(f<n&&qa(e[f],t))return f}return-1},Gn.sortedLastIndex=function(e,t){return ar(e,t,!0)},Gn.sortedLastIndexBy=function(e,t,n){return ir(e,t,uo(n,2),!0)},Gn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ar(e,t,!0)-1;if(qa(e[n],t))return n}return-1},Gn.startCase=Qi,Gn.startsWith=function(e,t,n){return e=vi(e),n=null==n?0:sf(mi(n),0,e.length),t=cr(t),e.slice(n,n+t.length)==t},Gn.subtract=ws,Gn.sum=function(e){return e&&e.length?zt(e,rs):0},Gn.sumBy=function(e,t){return e&&e.length?zt(e,uo(t,2)):0},Gn.template=function(e,t,n){var f=Gn.templateSettings;n&&Ao(e,t,n)&&(t=r),e=vi(e),t=Ii({},t,f,Zr);var o,a,i=Ii({},t.imports,f.imports,Zr),s=Di(i),u=en(i,s),c=0,l=t.interpolate||Ie,d="__p += '",p=Se((t.escape||Ie).source+"|"+l.source+"|"+(l===ee?he:Ie).source+"|"+(t.evaluate||Ie).source+"|$","g"),h="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(p,(function(t,n,f,r,i,s){return f||(f=r),d+=e.slice(c,s).replace(Ee,an),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),i&&(a=!0,d+="';\n"+i+";\n__p += '"),f&&(d+="' +\n((__t = ("+f+")) == null ? '' : __t) +\n'"),c=s+t.length,t})),d+="';\n";var m=Me.call(t,"variable")&&t.variable;if(m){if(de.test(m))throw new ie("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(W,""):d).replace(H,"$1").replace(K,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var b=Zi((function(){return we(s,h+"return "+d).apply(r,u)}));if(b.source=d,Xa(b))throw b;return b},Gn.times=function(e,t){if((e=mi(e))<1||e>h)return[];var n=b,f=vn(e,b);t=uo(t),e-=b;for(var r=Xt(f,t);++n<e;)t(n);return r},Gn.toFinite=hi,Gn.toInteger=mi,Gn.toLength=bi,Gn.toLower=function(e){return vi(e).toLowerCase()},Gn.toNumber=yi,Gn.toSafeInteger=function(e){return e?sf(mi(e),-9007199254740991,h):0===e?e:0},Gn.toString=vi,Gn.toUpper=function(e){return vi(e).toUpperCase()},Gn.trim=function(e,t,n){if((e=vi(e))&&(n||t===r))return Jt(e);if(!e||!(t=cr(t)))return e;var f=mn(e),o=mn(t);return Ir(f,nn(f,o),fn(f,o)+1).join("")},Gn.trimEnd=function(e,t,n){if((e=vi(e))&&(n||t===r))return e.slice(0,bn(e)+1);if(!e||!(t=cr(t)))return e;var f=mn(e);return Ir(f,0,fn(f,mn(t))+1).join("")},Gn.trimStart=function(e,t,n){if((e=vi(e))&&(n||t===r))return e.replace(ae,"");if(!e||!(t=cr(t)))return e;var f=mn(e);return Ir(f,nn(f,mn(t))).join("")},Gn.truncate=function(e,t){var n=30,f="...";if(ti(t)){var o="separator"in t?t.separator:o;n="length"in t?mi(t.length):n,f="omission"in t?cr(t.omission):f}var a=(e=vi(e)).length;if(sn(e)){var i=mn(e);a=i.length}if(n>=a)return e;var s=n-hn(f);if(s<1)return f;var u=i?Ir(i,0,s).join(""):e.slice(0,s);if(o===r)return u+f;if(i&&(s+=u.length-s),ai(o)){if(e.slice(s).search(o)){var c,l=u;for(o.global||(o=Se(o.source,vi(me.exec(o))+"g")),o.lastIndex=0;c=o.exec(l);)var d=c.index;u=u.slice(0,d===r?s:d)}}else if(e.indexOf(cr(o),s)!=s){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+f},Gn.unescape=function(e){return(e=vi(e))&&z.test(e)?e.replace(Y,yn):e},Gn.uniqueId=function(e){var t=++Fe;return vi(e)+t},Gn.upperCase=zi,Gn.upperFirst=Xi,Gn.each=va,Gn.eachRight=Ta,Gn.first=Ko,ss(Gn,function(){var e={};return Af(Gn,(function(t,n){Me.call(Gn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Gn.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Gn[e].placeholder=Gn})),Ot(["drop","take"],(function(e,t){$n.prototype[e]=function(n){n=n===r?1:Yt(mi(n),0);var f=this.__filtered__&&!t?new $n(this):this.clone();return f.__filtered__?f.__takeCount__=vn(n,f.__takeCount__):f.__views__.push({size:vn(n,b),type:e+(f.__dir__<0?"Right":"")}),f},$n.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,f=1==n||3==n;$n.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||f,t}})),Ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");$n.prototype[e]=function(){return this[n](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");$n.prototype[e]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(rs)},$n.prototype.find=function(e){return this.filter(e).head()},$n.prototype.findLast=function(e){return this.reverse().find(e)},$n.prototype.invokeMap=Xf((function(e,t){return"function"==typeof e?new $n(this):this.map((function(n){return Pf(n,e,t)}))})),$n.prototype.reject=function(e){return this.filter(Fa(uo(e)))},$n.prototype.slice=function(e,t){e=mi(e);var n=this;return n.__filtered__&&(e>0||t<0)?new $n(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=mi(t))<0?n.dropRight(-t):n.take(t-e)),n)},$n.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},$n.prototype.toArray=function(){return this.take(b)},Af($n.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),f=/^(?:head|last)$/.test(t),o=Gn[f?"take"+("last"==t?"Right":""):t],a=f||/^find/.test(t);o&&(Gn.prototype[t]=function(){var t=this.__wrapped__,i=f?[1]:arguments,s=t instanceof $n,u=i[0],c=s||Wa(t),l=function(e){var t=o.apply(Gn,Ft([e],i));return f&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,m=s&&!p;if(!a&&c){t=m?t:new $n(this);var b=e.apply(t,i);return b.__actions__.push({func:ha,args:[l],thisArg:r}),new Vn(b,d)}return h&&m?e.apply(this,i):(b=this.thru(l),h?f?b.value()[0]:b.value():b)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=_e[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",f=/^(?:pop|shift)$/.test(e);Gn.prototype[e]=function(){var e=arguments;if(f&&!this.__chain__){var r=this.value();return t.apply(Wa(r)?r:[],e)}return this[n]((function(n){return t.apply(Wa(n)?n:[],e)}))}})),Af($n.prototype,(function(e,t){var n=Gn[t];if(n){var f=n.name+"";Me.call(Pn,f)||(Pn[f]=[]),Pn[f].push({name:t,func:n})}})),Pn[qr(r,2).name]=[{name:"wrapper",func:r}],$n.prototype.clone=function(){var e=new $n(this.__wrapped__);return e.__actions__=_r(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=_r(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=_r(this.__views__),e},$n.prototype.reverse=function(){if(this.__filtered__){var e=new $n(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},$n.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wa(e),f=t<0,r=n?e.length:0,o=function(e,t,n){var f=-1,r=n.length;for(;++f<r;){var o=n[f],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=vn(t,e+a);break;case"takeRight":e=Yt(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,i=o.end,s=i-a,u=f?i:a-1,c=this.__iteratees__,l=c.length,d=0,p=vn(s,this.__takeCount__);if(!n||!f&&r==s&&p==s)return mr(e,this.__actions__);var h=[];e:for(;s--&&d<p;){for(var m=-1,b=e[u+=t];++m<l;){var y=c[m],g=y.iteratee,v=y.type,T=g(b);if(2==v)b=T;else if(!T){if(1==v)continue e;break e}}h[d++]=b}return h},Gn.prototype.at=ma,Gn.prototype.chain=function(){return pa(this)},Gn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Gn.prototype.next=function(){this.__values__===r&&(this.__values__=pi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Gn.prototype.plant=function(e){for(var t,n=this;n instanceof jn;){var f=Go(n);f.__index__=0,f.__values__=r,t?o.__wrapped__=f:t=f;var o=f;n=n.__wrapped__}return o.__wrapped__=e,t},Gn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof $n){var t=e;return this.__actions__.length&&(t=new $n(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ta],thisArg:r}),new Vn(t,this.__chain__)}return this.thru(ta)},Gn.prototype.toJSON=Gn.prototype.valueOf=Gn.prototype.value=function(){return mr(this.__wrapped__,this.__actions__)},Gn.prototype.first=Gn.prototype.head,Xe&&(Gn.prototype[Xe]=function(){return this}),Gn}();mt._=gn,(f=function(){return gn}.call(t,n,t,e))===r||(e.exports=f)}.call(this)},17679:(e,t,n)=>{var f=n(97578),r=n(2371),o=f.DEFAULT_COMPARATOR,a=f.reverseComparator;function i(e,t,n,f){for(var o,a=n,i=f,s=t[f],u=2*f+1;u<a;)(o=u+1)<a&&e(t[u],t[o])>=0&&(u=o),t[f]=t[u],u=2*(f=u)+1;t[f]=s,r.siftDown(e,t,i,f)}function s(e,t,n,f){for(var r,o,a=f,s=new e(f);a>0;)r=n[--a],0!==a&&(o=n[0],n[0]=r,i(t,n,--f,0),r=o),s[a]=r;return s}function u(e,t,n){if(2===arguments.length&&(n=t,t=null),this.ArrayClass=e,this.capacity=n,this.items=new e(n),this.clear(),this.comparator=t||o,"number"!==typeof n&&n<=0)throw new Error("mnemonist/FixedReverseHeap.constructor: capacity should be a number > 0.");if("function"!==typeof this.comparator)throw new Error("mnemonist/FixedReverseHeap.constructor: given comparator should be a function.");this.comparator=a(this.comparator)}u.prototype.clear=function(){this.size=0},u.prototype.push=function(e){return this.size<this.capacity?(this.items[this.size]=e,r.siftDown(this.comparator,this.items,0,this.size),this.size++):this.comparator(e,this.items[0])>0&&r.replace(this.comparator,this.items,e),this.size},u.prototype.peek=function(){return this.items[0]},u.prototype.consume=function(){var e=s(this.ArrayClass,this.comparator,this.items,this.size);return this.size=0,e},u.prototype.toArray=function(){return s(this.ArrayClass,this.comparator,this.items.slice(0,this.size),this.size)},u.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:u,enumerable:!1}),e},"undefined"!==typeof Symbol&&(u.prototype[Symbol.for("nodejs.util.inspect.custom")]=u.prototype.inspect),e.exports=u},2371:(e,t,n)=>{var f=n(81638),r=n(97578),o=n(13756),a=r.DEFAULT_COMPARATOR,i=r.reverseComparator;function s(e,t,n,f){for(var r,o,a=t[f];f>n&&e(a,o=t[r=f-1>>1])<0;)t[f]=o,f=r;t[f]=a}function u(e,t,n){for(var f,r=t.length,o=n,a=t[n],i=2*n+1;i<r;)(f=i+1)<r&&e(t[i],t[f])>=0&&(i=f),t[n]=t[i],i=2*(n=i)+1;t[n]=a,s(e,t,o,n)}function c(e,t,n){t.push(n),s(e,t,0,t.length-1)}function l(e,t){var n=t.pop();if(0!==t.length){var f=t[0];return t[0]=n,u(e,t,0),f}return n}function d(e,t,n){if(0===t.length)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var f=t[0];return t[0]=n,u(e,t,0),f}function p(e,t,n){var f;return 0!==t.length&&e(t[0],n)<0&&(f=t[0],t[0]=n,n=f,u(e,t,0)),n}function h(e,t){for(var n=t.length>>1;--n>=0;)u(e,t,n)}function m(e,t){for(var n=t.length,f=0,r=new Array(n);f<n;)r[f++]=l(e,t);return r}function b(e){if(this.clear(),this.comparator=e||a,"function"!==typeof this.comparator)throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}function y(e){if(this.clear(),this.comparator=e||a,"function"!==typeof this.comparator)throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=i(this.comparator)}b.prototype.clear=function(){this.items=[],this.size=0},b.prototype.push=function(e){return c(this.comparator,this.items,e),++this.size},b.prototype.peek=function(){return this.items[0]},b.prototype.pop=function(){return 0!==this.size&&this.size--,l(this.comparator,this.items)},b.prototype.replace=function(e){return d(this.comparator,this.items,e)},b.prototype.pushpop=function(e){return p(this.comparator,this.items,e)},b.prototype.consume=function(){return this.size=0,m(this.comparator,this.items)},b.prototype.toArray=function(){return m(this.comparator,this.items.slice())},b.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:b,enumerable:!1}),e},"undefined"!==typeof Symbol&&(b.prototype[Symbol.for("nodejs.util.inspect.custom")]=b.prototype.inspect),y.prototype=b.prototype,b.from=function(e,t){var n,f=new b(t);return n=o.isArrayLike(e)?e.slice():o.toArray(e),h(f.comparator,n),f.items=n,f.size=n.length,f},y.from=function(e,t){var n,f=new y(t);return n=o.isArrayLike(e)?e.slice():o.toArray(e),h(f.comparator,n),f.items=n,f.size=n.length,f},b.siftUp=u,b.siftDown=s,b.push=c,b.pop=l,b.replace=d,b.pushpop=p,b.heapify=h,b.consume=m,b.nsmallest=function(e,t,n){2===arguments.length&&(n=t,t=e,e=a);var r,s,u,c,l=i(e),p=1/0;if(1===t){if(o.isArrayLike(n)){for(r=0,s=n.length;r<s;r++)u=n[r],(p===1/0||e(u,p)<0)&&(p=u);return(c=new n.constructor(1))[0]=p,c}return f(n,(function(t){(p===1/0||e(t,p)<0)&&(p=t)})),[p]}if(o.isArrayLike(n)){if(t>=n.length)return n.slice().sort(e);for(c=n.slice(0,t),h(l,c),r=t,s=n.length;r<s;r++)l(n[r],c[0])>0&&d(l,c,n[r]);return c.sort(e)}var m=o.guessLength(n);return null!==m&&m<t&&(t=m),c=new Array(t),r=0,f(n,(function(e){r<t?c[r]=e:(r===t&&h(l,c),l(e,c[0])>0&&d(l,c,e)),r++})),c.length>r&&(c.length=r),c.sort(e)},b.nlargest=function(e,t,n){2===arguments.length&&(n=t,t=e,e=a);var r,s,u,c,l=i(e),p=-1/0;if(1===t){if(o.isArrayLike(n)){for(r=0,s=n.length;r<s;r++)u=n[r],(p===-1/0||e(u,p)>0)&&(p=u);return(c=new n.constructor(1))[0]=p,c}return f(n,(function(t){(p===-1/0||e(t,p)>0)&&(p=t)})),[p]}if(o.isArrayLike(n)){if(t>=n.length)return n.slice().sort(l);for(c=n.slice(0,t),h(e,c),r=t,s=n.length;r<s;r++)e(n[r],c[0])>0&&d(e,c,n[r]);return c.sort(l)}var m=o.guessLength(n);return null!==m&&m<t&&(t=m),c=new Array(t),r=0,f(n,(function(n){r<t?c[r]=n:(r===t&&h(e,c),e(n,c[0])>0&&d(e,c,n)),r++})),c.length>r&&(c.length=r),c.sort(l)},b.MinHeap=b,b.MaxHeap=y,e.exports=b},38826:(e,t,n)=>{var f=n(59120),r=n(81638);function o(){this.clear()}o.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},o.prototype.enqueue=function(e){return this.items.push(e),++this.size},o.prototype.dequeue=function(){if(this.size){var e=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,e}},o.prototype.peek=function(){if(this.size)return this.items[this.offset]},o.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var n=this.offset,f=0,r=this.items.length;n<r;n++,f++)e.call(t,this.items[n],f,this)},o.prototype.toArray=function(){return this.items.slice(this.offset)},o.prototype.values=function(){var e=this.items,t=this.offset;return new f((function(){if(t>=e.length)return{done:!0};var n=e[t];return t++,{value:n,done:!1}}))},o.prototype.entries=function(){var e=this.items,t=this.offset,n=0;return new f((function(){if(t>=e.length)return{done:!0};var f=e[t];return t++,{value:[n++,f],done:!1}}))},"undefined"!==typeof Symbol&&(o.prototype[Symbol.iterator]=o.prototype.values),o.prototype.toString=function(){return this.toArray().join(",")},o.prototype.toJSON=function(){return this.toArray()},o.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:o,enumerable:!1}),e},"undefined"!==typeof Symbol&&(o.prototype[Symbol.for("nodejs.util.inspect.custom")]=o.prototype.inspect),o.from=function(e){var t=new o;return r(e,(function(e){t.enqueue(e)})),t},o.of=function(){return o.from(arguments)},e.exports=o},97578:(e,t)=>{t.DEFAULT_COMPARATOR=function(e,t){return e<t?-1:e>t?1:0},t.DEFAULT_REVERSE_COMPARATOR=function(e,t){return e<t?1:e>t?-1:0},t.reverseComparator=function(e){return function(t,n){return e(n,t)}},t.createTupleComparator=function(e){return 2===e?function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:e[1]<t[1]?-1:e[1]>t[1]?1:0}:function(t,n){for(var f=0;f<e;){if(t[f]<n[f])return-1;if(t[f]>n[f])return 1;f++}return 0}}},13756:(e,t,n)=>{var f=n(81638),r=n(20310);function o(e){return"number"===typeof e.length?e.length:"number"===typeof e.size?e.size:void 0}t.isArrayLike=function(e){return Array.isArray(e)||r.isTypedArray(e)},t.guessLength=o,t.toArray=function(e){var t=o(e),n="number"===typeof t?new Array(t):[],r=0;return f(e,(function(e){n[r++]=e})),n},t.toArrayWithIndices=function(e){var t=o(e),n="number"===typeof t?r.getPointerArray(t):Array,a="number"===typeof t?new Array(t):[],i="number"===typeof t?new n(t):[],s=0;return f(e,(function(e){a[s]=e,i[s]=s++})),[a,i]}},20310:(e,t)=>{var n=Math.pow(2,8)-1,f=Math.pow(2,16)-1,r=Math.pow(2,32)-1,o=Math.pow(2,7)-1,a=Math.pow(2,15)-1,i=Math.pow(2,31)-1;t.getPointerArray=function(e){var t=e-1;if(t<=n)return Uint8Array;if(t<=f)return Uint16Array;if(t<=r)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},t.getSignedPointerArray=function(e){var t=e-1;return t<=o?Int8Array:t<=a?Int16Array:t<=i?Int32Array:Float64Array},t.getNumberType=function(e){return e===(0|e)?-1===Math.sign(e)?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var s={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};t.getMinimalRepresentation=function(e,n){var f,r,o,a,i,u=null,c=0;for(a=0,i=e.length;a<i;a++)o=n?n(e[a]):e[a],r=t.getNumberType(o),(f=s[r.name])>c&&(c=f,u=r);return u},t.isTypedArray=function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView(e)},t.concat=function(){var e,t,n,f=0;for(e=0,n=arguments.length;e<n;e++)f+=arguments[e].length;var r=new arguments[0].constructor(f);for(e=0,t=0;e<n;e++)r.set(arguments[e],t),t+=arguments[e].length;return r},t.indices=function(e){for(var n=new(t.getPointerArray(e))(e),f=0;f<e;f++)n[f]=f;return n}},32252:function(e,t,n){(function(){(e.exports=n(62691)).version="5.1.2"}).call(this)},62691:function(e,t,n){var f=n(93325).hp;(function(){var t,r,o=[].splice,a=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")},i=[].indexOf;r=n(32129),t=n(28981).EventEmitter,e.exports=function(){class e extends t{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.get=this.get.bind(this),this.mget=this.mget.bind(this),this.set=this.set.bind(this),this.mset=this.mset.bind(this),this.del=this.del.bind(this),this.take=this.take.bind(this),this.ttl=this.ttl.bind(this),this.getTtl=this.getTtl.bind(this),this.keys=this.keys.bind(this),this.has=this.has.bind(this),this.getStats=this.getStats.bind(this),this.flushAll=this.flushAll.bind(this),this.flushStats=this.flushStats.bind(this),this.close=this.close.bind(this),this._checkData=this._checkData.bind(this),this._check=this._check.bind(this),this._isInvalidKey=this._isInvalidKey.bind(this),this._wrap=this._wrap.bind(this),this._getValLength=this._getValLength.bind(this),this._error=this._error.bind(this),this._initErrors=this._initErrors.bind(this),this.options=e,this._initErrors(),this.data={},this.options=Object.assign({forceString:!1,objectValueSize:80,promiseValueSize:80,arrayValueSize:40,stdTTL:0,checkperiod:600,useClones:!0,deleteOnExpire:!0,enableLegacyCallbacks:!1,maxKeys:-1},this.options),this.options.enableLegacyCallbacks&&(console.warn("WARNING! node-cache legacy callback support will drop in v6.x"),["get","mget","set","del","ttl","getTtl","keys","has"].forEach((e=>{var t;t=this[e],this[e]=function(){for(var e=arguments.length,n=new Array(e),f=0;f<e;f++)n[f]=arguments[f];var r,a;if(a=n,[...n]=a,[r]=o.call(n,-1),"function"!==typeof r)return t(...n,r);try{r(null,t(...n))}catch(i){r(i)}}}))),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.validKeyTypes=["string","number"],this._checkData()}get(t){var n;if(a(this,e),null!=(n=this._isInvalidKey(t)))throw n;return null!=this.data[t]&&this._check(t,this.data[t])?(this.stats.hits++,this._unwrap(this.data[t])):void this.stats.misses++}mget(t){var n,f,r,o,i;if(a(this,e),!Array.isArray(t))throw this._error("EKEYSTYPE");for(i={},f=0,o=t.length;f<o;f++){if(r=t[f],null!=(n=this._isInvalidKey(r)))throw n;null!=this.data[r]&&this._check(r,this.data[r])?(this.stats.hits++,i[r]=this._unwrap(this.data[r])):this.stats.misses++}return i}set(t,n,f){var r,o;if(a(this,e),this.options.maxKeys>-1&&this.stats.keys>=this.options.maxKeys)throw this._error("ECACHEFULL");if(this.options.forceString,null==f&&(f=this.options.stdTTL),null!=(r=this._isInvalidKey(t)))throw r;return o=!1,this.data[t]&&(o=!0,this.stats.vsize-=this._getValLength(this._unwrap(this.data[t],!1))),this.data[t]=this._wrap(n,f),this.stats.vsize+=this._getValLength(n),o||(this.stats.ksize+=this._getKeyLength(t),this.stats.keys++),this.emit("set",t,n),!0}mset(t){var n,f,r,o,i,s,u,c,l;if(a(this,e),this.options.maxKeys>-1&&this.stats.keys+t.length>=this.options.maxKeys)throw this._error("ECACHEFULL");for(f=0,s=t.length;f<s;f++){if(i=t[f],({key:o,val:l,ttl:c}=i),c&&"number"!==typeof c)throw this._error("ETTLTYPE");if(null!=(n=this._isInvalidKey(o)))throw n}for(r=0,u=t.length;r<u;r++)i=t[r],({key:o,val:l,ttl:c}=i),this.set(o,l,c);return!0}del(t){var n,f,r,o,i,s;for(a(this,e),Array.isArray(t)||(t=[t]),n=0,r=0,i=t.length;r<i;r++){if(o=t[r],null!=(f=this._isInvalidKey(o)))throw f;null!=this.data[o]&&(this.stats.vsize-=this._getValLength(this._unwrap(this.data[o],!1)),this.stats.ksize-=this._getKeyLength(o),this.stats.keys--,n++,s=this.data[o],delete this.data[o],this.emit("del",o,s.v))}return n}take(t){var n;return a(this,e),null!=(n=this.get(t))&&this.del(t),n}ttl(t,n){var f;if(a(this,e),n||(n=this.options.stdTTL),!t)return!1;if(null!=(f=this._isInvalidKey(t)))throw f;return!(null==this.data[t]||!this._check(t,this.data[t]))&&(n>=0?this.data[t]=this._wrap(this.data[t].v,n,!1):this.del(t),!0)}getTtl(t){var n;if(a(this,e),t){if(null!=(n=this._isInvalidKey(t)))throw n;return null!=this.data[t]&&this._check(t,this.data[t])?this.data[t].t:void 0}}keys(){return a(this,e),Object.keys(this.data)}has(t){return a(this,e),null!=this.data[t]&&this._check(t,this.data[t])}getStats(){return a(this,e),this.stats}flushAll(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a(this,e),this.data={},this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this._killCheckPeriod(),this._checkData(t),this.emit("flush")}flushStats(){a(this,e),this.stats={hits:0,misses:0,keys:0,ksize:0,vsize:0},this.emit("flush_stats")}close(){a(this,e),this._killCheckPeriod()}_checkData(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var n,f,r;for(n in a(this,e),f=this.data)r=f[n],this._check(n,r);t&&this.options.checkperiod>0&&(this.checkTimeout=setTimeout(this._checkData,1e3*this.options.checkperiod,t),null!=this.checkTimeout&&null!=this.checkTimeout.unref&&this.checkTimeout.unref())}_killCheckPeriod(){if(null!=this.checkTimeout)return clearTimeout(this.checkTimeout)}_check(t,n){var f;return a(this,e),f=!0,0!==n.t&&n.t<Date.now()&&(this.options.deleteOnExpire&&(f=!1,this.del(t)),this.emit("expired",t,this._unwrap(n))),f}_isInvalidKey(t){var n;if(a(this,e),n=typeof t,i.call(this.validKeyTypes,n)<0)return this._error("EKEYTYPE",{type:typeof t})}_wrap(t,n){let f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var o;return a(this,e),this.options.useClones||(f=!1),o=Date.now(),{t:0===n?0:n?o+1e3*n:0===this.options.stdTTL?this.options.stdTTL:o+1e3*this.options.stdTTL,v:f?r(t):t}}_unwrap(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.options.useClones||(t=!1),null!=e.v?t?r(e.v):e.v:null}_getKeyLength(e){return e.toString().length}_getValLength(t){return a(this,e),"string"===typeof t?t.length:this.options.forceString?JSON.stringify(t).length:Array.isArray(t)?this.options.arrayValueSize*t.length:"number"===typeof t?8:"function"===typeof(null!=t?t.then:void 0)?this.options.promiseValueSize:("undefined"!==typeof f&&null!==f?f.isBuffer(t):void 0)?t.length:null!=t&&"object"===typeof t?this.options.objectValueSize*Object.keys(t).length:"boolean"===typeof t?8:0}_error(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var f;return a(this,e),(f=new Error).name=t,f.errorcode=t,f.message=null!=this.ERRORS[t]?this.ERRORS[t](n):"-",f.data=n,f}_initErrors(){var t,n,f;for(n in a(this,e),this.ERRORS={},f=this._ERRORS)t=f[n],this.ERRORS[n]=this.createErrorMessage(t)}createErrorMessage(e){return function(t){return e.replace("__key",t.type)}}}return e.prototype._ERRORS={ENOTFOUND:"Key `__key` not found",ECACHEFULL:"Cache max keys amount exceeded",EKEYTYPE:"The key argument has to be of type `string` or `number`. Found: `__key`",EKEYSTYPE:"The keys argument has to be an array.",ETTLTYPE:"The ttl argument has to be a number."},e}.call(this)}).call(this)},81638:(e,t,n)=>{var f=n(80699),r=f.ARRAY_BUFFER_SUPPORT,o=f.SYMBOL_SUPPORT;e.exports=function(e,t){var n,f,a,i,s;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if("function"!==typeof t)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||r&&ArrayBuffer.isView(e)||"string"===typeof e||"[object Arguments]"===e.toString())for(a=0,i=e.length;a<i;a++)t(e[a],a);else if("function"!==typeof e.forEach)if(o&&Symbol.iterator in e&&"function"!==typeof e.next&&(e=e[Symbol.iterator]()),"function"!==typeof e.next)for(f in e)e.hasOwnProperty(f)&&t(e[f],f);else for(n=e,a=0;!0!==(s=n.next()).done;)t(s.value,a),a++;else e.forEach(t)}},59120:e=>{function t(e){if("function"!==typeof e)throw new Error("obliterator/iterator: expecting a function!");this.next=e}"undefined"!==typeof Symbol&&(t.prototype[Symbol.iterator]=function(){return this}),t.of=function(){var e=arguments,n=e.length,f=0;return new t((function(){return f>=n?{done:!0}:{done:!1,value:e[f++]}}))},t.empty=function(){return new t((function(){return{done:!0}}))},t.fromSequence=function(e){var n=0,f=e.length;return new t((function(){return n>=f?{done:!0}:{done:!1,value:e[n++]}}))},t.is=function(e){return e instanceof t||"object"===typeof e&&null!==e&&"function"===typeof e.next},e.exports=t},80699:(e,t)=>{t.ARRAY_BUFFER_SUPPORT="undefined"!==typeof ArrayBuffer,t.SYMBOL_SUPPORT="undefined"!==typeof Symbol},371:(e,t,n)=>{e.exports=n(58397)},58397:(e,t,n)=>{var f=n(61347);t.operation=function(e){var n=t.timeouts(e);return new f(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var f=[],r=0;r<t.retries;r++)f.push(this.createTimeout(r,t));return e&&e.forever&&!f.length&&f.push(this.createTimeout(r,t)),f.sort((function(e,t){return e-t})),f},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,f=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return f=Math.min(f,t.maxTimeout)},t.wrap=function(e,n,f){if(n instanceof Array&&(f=n,n=null),!f)for(var r in f=[],e)"function"===typeof e[r]&&f.push(r);for(var o=0;o<f.length;o++){var a=f[o],i=e[a];e[a]=function(f){var r=t.operation(n),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push((function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),a.apply(this,arguments))})),r.attempt((function(){f.apply(e,o)}))}.bind(e,i),e[a].options=n}}},61347:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var f=this;return this._timer=setTimeout((function(){f._attempts++,f._operationTimeoutCb&&(f._timeout=setTimeout((function(){f._operationTimeoutCb(f._attempts)}),f._operationTimeout),f._options.unref&&f._timeout.unref()),f._fn(f._attempts)}),n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,f=0;f<this._errors.length;f++){var r=this._errors[f],o=r.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=r,n=a)}return t}},54354:(e,t,n)=>{"use strict";e.exports.numbers=r,e.exports.sum=a,e.exports.mean=i,e.exports.median=function(e){if(0===(e=r(e)).length)return NaN;var t=e.length/2|0;return(e=o(e)).length%2?e[t]:(e[t-1]+e[t])/2},e.exports.mode=function(e){if(0===(e=r(e)).length)return NaN;for(var t,n={},f=0;f<e.length;f++){var o=e[f],a=n[o]||0;a++,n[o]=a}var i=r(Object.keys(n).sort((function(e,t){return n[t]-n[e]})));if(t=i[0],n[i[1]]==n[t]){if(i.length==e.length)return e;var s=new Set([t]),u=n[t];for(f=1;f<i.length&&n[i[f]]==u;f++)s.add(i[f]);return s}return t},e.exports.variance=u,e.exports.sampleVariance=c,e.exports.populationVariance=u,e.exports.stdev=l,e.exports.sampleStdev=function(e){return Math.sqrt(c(e))},e.exports.populationStdev=l,e.exports.percentile=function(e,t){if(0===(e=r(e)).length||null==t||t<0)return NaN;t>1&&(t=1);var n=(e=o(e)).length*t-.5;if((0|n)===n)return e[n];var f=0|n,a=n-f;return(1-a)*e[f]+a*e[Math.min(f+1,e.length-1)]},e.exports.histogram=function(e,t){if(null==e)return null;if(0===(e=o(r(e))).length)return null;null==t&&(t=Math.sqrt(e.length));(t=Math.round(t))<1&&(t=1);var n=e[0],f=e[e.length-1];n===f&&(n-=.5,f+=.5);var a=f-n,i=(a+.05*a)/t,s=(n+f)/2,u=s-i*Math.floor(t/2);if(t%2!==0)u=s-i/2-i*Math.floor(t/2);for(var c={values:Array(t).fill(0),bins:t,binWidth:i,binLimits:[u,u+i*t]},l=0,d=0;d<e.length;d++){for(;e[d]>(l+1)*i+u;)l++;c.values[l]++}return c};var f=n(89673);function r(e){var t=[];if(null==e)return t;for(var n=0;n<e.length;n++)f(e[n])&&t.push(+e[n]);return t}function o(e){return e.sort((function(e,t){return e-t}))}function a(e){e=r(e);for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function i(e){return 0===(e=r(e)).length?NaN:a(e)/e.length}function s(e){for(var t=i(e=r(e)),n=[],f=0;f<e.length;f++)n.push(Math.pow(e[f]-t,2));return n}function u(e){return i(s(e))}function c(e){var t=s(e);return t.length<=1?NaN:a(t)/(t.length-1)}function l(e){return Math.sqrt(u(e))}},7808:(e,t,n)=>{"use strict";n.r(t),n.d(t,{print:()=>p});const f="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o=10,a=2;function i(e,t){switch(r(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(f)];if("function"===typeof t)return t;if("function"===typeof e.inspect)return e.inspect}(e);if(void 0!==r){var s=r.call(e);if(s!==e)return"string"===typeof s?s:i(s,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>a)return"[Array]";for(var n=Math.min(o,e.length),f=e.length-n,r=[],s=0;s<n;++s)r.push(i(e[s],t));1===f?r.push("... 1 more item"):f>1&&r.push("... ".concat(f," more items"));return"["+r.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>a)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){var n=e.constructor.name;if("string"===typeof n&&""!==n)return n}return t}(e)+"]";var f=n.map((function(n){return n+": "+i(e[n],t)}));return"{ "+f.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function s(e){var t=e.prototype.toJSON;"function"===typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,f&&(e.prototype[f]=t)}function u(e){return null!=e&&"string"===typeof e.kind}s(function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}()),s(function(){function e(e,t,n,f,r,o,a){this.kind=e,this.start=t,this.end=n,this.line=f,this.column=r,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}());var c={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},l=Object.freeze({});function d(e,t,n){var f=e[t];if(f){if(!n&&"function"===typeof f)return f;var r=n?f.leave:f.enter;if("function"===typeof r)return r}else{var o=n?e.leave:e.enter;if(o){if("function"===typeof o)return o;var a=o[t];if("function"===typeof a)return a}}}function p(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,f=void 0,r=Array.isArray(e),o=[e],a=-1,s=[],p=void 0,h=void 0,m=void 0,b=[],y=[],g=e;do{var v=++a===o.length,T=v&&0!==s.length;if(v){if(h=0===y.length?void 0:b[b.length-1],p=m,m=y.pop(),T){if(r)p=p.slice();else{for(var A={},I=0,E=Object.keys(p);I<E.length;I++){var w=E[I];A[w]=p[w]}p=A}for(var C=0,k=0;k<s.length;k++){var S=s[k][0],x=s[k][1];r&&(S-=C),r&&null===x?(p.splice(S,1),C++):p[S]=x}}a=f.index,o=f.keys,s=f.edits,r=f.inArray,f=f.prev}else{if(h=m?r?a:o[a]:void 0,null===(p=m?m[h]:g)||void 0===p)continue;m&&b.push(h)}var O,_=void 0;if(!Array.isArray(p)){if(!u(p))throw new Error("Invalid AST Node: ".concat(i(p,[]),"."));var P=d(t,p.kind,v);if(P){if((_=P.call(t,p,h,m,b,y))===l)break;if(!1===_){if(!v){b.pop();continue}}else if(void 0!==_&&(s.push([h,_]),!v)){if(!u(_)){b.pop();continue}p=_}}}void 0===_&&T&&s.push([h,p]),v?b.pop():(f={inArray:r,index:a,keys:o,edits:s,prev:f},o=(r=Array.isArray(p))?p:null!==(O=n[p.kind])&&void 0!==O?O:[],a=-1,s=[],m&&y.push(m),m=p)}while(void 0!==f);return 0!==s.length&&(g=s[s.length-1][1]),g}(e,{leave:h})}var h={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return b(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,f=g("(",b(e.variableDefinitions,", "),")"),r=b(e.directives," "),o=e.selectionSet;return n||r||f||"query"!==t?b([t,b([n,f]),r,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,f=e.defaultValue,r=e.directives;return t+": "+n+g(" = ",f)+g(" ",b(r," "))},SelectionSet:function(e){return y(e.selections)},Field:function(e){var t=e.alias,n=e.name,f=e.arguments,r=e.directives,o=e.selectionSet,a=g("",t,": ")+n,i=a+g("(",b(f,", "),")");return i.length>80&&(i=a+g("(\n",v(b(f,"\n")),"\n)")),b([i,b(r," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+g(" ",b(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,f=e.selectionSet;return b(["...",g("on ",t),b(n," "),f]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,f=e.variableDefinitions,r=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(g("(",b(f,", "),")")," ")+"on ".concat(n," ").concat(g("",b(r," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=-1===e.indexOf("\n"),r=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],i=!f||o||a||n,s="";return!i||f&&r||(s+="\n"+t),s+=t?e.replace(/\n/g,"\n"+t):e,i&&(s+="\n"),'"""'+s.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+b(e.values,", ")+"]"},ObjectValue:function(e){return"{"+b(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+g("(",b(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:m((function(e){var t=e.directives,n=e.operationTypes;return b(["schema",b(t," "),y(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:m((function(e){return b(["scalar",e.name,b(e.directives," ")]," ")})),ObjectTypeDefinition:m((function(e){var t=e.name,n=e.interfaces,f=e.directives,r=e.fields;return b(["type",t,g("implements ",b(n," & ")),b(f," "),y(r)]," ")})),FieldDefinition:m((function(e){var t=e.name,n=e.arguments,f=e.type,r=e.directives;return t+(A(n)?g("(\n",v(b(n,"\n")),"\n)"):g("(",b(n,", "),")"))+": "+f+g(" ",b(r," "))})),InputValueDefinition:m((function(e){var t=e.name,n=e.type,f=e.defaultValue,r=e.directives;return b([t+": "+n,g("= ",f),b(r," ")]," ")})),InterfaceTypeDefinition:m((function(e){var t=e.name,n=e.interfaces,f=e.directives,r=e.fields;return b(["interface",t,g("implements ",b(n," & ")),b(f," "),y(r)]," ")})),UnionTypeDefinition:m((function(e){var t=e.name,n=e.directives,f=e.types;return b(["union",t,b(n," "),f&&0!==f.length?"= "+b(f," | "):""]," ")})),EnumTypeDefinition:m((function(e){var t=e.name,n=e.directives,f=e.values;return b(["enum",t,b(n," "),y(f)]," ")})),EnumValueDefinition:m((function(e){return b([e.name,b(e.directives," ")]," ")})),InputObjectTypeDefinition:m((function(e){var t=e.name,n=e.directives,f=e.fields;return b(["input",t,b(n," "),y(f)]," ")})),DirectiveDefinition:m((function(e){var t=e.name,n=e.arguments,f=e.repeatable,r=e.locations;return"directive @"+t+(A(n)?g("(\n",v(b(n,"\n")),"\n)"):g("(",b(n,", "),")"))+(f?" repeatable":"")+" on "+b(r," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return b(["extend schema",b(t," "),y(n)]," ")},ScalarTypeExtension:function(e){return b(["extend scalar",e.name,b(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,f=e.directives,r=e.fields;return b(["extend type",t,g("implements ",b(n," & ")),b(f," "),y(r)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,f=e.directives,r=e.fields;return b(["extend interface",t,g("implements ",b(n," & ")),b(f," "),y(r)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,f=e.types;return b(["extend union",t,b(n," "),f&&0!==f.length?"= "+b(f," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,f=e.values;return b(["extend enum",t,b(n," "),y(f)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,f=e.fields;return b(["extend input",t,b(n," "),y(f)]," ")}};function m(e){return function(t){return b([t.description,e(t)],"\n")}}function b(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null===e||void 0===e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function y(e){return g("{\n",v(b(e,"\n")),"\n}")}function g(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function v(e){return g("  ",e.replace(/\n/g,"\n  "))}function T(e){return-1!==e.indexOf("\n")}function A(e){return null!=e&&e.some(T)}},64198:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}}]);